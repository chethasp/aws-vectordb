Summary,Issue key,Issue id,Issue Type,Status,Project key,Project name,Project type,Project lead,Project lead id,Project description,Priority,Resolution,Assignee,Assignee Id,Reporter,Reporter Id,Creator,Creator Id,Created,Updated,Last Viewed,Resolved,Due date,Votes,Labels,Description,Environment,Watchers,Watchers,Watchers,Watchers,Watchers Id,Watchers Id,Watchers Id,Watchers Id,Original estimate,Remaining Estimate,Time Spent,Work Ratio,Σ Original Estimate,Σ Remaining Estimate,Σ Time Spent,Security Level,Inward issue link (Duplicate),Outward issue link (Duplicate),Outward issue link (Relates),Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Custom field (Accessibility needs),Custom field (Affected hardware),Custom field (Affected services),Custom field (Approvals),Custom field (Atlassian project),Custom field (Atlassian project status),Custom field (Backout plan),Custom field (Category),Custom field (Change completion date),Custom field (Change reason),Custom field (Change risk),Custom field (Change start date),Custom field (Change type),Custom field (City),Custom field (Comments),Custom field (Company email address),Custom field (Date of birth),Custom field (Delivery progress),Custom field (Delivery status),Custom field (Department),Custom field (Development),Custom field (Employee ID),Custom field (Employee location),Custom field (Employment type),Custom field (Environment),Custom field (Epic Color),Custom field (Epic Name),Custom field (Epic Status),Custom field (First name),Custom field (Goals),Custom field (Hardware serial number),Custom field (Idea archived),Custom field (Idea archived on),Custom field (Impact),Custom field (Impact),Custom field (Implementation plan),Custom field (Insights),Custom field (Investigation reason),Custom field (Issue color),Custom field (Job title),Custom field (Laptop model),Custom field (Laptop serial number),Custom field (Last name),Custom field (Last working day),Custom field (Linked items),Custom field (Locked forms),Custom field (Mailing address),Custom field (Major incident),Custom field (Middle name),Custom field (Open forms),Custom field (Operational categorization),Custom field (Organizations),Custom field (Organizations),Custom field (Pending reason),Custom field (Personal email address),Custom field (Planned end),Custom field (Planned start),Custom field (Product categorization),Custom field (Product(s)),Custom field (Product(s)),Custom field (Project overview key),Custom field (Project overview status),Custom field (Provide Steps to Reproduce),Custom field (Rank),Custom field (Region),Custom field (Request Type),Custom field (Request language),Custom field (Request participants),Custom field (Request participants),Custom field (Request participants),Custom field (Request participants),Custom field (Request participants),Custom field (Residential status),Custom field (Resignation date),Custom field (Responders),Custom field (Role),Custom field (Root cause),Satisfaction rating,Custom field (Satisfaction date),Custom field (Sentiment),Custom field (Severity),Custom field (Source),Custom field (Start date),Custom field (Start date),Custom field (Story Points),Custom field (Story point estimate),Custom field (Submitted forms),Custom field (Target Time Frame),Custom field (Target end),Custom field (Target start),Custom field (Team),Custom field (Team),Custom field (Test plan),Custom field (Time to close after resolution),Custom field (Time to first response),Custom field (Time to resolution),Custom field (Time to review normal change),Custom field (Total forms),Custom field (Urgency),Custom field (Version),Custom field (Vulnerability),Custom field (Work category),Custom field (Workaround),Custom field ([CHART] Date of First Response),Custom field ([CHART] Time in Status),Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Status Category,Status Category Changed
Extension ideas for CashOutGiftCardState,JMCH-997,24829,Support,Waiting for support,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Jae Lee,5b31005f2713c12dccac315d,Jae Lee,5b31005f2713c12dccac315d,11/Jul/25 3:47 PM,11/Jul/25 3:47 PM,,,,0,,"Implement error handling and appropriate messaging when a customer fails to either enter the correct pin or enter no pin at all for the gift card cash out on the PIN pad for US/PR/CA.



The POS message before PIN is only applicable for scenarios where the GC was manually entered / scanned. In case of GC swipe, the following message will be displayed on the POS when the pin-pad is waiting on a pin: 
“*Customer interaction required*
Ask the customer to insert/swipe/tap their card or device on the PIN Pad…”
Button: Cancel



to change most of this messaging based on the pin, we’d need to extend the CashOutGiftCardState. Unfortunately pretty much everything in this class is private and not extensible, so that would require copying the entire base class to make the changes.



Does JMC support this extension/will increase access modifiers on the private methods?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@350a5677,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Logic,,,,,,,Point of Sale,,,,,1|i015az:,,Question,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,243.10,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,11/Jul/25 3:47 PM
Merge Request Members Program Screen,JMCH-996,24818,Bug,Researching,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Ann-Katherine Johnson,712020:d4626b4e-9ff3-475f-9c6e-8509649cd509,Manish Kumar Deo,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:54d93821-b805-4ca1-846c-d471e207362a,Manish Kumar Deo,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:54d93821-b805-4ca1-846c-d471e207362a,11/Jul/25 2:16 PM,11/Jul/25 2:22 PM,11/Jul/25 3:46 PM,,,0,,"Hi JM Team,

We have created Pull Requests in the commerce-client repository. Could you please review and approve the changes?

[https://github.com/JumpMind/commerce/pull/97|https://github.com/JumpMind/commerce/pull/97|smart-link] 

[https://github.com/JumpMind/commerce/pull/94|https://github.com/JumpMind/commerce/pull/94|smart-link] 

[https://github.com/JumpMind/commerce/pull/100|https://github.com/JumpMind/commerce/pull/100|smart-link] 

Thanks,

Manish Kumar Deo",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@4b6f431c,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 2 (High),,,,,,,,,,,,,,,,,,Petco,,,,,,,Point of Sale,,,,No steps required.,1|i0158r:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,5:55,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,11/Jul/25 2:16 PM
Transaction number skips when jmc-fixed service restarts,JMCH-994,24805,Bug,Acknowledged,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Jae Lee,5b31005f2713c12dccac315d,Jae Lee,5b31005f2713c12dccac315d,11/Jul/25 1:48 PM,11/Jul/25 1:53 PM,,,,0,,"There appears to be a missing transaction in the sales records—no transaction was created in the POS system. it is base issue

*Store:* 2513
*Register:* 3

The last recorded transaction is *3298*, and the next available transaction is *3300*, indicating that *transaction 3299 is missing*.

Please refer to the attached log for further details.",,,,,,,,,,,,,,,,,,,,,11/Jul/25 1:48 PM;5b31005f2713c12dccac315d;commerce-fixed-2025-06-18.1.log;https://jumpmind.atlassian.net/rest/api/3/attachment/content/26065,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@592de185,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Logic,,,,,,,Point of Sale,,,," after *3298* transaction, the application rebooted then the transaction number got incremented to *3300* instead of *3299*",1|i0156r:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,7:54,,,,,243.6.3,,,,,,11/Jul/25 1:48 PM;5b31005f2713c12dccac315d;[^commerce-fixed-2025-06-18.1.log],,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,11/Jul/25 1:48 PM
Customer searches (that should return results) are failing causing associates to have to search repeatedly and/or create the customer again. ,JMCH-990,24794,Bug,Acknowledged,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Ram Gudimetla,712020:81396143-7792-4b40-ade8-25c7762bdf26,Linda Fothergill,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c,Linda Fothergill,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c,11/Jul/25 10:03 AM,11/Jul/25 12:20 PM,11/Jul/25 10:16 AM,,,0,,It seems that behind the scenes when a list of matching customers based on search criteria is found instead of returning the list the code then goes and retrieves a bunch more info on each customer that is only needed and should only be searched for the customer selected from the list.  I’ll add a comment with screen shots of one such search that failed even though it could have returned a list of customers to the associate to select correct customer from. ,,Aakash Patel,,,,712020:1e31b905-2797-45c2-b5ac-e31ef7818f38,,,,,,,,,,,,,,,11/Jul/25 10:07 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250711-140345.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/26052,11/Jul/25 10:07 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250711-140409.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/26046,11/Jul/25 10:07 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250711-140429.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/26051,11/Jul/25 10:07 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250711-140449.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/26049,11/Jul/25 10:07 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250711-140511.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/26053,11/Jul/25 10:07 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250711-140532.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/26048,11/Jul/25 10:07 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250711-140601.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/26047,11/Jul/25 10:07 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250711-140623.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/26050,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@119c2230,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Reitman's Canada Limited,,,,,,,Point of Sale,,,,"Not 100% reproducible but stores are reporting many occurrences of failed searches where search criteria is correct and the customer does exist. 

Basically they search a customer (Ex. in the comment I’ll add with screen shots the search was with a first/last name) with valid criteria that should return customer record(s) to select from. 

Instead they do not get any results. 

You will see in the comment example it found a list of customers but instead of returning that list to the associate to select from the code then went to try to return info for each customer in that list and failed.  ",1|i0154b:,,Technical Issue,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa),,,,,,,,,,,,,,,,,,,,,,,,,7:45,,,,,241.0.33-,,,,2025-07-11 16:20:20.125,,"11/Jul/25 10:07 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;Example from Production:

!image-20250711-140345.png|width=862,height=230,alt=""image-20250711-140345.png""!

!image-20250711-140409.png|width=720,height=126,alt=""image-20250711-140409.png""!

!image-20250711-140429.png|width=259,height=50,alt=""image-20250711-140429.png""!

!image-20250711-140449.png|width=1479,height=141,alt=""image-20250711-140449.png""!

!image-20250711-140511.png|width=838,height=66,alt=""image-20250711-140511.png""!

!image-20250711-140532.png|width=1341,height=562,alt=""image-20250711-140532.png""!

!image-20250711-140601.png|width=811,height=156,alt=""image-20250711-140601.png""!

!image-20250711-140623.png|width=1490,height=534,alt=""image-20250711-140623.png""!

","11/Jul/25 12:20 PM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;Currently, when an associate performs a customer search, the system correctly identifies multiple matching customers. However, instead of returning this list immediately for user selection, the backend proceeds to make additional SOAP calls for each customer in the list , retrieving address, segmentation, and attribute details preemptively.

This results in unnecessary calls *before the user even selects a customer*, and if *any one of these calls fails*, the entire response fails, no results are shown to the associate. This leads to a situation where valid customers seem ""not found,"" and associates end up repeating searches or creating duplicates.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,11/Jul/25 10:03 AM
Styles with a size 0 SKU and size 00 SKU is seeing only one of the sizes displayed in the dropdown when using the product search ,JMCH-988,24717,Bug,Researching,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Ann-Katherine Johnson,712020:d4626b4e-9ff3-475f-9c6e-8509649cd509,Linda Fothergill,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c,Linda Fothergill,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c,10/Jul/25 12:51 PM,11/Jul/25 3:30 PM,11/Jul/25 3:45 PM,,,0,,"Styles with a size 0 SKU and size 00 SKU is seeing only one of the sizes displayed in the dropdown when using the product search.  So unless the associate knows the SKU of the missing size they cannot know that size exists, they can’t add it for store order nor can they see inventory in the other stores in their area. 

It is also not always the same size that is not seen.  for Style A it might be size 0 and Style B it might be size 00",,Aakash Patel,Nathan Richardson,Ram Gudimetla,,712020:1e31b905-2797-45c2-b5ac-e31ef7818f38,5c8fc1cd627d3b2d0163b7f1,712020:81396143-7792-4b40-ade8-25c7762bdf26,,,,,,,,,,,,,10/Jul/25 4:29 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;Itm_Item.csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/26008,10/Jul/25 4:29 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;Itm_Product.csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/26004,10/Jul/25 4:29 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;Itm_inq_attribute.csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/26005,10/Jul/25 12:47 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250710-164707.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25976,10/Jul/25 12:53 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250710-165225.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25978,10/Jul/25 12:53 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250710-165305.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25977,10/Jul/25 12:53 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250710-165342.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25979,10/Jul/25 4:29 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;image001.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/26007,10/Jul/25 4:29 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;itm_inq_attribute_product_val.csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/26006,10/Jul/25 4:29 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;itm_inq_attributeitem_val.csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/26009,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@150cfcd,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Reitman's Canada Limited,,,,,,,Inventory,Point of Sale,,,"Production example is Style 459075 (but reproducible in QA) 

Size 00 SKU = 35487814

In jumpmind in the product search we see the size 00 but size 0 is not in the dropdown.

Size 0 SKU = 35487827

When I search size 0 I see missing resource in the size dropdown

Both SKUs are in the table itm_inq_attribute_item_val",1|i014yb:,,Technical Issue,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa),,,,,,,,,,,,,,,,,,,,,,,,7:22,,,,,241.0.33,,,,2025-07-10 17:39:37.214,,10/Jul/25 12:51 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;!image-20250710-164707.png|thumbnail!,"10/Jul/25 12:53 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;Size 00 SKU = 35487814



!image-20250710-165305.png|width=1515,height=297,alt=""image-20250710-165305.png""!



Size 0 SKU = 35487827

!image-20250710-165225.png|width=1517,height=286,alt=""image-20250710-165225.png""!

Both SKUs are in the table itm_inq_attribute_item_val



!image-20250710-165342.png|width=849,height=411,alt=""image-20250710-165342.png""!

",10/Jul/25 1:39 PM;5c8fc1cd627d3b2d0163b7f1;[~accountid:712020:1e31b905-2797-45c2-b5ac-e31ef7818f38] see what you can figure out with this one and then once you have triaged if you don’t have an answer then please assign to [~accountid:712020:d4626b4e-9ff3-475f-9c6e-8509649cd509] to continue investigation.,"10/Jul/25 2:27 PM;712020:81396143-7792-4b40-ade8-25c7762bdf26;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c] As per your notes database is showing 2 entries one for 0 and other for 00.
But when you try to ring 00 one it is not showing up. Did you have 0 and 00 sizes previously? or this something new you are trying. Please let me know. Will be looking further.","10/Jul/25 2:40 PM;712020:81396143-7792-4b40-ade8-25c7762bdf26;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c] please execute the following SQLs and let us know.

{{select * from itm_item where item_id in ('35487814','35487827'); }}


{{select * from itm_product where product_id in (select product_id from itm_item where item_id in ('35487814','35487827')); }}

{{select * from itm_inq_attribute; }}

{{select * from itm_inq_attribute_item_val where item_id in (select item_id from itm_item where product_id in (select product_id from itm_item where item_id in ('35487814','35487827'))); }}

{{select * from itm_inq_attribute_product_val where product_id in (select product_id from itm_item where item_id in ('35487814','35487827'));}}",10/Jul/25 2:43 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;It is normal apparently to have both size 0 and size 00.  ,"10/Jul/25 4:29 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;Hi Ram, 

  

Here is results of each of the listed queries. Note all data is present and accurate. This seems to be a issue with the front end screen somewhat not able to handle 0,00 together. 

  

   

Fabrizio Rossi  {color:#172B4D}| it EXPERT LEAD | i.t. Retail SYSTEMS{color} 

[frossi@REITMANS.COM|mailto:frossi@REITMANS.COM]{color:#172B4D}{color}{color:#172B4D}{color}  {color:#172B4D}|{color} {color:#172B4D}T{color}{color:#172B4D} 514.384.1140{color} {color:#172B4D}::{color}{color:#172B4D} 2{color}3340 {color:#172B4D}|{color} {color:#172B4D}W{color}{color:#172B4D}{color} WWW.REITMANS.cA{color:#172B4D}{color} 

  

{color:#172B4D}250, RUE SAUVÉ OUEST / WEST, MONTRÉAL (QUÉBEC) CANADA H3L 1Z2{color} 

!image001.png|thumbnail!

[^Itm_Product.csv] _(0.4 kB)_

[^Itm_inq_attribute.csv] _(1 kB)_

[^itm_inq_attribute_product_val.csv] _(0.6 kB)_

[^Itm_Item.csv] _(0.7 kB)_

[^itm_inq_attributeitem_val.csv] _(24 kB)_","11/Jul/25 3:30 PM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;Hello [~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0], [~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c] , we were unable to point the issue with provided data. Can you please provide us all you ‘itm*’ tables(csv dump). 
Let us know if you need any help with SQL query.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,10/Jul/25 12:51 PM
Store 220 - POS #1 device stuck on Cash Deposit prompt,JMCH-987,24668,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Yvan Claveau,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa,Yvan Claveau,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa,09/Jul/25 1:29 PM,10/Jul/25 3:30 PM,,,,0,,"Store 220 is stuck on the “pickup for deposit - cad” prompt since last night when closing till on their pos #1. Nothing we’ve done has taken the screen away, and same prompt is stuck for ourselves when connecting a browser session to this device. Other devices are still functional despite not having properly closed last night and opened this morning.",,Automation for Jira,Henglin Wang,Nathan Richardson,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:e5b5ad7e-62d4-4865-986d-20a2966755ae,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,09/Jul/25 1:29 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;0220_stuck_device.csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25922,09/Jul/25 1:28 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;image-20250709-172839.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25921,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@10670323,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 2 (High),,,,,,,,,,,,,,,,,,Reitman's Canada Limited,,,,,,,Point of Sale,,,,Issue reproducible from browser session.,1|i014p7:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,5:27,,,,,241.0.31,,,,2025-07-10 19:25:17.399,,"09/Jul/25 1:29 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;[^0220_stuck_device.csv]

!image-20250709-172839.png|thumbnail!",10/Jul/25 9:38 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;After running pipeline overnight was able to see on browser session that cash deposit prompt was no longer stuck on the POS screen and the device did respond to login and menu inputs. Will wait for store to confirm physically later this morning.,10/Jul/25 3:25 PM;712020:e5b5ad7e-62d4-4865-986d-20a2966755ae;try to reproduce,"10/Jul/25 3:25 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-8054.

This issue will now need to go through Planning.",10/Jul/25 3:30 PM;712020:e5b5ad7e-62d4-4865-986d-20a2966755ae;Jira created on JMC side,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,09/Jul/25 1:29 PM
With the deprecation of tax exempt code from the ItemModel the suggested update now allows the tax override option to appear on the item level options when it didn't previously,JMCH-986,24666,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Nathan Richardson,5c8fc1cd627d3b2d0163b7f1,Nathan Richardson,5c8fc1cd627d3b2d0163b7f1,09/Jul/25 1:18 PM,09/Jul/25 1:19 PM,,,,0,,"When tax_exempt_code = 1 in itm_item and an item with that setting was added to a transaction basket the line item options would not show the tax override option yet all other lines would.  Since this field is being deprecated the recommendation was to set this field to 0 and add a tax group for exempt/0% however doing this now the tax override option is showing on these specific items when it should not.

The work-around is to continue to use the deprecated field set to 1 for now until a fix is available.",,Automation for Jira,Nathan Richardson,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@52f23ac4,,,,,,,,,,,,,,,,,,,,,Non-Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Bath & Body Works,Logic,,,,,,Point of Sale,,,,"Add an item that has tax_exempt_code = 1 to a transaction basket select the ellipse for item options and note Tax Override is not an option.

update that tax_exempt_code = 0 and assign the tax_group_id to a 0% tax group (per deprecation suggestion) 

Add this item to a basket and note the item options now includes the Tax Override option.",1|i014or:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,7:59,,,,,243.10,,,,2025-07-09 17:19:16.763,,"09/Jul/25 1:19 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-8027.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,09/Jul/25 1:18 PM
Report buttons doesn't use setEnabled(false),JMCH-980,24626,Support,Waiting for customer,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,Jae Lee,5b31005f2713c12dccac315d,Jae Lee,5b31005f2713c12dccac315d,08/Jul/25 10:34 AM,09/Jul/25 12:18 PM,,,,0,,"Report button in image 8 doesnt seem to use/support the enabled flag in the ActionItem model. Setting it to enabled = false doesnt seem to grey out the option in the report selection form. 

Is there a different way to perform this action? ",,Jason Menefee,,,,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,,,,,,,,,,,,,,,08/Jul/25 10:33 AM;5b31005f2713c12dccac315d;image 6.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25832,08/Jul/25 10:33 AM;5b31005f2713c12dccac315d;image 7.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25831,08/Jul/25 10:33 AM;5b31005f2713c12dccac315d;image 8.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25830,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@25e9b7c3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Bath & Body Works,Logic,,,,,,Point of Sale,,,,,1|i014hf:,,Question,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,243.10.0,,,,2025-07-09 16:18:41.876,,"08/Jul/25 10:34 AM;5b31005f2713c12dccac315d;!image 6.png|thumbnail!

!image 7.png|thumbnail!

!image 8.png|thumbnail!",09/Jul/25 12:18 PM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;Could you please provide some more context for us around what you are trying to do and why?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,08/Jul/25 10:34 AM
the 'X' button on various prompts overlaps with header text on the prompt on some resolution/scale,JMCH-978,24584,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Jae Lee,5b31005f2713c12dccac315d,Jae Lee,5b31005f2713c12dccac315d,07/Jul/25 4:14 PM,09/Jul/25 3:33 PM,,,,0,,Text is overlapping with (X) Close Functionality on Customer lookup screen,,Aakash Patel,Automation for Jira,,,712020:1e31b905-2797-45c2-b5ac-e31ef7818f38,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,,,,,,,,,,,,,,07/Jul/25 4:14 PM;5b31005f2713c12dccac315d;image 3.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25795,07/Jul/25 4:14 PM;5b31005f2713c12dccac315d;image 4.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25797,07/Jul/25 4:14 PM;5b31005f2713c12dccac315d;image 5.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25796,07/Jul/25 4:34 PM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;image-20250707-203455.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25799,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@27de560c,,,,,,,,,,,,,,,,,,,,,Non-Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Bath & Body Works,Logic,,,,,,Point of Sale,,,,"Step to reproduce

1.Log in to the LR Store

# From Home page select Sell > Customer look up screen display
# Verify On Customer look up screen Text is overlapping with (X ) Close functionality

Open image (6).png

# Scan Sku on Sell > click Tander > Select Cash

Or select split Tander and select Card

# Tander amount screen display
# Verify Tander amount text is Overlapping with  (X ) Close functionality

!image-20250707-203455.png|width=360,height=285,alt=""image-20250707-203455.png""!",1|i014eb:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,7:28,,,,,243.10.0,,,,2025-07-07 20:45:42.33,,"07/Jul/25 4:14 PM;5b31005f2713c12dccac315d;!image 3.png|thumbnail!

!image 4.png|thumbnail!

!image 5.png|thumbnail!","07/Jul/25 4:45 PM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;[~accountid:712020:a783ca19-9b70-462e-9e4e-f5b4741af810] - In  *v243.10.0*, header text within several modal prompts , such as *Tender Amount*, *Rewards Lookup*, and *Customer Lookup* , is *visually overlapping with the Close (X) icon* when the system display is set to *150% scaling*.",07/Jul/25 4:49 PM;5b31005f2713c12dccac315d;[https://bathandbodyworks.atlassian.net/browse/POS-5934|https://bathandbodyworks.atlassian.net/browse/POS-5934],"09/Jul/25 3:32 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-8029.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,07/Jul/25 4:14 PM
No Error message when phone/email is not found on Lookup prompt.,JMCH-977,24583,Bug,Acknowledged,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Jae Lee,5b31005f2713c12dccac315d,Jae Lee,5b31005f2713c12dccac315d,07/Jul/25 4:12 PM,08/Jul/25 8:02 AM,,,,0,,"*Environment found:* QA store 2508.0.177 | 243.10.0

*Store#/Reg#/Business Date: 81532 / 001 / 07022025*

*Transaction#:* 81532001321907022025

In 243.6 build: see image 1

In 243.10 build: see image 2",,Aakash Patel,,,,712020:1e31b905-2797-45c2-b5ac-e31ef7818f38,,,,,,,,,,,,,,,07/Jul/25 4:11 PM;5b31005f2713c12dccac315d;image 1.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25790,07/Jul/25 4:11 PM;5b31005f2713c12dccac315d;image 2.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25791,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@7259ebc0,,,,,,,,,,,,,,,,,,,,,Non-Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Bath & Body Works,Logic,,,,,,Point of Sale,,,,"+Steps to Reproduce:+

# Log into Low Risk QA store# 1532
# Enter new phone number and select “Search”

*Actual Results:* No error message displays and “New Member” button enabled.

*Expected Results:* “No Results found. Edit or search again, or select another option” test should display and the button label should be “Add New Customer”",1|i014e3:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,7:43,,,,,243.10,,,,2025-07-07 20:28:36.096,,"07/Jul/25 4:12 PM;5b31005f2713c12dccac315d;!image 1.png|thumbnail!

!image 2.png|thumbnail!","07/Jul/25 4:28 PM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;[~accountid:712020:a783ca19-9b70-462e-9e4e-f5b4741af810] -

* In build 243.10.0, when searching for a phone/email/ID(for Rewards) that does not exist, the system:

       Fails to show an error message like “No results found.”

This was working fine in 243.6",07/Jul/25 4:48 PM;5b31005f2713c12dccac315d;[https://bathandbodyworks.atlassian.net/browse/POS-5931|https://bathandbodyworks.atlassian.net/browse/POS-5931|smart-link] ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,07/Jul/25 4:12 PM
Devices | Wedge scanner stops working,JMCH-975,24541,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,07/Jul/25 2:16 PM,08/Jul/25 7:12 AM,,,,0,,"BBW is having an issue where their wedge scanners stop working in the middle of the day. Their scanner still beeps, but the input does not make it to the POS. Frequency of the issue is 3-4 per day on weekdays and 6-7 on weekends. That’s pretty rare considering that they have over 10,000 registers in operation.

Notes and observations:

* Verified that config is set to wedge scanner and JPOS scanner is disabled
* Had them try scanning in Notepad while the store is experiencing the issue. We do see that the scanned data appears as expected with the “*” prefix and the enter key
* I asked them to try typing “*123<ENTER>” with the keyboard to see how/if the POS responds. Waiting for results of this test. 
* When a store calls in with the issue, they restart the machine and the issue is resolved. Pranay believes that just restarting the client isn’t enough to resolve the issue, but they are going to experiment the next time that the issue is reported.
* I noticed this error in the client log just before the reported scanner issue. Logic has reviewed more logs after I pointed this out and saw that many of them had the same error, but not all.
{noformat}2025-05-10 14:09:47.552 ERROR [qtp1552901747-82283] [80606-002] ERROR; {} 
2025-05-10 14:09:47.552 ERROR [qtp1552901747-82283] [80606-002] [OpenPOS] Cannot read properties of undefined (reading 'key'); {}{noformat}
* The attached logs are the ones where I first noticed the error in the client log. More logs available upon request.
Transaction details: 80606-002:3442396:20250510:1635
Time when navigated to sale screen after adding customer: 2025-05-10 14:10:54.925

[^commerce-fixed-2025-05-10.4.log]
[^commerce-client-2025-05-10.0.log]

",,Automation for Jira,Jason Menefee,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,,,,,,,,,,,,,,07/Jul/25 2:17 PM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;commerce-client-2025-05-10.0.log;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25784,07/Jul/25 2:17 PM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;commerce-fixed-2025-05-10.4.log;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25785,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@34470e29,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Bath & Body Works,,,,,,,,,,,,1|i0148z:,,Report a bug,English,5b31005f2713c12dccac315d(5b31005f2713c12dccac315d),,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2025-07-07 18:18:50.58,,"07/Jul/25 2:18 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7979.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,07/Jul/25 2:16 PM
Questions for translating translations.properties file into a sql file,JMCH-973,24538,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Jae Lee,5b31005f2713c12dccac315d,Jae Lee,5b31005f2713c12dccac315d,07/Jul/25 1:44 PM,09/Jul/25 12:21 PM,07/Jul/25 4:09 PM,,,0,,"Upgrade from JMC version 243.6.3 to 243.10  



1) What is an effective way to implement a new line (\n) in translation values, considering they have to be stored in the database now? The standard  i.e. ‘\n’ is not functioning as expected.  



2) Additionally, the fallback for locale is not operational. Although we have set the fallbackLocale in application base, it has not resolved the issue. 



I observed that a new method was introduced in version .10, which appears to be causing problems with the fallback. 

This method is called as: 

return new i18nPatternInfo(base, pattern, isMissingResource(bundle, loc), loc, null);.  



private boolean isMissingResource(ResourceBundle bundle, Locale loc) {     

    Locale fallbackLoc = toLocale(fallbackLocale);     

    return !bundle.getLocale().equals(loc) && !loc.equals(fallbackLoc); 

}



 When I utilize an alternative overloaded version: 

return new i18nPatternInfo(base, pattern, loc, null); (as in previous versions), it works correctly.  



Could you please clarify whether this is a bug and if its ok to use the overloaded method?",,Aakash Patel,Automation for Jira,Jason Menefee,,712020:1e31b905-2797-45c2-b5ac-e31ef7818f38,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@3b4001b,,,,,,,,,,,,,,,,,,,,,Non-Production,,,,,,,,,,,,,,,,,,,,,,,,,,,Bath & Body Works,Logic,,,,,,Point of Sale,,,,,1|i0148j:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,243.10.0,,,,2025-07-07 18:13:38.48,,"07/Jul/25 2:13 PM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;Customer reports two issues after upgrading to 243.10:

# {{\n}} in translation values isn't rendering correctly in DB-backed translations.
# Fallback locale is not working. New {{isMissingResource()}} logic seems to block fallback. Older method works.

Needs confirmation if this is a bug or expected change.",07/Jul/25 4:47 PM;5b31005f2713c12dccac315d;[https://bathandbodyworks.atlassian.net/browse/POS-5884|https://bathandbodyworks.atlassian.net/browse/POS-5884|smart-link] ,"08/Jul/25 11:20 AM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;[~accountid:5b31005f2713c12dccac315d] 

# _What is an effective way to implement a new line (\n) in translation values, considering they have to be stored in the database now? The standard  i.e. ‘\n’ is not functioning as expected._

Can you give us an example of where you intend to use the /n? We do support raw html in the translation values, so that may be an option.

# _Additionally, the fallback for locale is not operational. Although we have set the fallbackLocale in application base, it has not resolved the issue._ 

This is a bug. I’m opening up a dev ticket for this issue.","08/Jul/25 11:24 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-8010.

This issue will now need to go through Planning.","08/Jul/25 11:46 AM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;[~accountid:5b31005f2713c12dccac315d] 

# _What is an effective way to implement a new line (\n) in translation values, considering they have to be stored in the database now? The standard  i.e. ‘\n’ is not functioning as expected._

This may just be a difference in behavior between H2 and Postgres. My understanding is that postgres will replace /n in strings with an actual line feed (this is what we want), but H2 will not. It might just be an issue for devs running locally in IntelliJ","08/Jul/25 12:53 PM;5b31005f2713c12dccac315d;hey Jason, we tried running the sql on postgres, it is displaying the whole “\n” without replacing it with line feed. ",09/Jul/25 12:21 PM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;Jae and I did some more digging and found that adding actual line feeds to the UPDATE statements instead of “/N” works. I’m going to leave the ticket open to track the base fix for fallback locale.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,07/Jul/25 1:44 PM
Publisher central instance not starting after 243.10 migration,JMCH-972,24537,Bug,Waiting for customer,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,Jae Lee,5b31005f2713c12dccac315d,Jae Lee,5b31005f2713c12dccac315d,07/Jul/25 1:43 PM,11/Jul/25 1:32 PM,,,,0,,"We created a new publisher build using 243.10 base jmc release to deploy and test, and while trying to deploy it, we are seeing an error. The azure pod doesn't start up. Seeing the following error  (combined from similar events): Error: container create failed: time=""2025-07-02T20:54:07Z"" level=error msg=""runc create failed: unable to start container process: exec: \""/jumpmind/commerce-java-wrapper.sh\"": stat /jumpmind/commerce-java-wrapper.sh: no such file or directory""  Using an image created from 243.6.3 release works, no changes to publisher was made on our end other than the base release upgrade.  2506.0.211 working (see image 3)  2508.0.151 not working (see image 4)  Setting to high as this is blocking our testing, we need to deploy the new publisher to prod soon to handle all the converted store's publishing payloads.",,Aakash Patel,Automation for Jira,Jason Menefee,,712020:1e31b905-2797-45c2-b5ac-e31ef7818f38,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,,,,,,,,,,,,,07/Jul/25 1:43 PM;5b31005f2713c12dccac315d;image (3).png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25780,07/Jul/25 1:43 PM;5b31005f2713c12dccac315d;image (4).png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25781,10/Jul/25 3:06 PM;5b31005f2713c12dccac315d;image-20250710-190553.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25993,10/Jul/25 3:09 PM;5b31005f2713c12dccac315d;image-20250710-190926.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25994,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@319a9bca,,,,,,,,,,,,,,,,,,,,,Non-Production,,,,,,,,,Priority 2 (High),,,,,,,,,,,,,,,,,,Bath & Body Works,Logic,,,,,,Point of Sale,,,,deployed publisher using same pipeline we have been for previous releases. no change in steps,1|i0148b:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,6:00,,,,,243.10.0,,,,2025-07-07 18:08:29.56,,"07/Jul/25 1:43 PM;5b31005f2713c12dccac315d;!image (3).png|thumbnail!

!image (4).png|thumbnail!","07/Jul/25 2:08 PM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;Customer is unable to start the Publisher Central instance after upgrading to the 243.10 base JMC release. The Azure pod fails to start due to a missing entrypoint script:

{{Error: exec: ""/jumpmind/commerce-java-wrapper.sh"": stat /jumpmind/commerce-java-wrapper.sh: no such file or directory }}

No changes were made to their deployment pipeline or publisher configs except for upgrading the base image. Previous versions (e.g., 243.6.3 / 2506.0.211) work fine, while the issue occurs with 243.10 / 2508.0.151.

They did not provide any logs, should we ask them to dump logs?","07/Jul/25 3:15 PM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;[~accountid:5b31005f2713c12dccac315d] , from our devops wizard:

I'd probably start by pulling that image locally and checking the contents:

I'm going to truncate some of the image path because all I have is screenshots so I can't copy and paste but it would look something like:(And this can be replaced with {{podman}} if thats what they likely use)

{noformat}docker run -it --entrypoint bash quay.hq.bbwcorp.com/....:2508.0.181{noformat}

It should drop them into a shell sitting in the {{/jumpmind}} directory, so you can {{ls -la}} and ensure that the {{commerce-java-wrapper.sh}} file is sitting there. I'd be interested in this output too. They run on OpenShift, which does some funny things, so it might be an issue there, but I would expect the exact same issue with POS too.",07/Jul/25 4:48 PM;5b31005f2713c12dccac315d;No BBW ticket for this atm. Will run the commands and update,"07/Jul/25 4:48 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ",10/Jul/25 1:58 PM;5b31005f2713c12dccac315d;This is happening for pos app as well,"10/Jul/25 1:58 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ","10/Jul/25 3:06 PM;5b31005f2713c12dccac315d;

!image-20250710-190553.png|width=800,height=554,alt=""image-20250710-190553.png""!



PS C:\Users\Spulimamidi> podman pull [quay.hq.bbwcorp.com/bbw_stores_jumpmind/jumpmind-pos-nonprod:2509.0.11|http://quay.hq.bbwcorp.com/bbw_stores_jumpmind/jumpmind-pos-nonprod:2509.0.11]
Trying to pull [quay.hq.bbwcorp.com/bbw_stores_jumpmind/jumpmind-pos-nonprod:2509.0.11|http://quay.hq.bbwcorp.com/bbw_stores_jumpmind/jumpmind-pos-nonprod:2509.0.11]...
Getting image source signatures
Copying blob sha256:ffe7ad29f238766092f37e42fb42c59bafd75a18bfee25b06d34ae2b7ede6c1c
Copying blob sha256:588cdfa01b5fc1e6dc40715bccdd2e04605b07691ab139387490f856577ddf33
Copying blob sha256:331c984fea037d578f784e3f1b0b67611dd0dede10558dcf19009658f4907809
Copying blob sha256:ff1e666fa1bed6c0b9561fa49362f0d4f8b89950e29c856f297860ab12b72910
Copying blob sha256:a8257af2ad9b2b65880d21f36567cf057dc146ac3bfeff6a5113ca5391c22b76
Copying blob sha256:7daf69be95ec977ee097268b1a9f1738162b0a028b5b57d6754e467ab3e7b794
Copying blob sha256:c08bdf951ae98134a9dba101c2ceb47dda1df94cb1b037fdfb07c9c8429d7ffa
Copying blob sha256:0d4e8422b5cbee85092f8548d7a5e7d0ae6f96d4f59aa85ef661e7bc15ad43c7
Copying blob sha256:51eeb06797bbf9e50a4138ec83f5d29d4bd994ed6a9b62cdd97bf63db32223e9
Copying blob sha256:3d101ed2f7d70993da44373b786a9f28fb9cc50c7aeda16b4d8a40f2668f03f4
Copying config sha256:f22b540a54c597bb32ea0a5ce852a0d0b8ebd79c957f5decfaa9d04878e2541a
Writing manifest to image destination
f22b540a54c597bb32ea0a5ce852a0d0b8ebd79c957f5decfaa9d04878e2541a
PS C:\Users\Spulimamidi> podman images
REPOSITORY                                                                          TAG         IMAGE ID      CREATED       SIZE
[quay.hq.bbwcorp.com/bbw_stores_jumpmind/jumpmind-pos-nonprod|http://quay.hq.bbwcorp.com/bbw_stores_jumpmind/jumpmind-pos-nonprod]                        2509.0.11   f22b540a54c5  3 hours ago   534 MB
us-east5-docker.pkg.dev/jumpmind-customer-bbw/commerce-container-virtual/publisher  243.10.0    b61b5b3b5232  2 weeks ago   408 MB
[quay.hq.bbwcorp.com/bbw_stores_jumpmind/jumpmind-quickloader-prod|http://quay.hq.bbwcorp.com/bbw_stores_jumpmind/jumpmind-quickloader-prod]                   243.9.1     8e502804d7b6  6 weeks ago   469 MB
[quay.hq.bbwcorp.com/bbw_stores_jumpmind/jumpmind-quickloader-nonprod|http://quay.hq.bbwcorp.com/bbw_stores_jumpmind/jumpmind-quickloader-nonprod]                243.9.1     8e502804d7b6  6 weeks ago   469 MB
[quay.hq.bbwcorp.com/bbw_stores_jumpmind/jumpmind-central-prod|http://quay.hq.bbwcorp.com/bbw_stores_jumpmind/jumpmind-central-prod]                       243.9.1     d47ed8db1093  6 weeks ago   568 MB
[quay.hq.bbwcorp.com/bbw_stores_jumpmind/jumpmind-central-nonprod|http://quay.hq.bbwcorp.com/bbw_stores_jumpmind/jumpmind-central-nonprod]                    243.9.1     d47ed8db1093  6 weeks ago   568 MB
[quay.hq.bbwcorp.com/bbw_stores_jumpmind/jumpmind-symds-prod|http://quay.hq.bbwcorp.com/bbw_stores_jumpmind/jumpmind-symds-prod]                         243.9.1     c530289b4975  6 weeks ago   511 MB
[quay.hq.bbwcorp.com/bbw_stores_jumpmind/jumpmind-symds-nonprod|http://quay.hq.bbwcorp.com/bbw_stores_jumpmind/jumpmind-symds-nonprod]                      243.9.1     c530289b4975  6 weeks ago   511 MB
[quay.hq.bbwcorp.com/bbw_stores_jumpmind/jumpmind-vertex-prod|http://quay.hq.bbwcorp.com/bbw_stores_jumpmind/jumpmind-vertex-prod]                        243.9.1     5c72ef82d989  6 weeks ago   477 MB
[quay.hq.bbwcorp.com/bbw_stores_jumpmind/jumpmind-vertex-nonprod|http://quay.hq.bbwcorp.com/bbw_stores_jumpmind/jumpmind-vertex-nonprod]                     243.9.1     5c72ef82d989  6 weeks ago   477 MB
[quay.hq.bbwcorp.com/bbw_digital_engineering/node18.20.3-alpine3.19-cus-user|http://quay.hq.bbwcorp.com/bbw_digital_engineering/node18.20.3-alpine3.19-cus-user]         07          425a5526db02  9 months ago  143 MB
PS C:\Users\Spulimamidi> podman run -it --entrypoint sh [quay.hq.bbwcorp.com/bbw_stores_jumpmind/jumpmind-pos-nonprod:2509.0.11|http://quay.hq.bbwcorp.com/bbw_stores_jumpmind/jumpmind-pos-nonprod:2509.0.11]
/jumpmind $ ls -la
total 24
drwxr-xr-x    1 root     root          4096 Jul 10 16:19 .
dr-xr-xr-x    1 root     root          4096 Jul 10 19:03 ..
drwxr-xr-x    4 root     root          4096 Jul 10 16:19 base
drwxr-xr-x    1 root     root          4096 Jul 15  2024 javaagent
drwxrwxr-x    2 jumpmind root          4096 Jul 10 16:19 logs
drwxrwxr-x    2 jumpmind root          4096 Jul 10 16:19 tmp
/jumpmind $ cd javaagent/
/jumpmind/javaagent $ ls -la
total 12
drwxr-xr-x    1 root     root          4096 Jul 15  2024 .
drwxr-xr-x    1 root     root          4096 Jul 10 16:19 ..
drwxr-xr-x    1 root     root          4096 Jul 15  2024 otel

","10/Jul/25 3:09 PM;5b31005f2713c12dccac315d;pos is missing the file. however we DO see it in publisher. retesting deploying publisher now



!image-20250710-190926.png|width=1480,height=527,alt=""image-20250710-190926.png""!

",11/Jul/25 1:32 PM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;Have been working with [~accountid:5b31005f2713c12dccac315d] via slack. We suspect that the base image (commerce-jre:17-alpine) in BBW’s repo is an older version. Jae is looking into it and has the pods running with a workaround of adding the commerce-java-wrapper.sh file manually.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,07/Jul/25 1:43 PM
Inventory: Removal of Document,JMCH-971,24536,Bug,Acknowledged,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Edita Vanetsian,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac,Edita Vanetsian,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac,07/Jul/25 1:40 PM,08/Jul/25 7:27 AM,07/Jul/25 4:17 PM,,,0,,Missing an option to cancel a document. If a store receives a document of any kind but then they never get the shipment for whatever reason - how do we go about cancelling the document/removing without receiving any items? Is this something that can be done at the store level and/or internally at the database level?,,Aakash Patel,,,,712020:1e31b905-2797-45c2-b5ac-e31ef7818f38,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@128de13a,,,,,,,,,,,,,,,,,,,,,Non-Production,,,,,,,,,Priority 2 (High),,,,,,,,,,,,,,,,,,Makira,The Paper Store,,,,,,Inventory,,,,"Go to inventory, try to cancel a document",1|i01483:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,5:36,,,,,243.6.2,,,,2025-07-07 18:04:16.706,,"07/Jul/25 2:04 PM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;Customer is requesting a way to *cancel or remove an inventory document* (e.g., a shipment or transfer) when the shipment is never received. 

Currently, there is *no UI option to cancel* such documents, especially if no items have been received yet. 

They are asking if this action can be performed at the *store level* or if it requires *manual intervention in the database*.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,07/Jul/25 1:40 PM
 Till Open Issue expected not matching up after Till close without reconcile,JMCH-970,24535,Bug,Waiting for customer,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,Jae Lee,5b31005f2713c12dccac315d,Jae Lee,5b31005f2713c12dccac315d,07/Jul/25 1:24 PM,08/Jul/25 12:24 PM,,,,0,,Description of Issue: Till Open Issue expected amount not matching up after Till close without reconcile and then attempting to open the till again  ,,Aakash Patel,Jason Menefee,,,712020:1e31b905-2797-45c2-b5ac-e31ef7818f38,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,,,,,,,,,,,,,,07/Jul/25 1:24 PM;5b31005f2713c12dccac315d;POS-5901_attachments.zip;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25777,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@4f37fca,,,,,,,,,,,,,,,,,,,,,Non-Production,,,,,,,,,Priority 2 (High),,,,,,,,,,,,,,,,,,Bath & Body Works,Logic,,,,,,Point of Sale,,,,"Reproduction Steps:  

First complete a cash sale so the till cannot be fast closed ($30)  

Check the till amount in Manage tills ($430) 

 Select ""Close Till"" in manage options, 

Select ""Yes"" on would you like close till  

Select ""Yes"" on would you like to reconcile till, and then ""X"" out of the reconciliation completely  

On open and close home screen select ""Reconcile Till""  

Select detailed view and then count the expected amount in the till ($430) 

 Input bank deposit amount is $30 auto inputted but input ($400) instead  

Open till, expected amount is $430 but that is prompting Error when I input $430 (the amount of $30 is what is really wanted)  

Actual: the till counted does not match the expected  



On base JMC release 243.10  

Logs attached.",1|i0147v:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,6:00,,,,,,,,,2025-07-07 18:01:54.118,,07/Jul/25 1:25 PM;5b31005f2713c12dccac315d;[^POS-5901_attachments.zip],"07/Jul/25 2:01 PM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;Customer reports a mismatch between the *expected till amount* and the *entered amount* during Till Open, specifically after closing the till without completing reconciliation.",07/Jul/25 4:47 PM;5b31005f2713c12dccac315d;[https://bathandbodyworks.atlassian.net/browse/POS-5901|https://bathandbodyworks.atlassian.net/browse/POS-5901],"08/Jul/25 12:24 PM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;[~accountid:5b31005f2713c12dccac315d] 

We aren’t able to recreate it in JMC, on either 243.10.0 or main. The logs included on the ticket start after a restart of the service about 20 minutes after the actions in the video and do not include any Reconcile Till or Open Till actions. Can you check your overrides for ReconcileTillState, ReconcileTillCountState and OpenTillCountState to see if these might be causing the issue?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,07/Jul/25 1:25 PM
Unable to Edit Item Quantity or Remove an Item in Shipping,JMCH-969,24534,Bug,Acknowledged,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Edita Vanetsian,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac,Edita Vanetsian,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac,07/Jul/25 1:18 PM,11/Jul/25 8:49 AM,,,,0,,"More of a functionality questions as we cannot seem to figure out how or where to do this - if a store is preparing an outbound document for another location - if they were to scan an incorrect product or an incorrect amount of said product, there doesn't appear to be a way to cancel a single item out of a carton unless you cancel the entire carton. We would need to be able to do the following with items being scanned into outbound cartons: (both of these do not seem to be possible and ca be recreated with the steps below):

# Remove a single item if scanned incorrectly from a carton
# Change the quantity of a single item without scanning one by one into the carton (i.e tapping and changing the amount).

",,Aakash Patel,,,,712020:1e31b905-2797-45c2-b5ac-e31ef7818f38,,,,,,,,,,,,,,,07/Jul/25 1:18 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;Cant edit once added (1).mp4;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25775,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@1263e4d5,,,,,,,,,,,,,,,,,,,,,Non-Production,,,,,,,,,Priority 2 (High),,,,,,,,,,,,,,,,,,Makira,The Paper Store,,,,,,Inventory,,,,"Open Inventory

Choose Shipping

Select the plus in the bottom right and select transfer

Enter a different store ID then hit create.

Add a carton to the outbound transfer, and scan to add an item to the carton.

Notice once the item is in the carton, there is no way to remove the item or change the quantity by hand w/o either deleting the entire carton or scanning more items in. Many times we want stores to scan, but they need the flexibility to change without scanning as well as removal.",1|i0147n:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,5:18,,,,,243.6.2,,,,2025-07-07 17:59:43.059,,07/Jul/25 1:18 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;!Cant edit once added (1).mp4|thumbnail!,"07/Jul/25 1:59 PM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;Customer is reporting a UX limitation in the shipping workflow. 

When preparing an outbound transfer, users are unable to remove a single item from a carton or update its quantity manually after it has been scanned. 

The only current workaround is to delete the entire carton or scan additional units to adjust quantity. They’re requesting support for two key features:

# Ability to *remove individual scanned items* from a carton.
# Ability to *edit item quantity directly*  without rescanning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,07/Jul/25 1:18 PM
Customer | Contact preferences re-prompt during edit when they should not,JMCH-967,24529,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,07/Jul/25 11:37 AM,08/Jul/25 7:12 AM,,,,0,,"We are re-prompting for email opt-in after editing a customer even though we did not change the email address and we are configured not to re-prompt.

Prerequisites:

* Set alwaysPrompt and re-prompt to false
!image-20250707-151803.png|width=96.54676258992806%,alt=""image-20250707-151803.png""!
* Set opt-in flags so that only email should be prompted
!image-20250707-152042.png|width=96.54676258992806%,alt=""image-20250707-152042.png""!

To reproduce:

* Edit an existing customer, changing only the phone number. Observe that the email opt-in screen prompt is displayed:
!image-20250707-152418.png|width=96.54676258992806%,alt=""image-20250707-152418.png""!

----

That concludes the issue reported by BAB, but I noticed a couple other things while triaging:

* The customer edit screen has opt-ins checkboxes for everything even though I only have email enabled. I’m not sure if this is intentional or not:
!image-20250707-152801.png|width=560,height=123,alt=""image-20250707-152801.png""!
* If you leave your opt-in settings as is (only email opt-in=true), but change {{alwaysPromptContactPreferences}} and {{repromptAllContactPreferences}} to true, the customer will be prompted for all opt-ins, even the disabled ones:
!image-20250707-153805.png|width=79.61816305469557%,alt=""image-20250707-153805.png""!",,Automation for Jira,Jason Menefee,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,,,,,,,,,,,,,,07/Jul/25 11:37 AM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;image-20250707-151803.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25763,07/Jul/25 11:37 AM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;image-20250707-152042.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25765,07/Jul/25 11:37 AM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;image-20250707-152418.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25766,07/Jul/25 11:37 AM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;image-20250707-152801.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25764,07/Jul/25 11:38 AM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;image-20250707-153805.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25767,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@4ac54dca,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Build-A-Bear,,,,,,,Point of Sale,,,,,1|i0146j:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,243.8.6,,,,2025-07-07 15:40:13.607,,"07/Jul/25 11:40 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7976.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,07/Jul/25 11:37 AM
Gift card activation/reload via swipe failed,JMCH-963,24360,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Pratik Joshi,5ad7a0a1b783d22b5dae92f9,Pratik Joshi,5ad7a0a1b783d22b5dae92f9,03/Jul/25 3:05 PM,08/Jul/25 9:19 AM,07/Jul/25 8:21 AM,,,0,,"[~accountid:712020:9f24cec0-1d48-4598-868f-c2f827fd3490] ,  A new issue seems to have been introduced with the addition of  {{CheckForPreSwipeState. }}

Here In ScanGiftCardState, it passes this data *getCardDataReasonCode,* which is set to *ACTIVATE*

{quote}{noformat}@ActionHandler
void onGetCardData() {
    this.doAction(""GetCardDataWithReason"", this.getCardDataReasonCode);
}{noformat}{quote}

However, this passed data is lost in CheckPreSwipeState, when it calls the ‘Skip’ action and moves forward.

{quote}{{actionHelper.doAction(CommonActionsConstants.SKIP_ACTION);}}{quote}

Because of this, GetCardDataState can not find the reason code and sets it to UNKNOWN as default:

{noformat}GetCardDataReasonCode getCardDataReasonCode = GetCardDataReasonCode.UNKNOWN;
if (action.getData() instanceof GetCardDataReasonCode) {
    getCardDataReasonCode = action.getData();
}{noformat}

Then, In AurusGetCardDataEndpoint, isGiftCardOperation() returns false, which triggers the closeTrans() method in this if block.


{noformat}if (!request.isTendering() && !isGiftCardOperation(request)) {
    this.closeTrans(AurusConstants.BYPASS_CLOSE_REASON_CODE);
    return;
}{noformat}

So, this.closeTrans() is called after GetCardBinResponse and before TransRequest of gift card activation/reload. So, we get a “invalid token” response from aurus because of the CloseTransactionRequest in between.

More details in the ticket: [https://bathandbodyworks.atlassian.net/browse/POS-5913|https://bathandbodyworks.atlassian.net/browse/POS-5913|smart-link] ",,Automation for Jira,Ram Gudimetla,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:81396143-7792-4b40-ade8-25c7762bdf26,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@41622ea3,,,,,,,,,,,,,,,,,,,,,Non-Production,,,,,,,,,Priority 2 (High),,,,,,,,,,,,,,,,,,Bath & Body Works,Logic,,,,,,Point of Sale,,,,"# Select gift card from hamburger menu
# Select Issue or reload.
# Select Swipe gift card.
# Swipe gift card.

Here, we get ‘Failed to activate gift card’.

",1|i0142j:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,5:46,,,,,243.10.0,,,,2025-07-03 19:19:05.434,,"03/Jul/25 3:19 PM;712020:81396143-7792-4b40-ade8-25c7762bdf26;[~accountid:712020:a783ca19-9b70-462e-9e4e-f5b4741af810]  Prateek is referring your name, so assigned directly to you.","07/Jul/25 8:07 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7968.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,03/Jul/25 3:05 PM
Receipt document - createTime -  timestamp format consistency ,JMCH-962,24348,Support,Acknowledged,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Barak Frierson,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:436a7fbc-b062-498d-94e3-f4f7b1f8abd1,Barak Frierson,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:436a7fbc-b062-498d-94e3-f4f7b1f8abd1,03/Jul/25 11:12 AM,11/Jul/25 1:33 PM,,,,0,,"Hey Team, 

I am reaching out with a question regarding the format of timestamps in the json receipt document that is being written to the azure service bus, namely the createTime field. Previously, in the 232 version at TPS, we had fractional seconds on timestamp formats being set to 3 point precision. Following the 243 upgrade, we have noticed instances where sometimes the createTime field has 6 point or 7 point precision, but we aren't too sure what is causing this inconsistency. Is modifying the timestamp format a configurable or overridable option? I have attached both the older json we were receiving, as well as a recent example from a receipt done on 06/30. ",,Aakash Patel,Mike Dalton,Nathan Richardson,,712020:1e31b905-2797-45c2-b5ac-e31ef7818f38,62d82941751c4f698e03958a,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,03/Jul/25 11:04 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:436a7fbc-b062-498d-94e3-f4f7b1f8abd1;2024_232_receipt_json_sample.json;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25686,03/Jul/25 11:04 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:436a7fbc-b062-498d-94e3-f4f7b1f8abd1;2025_243_receipt_json_sample.json;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25685,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@7f24fe0e,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Makira,The Paper Store,,,,,,Commerce Central,Inventory,,,,1|i0140z:,,Question,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,TPS 2.0.243.6.2.20250618.1,,,,2025-07-03 15:31:40.934,,"03/Jul/25 11:12 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:436a7fbc-b062-498d-94e3-f4f7b1f8abd1;[^2024_232_receipt_json_sample.json]

[^2025_243_receipt_json_sample.json]","03/Jul/25 11:31 AM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;Version (*243*) :

     ""2025-06-30T15:46:31.1095177"" (7-digit precision)

     ""2025-06-30T15:46:31.109537"" (6-digit precision)

         Timestamps sometimes show *6 or 7 digits* after the 

         decimal point

                                          

Version (*232*) : 

""2024-04-03T15:33:41.194""

consistently formatted with *3-digit fractional seconds*","03/Jul/25 2:23 PM;5c8fc1cd627d3b2d0163b7f1;[~accountid:712020:1e31b905-2797-45c2-b5ac-e31ef7818f38] do you want to respond?
--
Barak, can you confirm, is there an issue with the timestamp that this is causing?  Trying to understand the driver behind the ask.","03/Jul/25 3:28 PM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:436a7fbc-b062-498d-94e3-f4f7b1f8abd1] - Can you confirm, is there an issue with the timestamp that this is causing?  Trying to understand the driver behind the ask.","07/Jul/25 11:28 AM;62d82941751c4f698e03958a;This appears to cause issues with downstream integrations. We need to be aware of when these formats might change. We need to understand if this is how it will work going forward, so integrations will need to account.","11/Jul/25 1:33 PM;5c8fc1cd627d3b2d0163b7f1;Not sure but there is a chance this could have been related to the change to using LocalDateTime.

Seems down-stream integrations shouldn’t be fixed on a specific timestamp format rather accept a timestamp of any kind?  I would say they could just parse to the 3 digits and be done.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,03/Jul/25 11:12 AM
Promotion not taking effect when there are overlapping promotions defined,JMCH-958,24333,Bug,Waiting for customer,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Nathan Richardson,5c8fc1cd627d3b2d0163b7f1,Bimlendu Shekhar,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:b571bf8d-3232-45b5-a657-2a037cbd6bfb,Nathan Richardson,5c8fc1cd627d3b2d0163b7f1,02/Jul/25 3:31 PM,11/Jul/25 12:17 PM,,,,0,,"Items are not reflecting a discount when there is an effective promotion.  It was noted there are overlapping effective promotions at the same time, assumption is it should pick the latest start time entry before today and use that promotion.",,Nathan Richardson,,,,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,,11/Jul/25 12:16 PM;16a6376e-3b2c-4da1-b2a5-07f13d3baf03;image-20250711-161306.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/26060,11/Jul/25 12:16 PM;16a6376e-3b2c-4da1-b2a5-07f13d3baf03;image-20250711-161511.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/26059,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@7b5b595b,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 2 (High),,,,,,,,,,,,,,,,,,Landmark Group,,,,,,,Point of Sale,,,,,1|i013yb:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,6:00,,,,,243.1,,,,2025-07-02 19:33:03.513,,02/Jul/25 3:33 PM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:b571bf8d-3232-45b5-a657-2a037cbd6bfb] on our call Monday you brought this issue up but we have yet to receive any data dump of the scenario you were seeing.  Can you please provide this so we can continue to investigate?,"10/Jul/25 7:47 AM;5c8fc1cd627d3b2d0163b7f1;Here is the query to check duplicate active ones 

{noformat}select count(*) FROM prm_assigned_promotion
WHERE promotion_id IN (
    SELECT promotion_id
    FROM (
        SELECT p.promotion_id
        FROM prm_assigned_promotion p
        WHERE EXISTS (
            SELECT 1
            FROM prm_assigned_promotion p2
            WHERE p2.promotion_id = p.promotion_id
              AND p2.create_time > p.create_time
        )
    ) sub
) ;{noformat}","11/Jul/25 12:16 PM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:b571bf8d-3232-45b5-a657-2a037cbd6bfb] when you raised this a couple weeks ago where promotions were not applying can you tell me a specific promotion you were dealing with.  Using the data that was provided by Manas and the query posted the latest promotion effective date was May 29.  Were you testing this in June, if so, the promo’s were not effective.  I will need you to reproduce this issue and provide examples when you do.

Using your sql provided below are two examples that returned, I updated the effective_end_times on 2 assigned_promotion records to October and these worked fine when added to the cart.

!image-20250711-161511.png|width=778,height=449,alt=""image-20250711-161511.png""!



!image-20250711-161306.png|width=1473,height=738,alt=""image-20250711-161306.png""!



The only thing I noticed was when I added the second item it took a few seconds before the price changed due to the volume of data you have.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,02/Jul/25 3:31 PM
Bootstrap.lock prevents the device from starting up.,JMCH-956,24290,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Andrew Hasse,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:9dbac507-8750-465f-b21a-5853e22aca4b,Jake Vanmeter,70121:4c55edb8-b2f0-47f8-bb2c-524b3fa93eda,01/Jul/25 12:08 PM,08/Jul/25 11:00 AM,,,,0,,"When the device loses power while checking for an update with the auto-updater, the bootstrap.lock file that gets created does not get removed. Upon starting back up, the bootstrap-fixed.log is filled with “Failed to lock install file at: C:\jmc\work\bootstrap.lock” errors, and the application will never fully start, resulting in the device being unusable. This is not resolved until the service is stopped, the file is deleted, and then the service is restarted.",,Automation for Jira,Jake Vanmeter,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,70121:4c55edb8-b2f0-47f8-bb2c-524b3fa93eda,,,,,,,,,,,,,,01/Jul/25 12:07 PM;ug:3816b823-1cf0-4bab-a8ce-20e0d4cf848e;bootstrap-fixed.log;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25624,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@7a8f4619,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,JDNA,Makira,,,,,,,,,,,1|i013ub:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2025-07-01 16:09:35.081,,"01/Jul/25 12:09 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;We have created a Production Bug for this issue [JMC-7955].

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,01/Jul/25 12:08 PM
Special Order: Shrug guy when doing a cash & carry with free Special Order item using B1G1 or B2G1 promo,JMCH-954,24254,Bug,Waiting for customer,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Ann-Katherine Johnson,712020:d4626b4e-9ff3-475f-9c6e-8509649cd509,Arpan Soni,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b,Arpan Soni,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b,30/Jun/25 5:53 PM,02/Jul/25 5:56 PM,,,,0,,"Special Order with Special Order free item is not working. 
Store tried sale as buy two get one free. first and second items as cash & carry and third item is being set up for Special Order ship to store and gets orphaned transaction after shrug guy.
Device_id: 776-001
Tran# 26773 & 26774
Date: 06102025
776-001 Fixed logs attached. 

----

We tried in TVS LAB and able to reproduced same promotion scenario. 
Device_id: 9710-001
Tran#: 6460
Date: 06/19/2025
9710-001 fixed logs and screen recording attached. 

",,Aakash Patel,Ann-Katherine Johnson,Nathan Richardson,,712020:1e31b905-2797-45c2-b5ac-e31ef7818f38,712020:d4626b4e-9ff3-475f-9c6e-8509649cd509,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,30/Jun/25 5:52 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b;776-001-FIXEDlogs-06102025 (1).zip;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25605,30/Jun/25 5:52 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b;9710-001_commerce-fixed-0619-B1G1-SpecialOrder (1).log;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25606,30/Jun/25 5:52 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b;SpecialOrder_B1G1_free_item  (1).mov;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25607,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6d26545e,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 2 (High),,,,,,,,,,,,,,,,,,Vitamin Shoppe,,,,,,,Point of Sale,,,,"Promotion Info:  buy 2236065 and get 1037122 free
1- Add customer
2- Add 2236065 as cash & carry
3- In Product Inquiry - Search SKU 1037122
4- Add as Ship to Home or Ship to Store 
5- Verify Billing and Shipping address
6- Check Out 
7- Skip Donation
8- On Order Shipping - Select Free delivery and Continue
9- Tender Option - Select Card and Pay for Cash & carry item 
10- Reuse same CC auth for Special Order 
11- Shrug 
",1|i013sj:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,6:00,,,,,243.7.2,,,,2025-06-30 22:27:37.999,,"30/Jun/25 5:53 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b;[^776-001-FIXEDlogs-06102025 (1).zip]

[^9710-001_commerce-fixed-0619-B1G1-SpecialOrder (1).log]

!SpecialOrder_B1G1_free_item  (1).mov|thumbnail!","30/Jun/25 6:27 PM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b] - 

Thank you for bringing this to our attention.

Our team has acknowledged the issue. We will get back to you with an update as soon as possible.","01/Jul/25 3:12 PM;5c8fc1cd627d3b2d0163b7f1;[~accountid:712020:1e31b905-2797-45c2-b5ac-e31ef7818f38] Please respond with the following observations Ann-Katherine found:



Arpan, We are unable to reproduce your issue on base.  It does however appear the shrug you are seeing was addressed in 243.9 and will pop up a dialog instead.  The code previously was not handling the error code that is returning in your case.

What we are seeing however, it appears TVS does not have a zero balance tender policy configured for the tender and/or tenderTypeCode being used but is still displaying the tender type on the tender options screen.  So this is what is throwing the error code that 243.7 is not handling but has been fixed in later versions.  
We believe if you add a zero balance tender policy in this case you may be able to get around the shrug in your version.","01/Jul/25 3:13 PM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b] -  We are unable to reproduce your issue on base.  It does however appear the shrug you are seeing was addressed in 243.9 and will pop up a dialog instead.  The code previously was not handling the error code that is returning in your case.

What we are seeing however, it appears TVS does not have a zero balance tender policy configured for the tender and/or tenderTypeCode being used but is still displaying the tender type on the tender options screen.  So this is what is throwing the error code that 243.7 is not handling but has been fixed in later versions.  
We believe if you add a zero balance tender policy in this case you may be able to get around the shrug in your version.","01/Jul/25 3:44 PM;5c8fc1cd627d3b2d0163b7f1;Arpan one more note, adding this zero balance entry should resolve the issue based on our base implementation.  If TVS has overridden various aspects of the tendering flow there is a chance you will still see an issue but at that point it is within the TVS code and you will need to review the custom endpoints TVS has.","01/Jul/25 3:55 PM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b] - One more note, adding this zero balance entry should resolve the issue based on our base implementation.  If TVS has overridden various aspects of the tendering flow there is a chance you will still see an issue but at that point it is within the TVS code and you will need to review the custom endpoints TVS has.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,30/Jun/25 5:53 PM
POS user access after promoted to the new role,JMCH-947,24101,Bug,Waiting for customer,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Nathan Richardson,5c8fc1cd627d3b2d0163b7f1,Arpan Soni,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b,Arpan Soni,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b,25/Jun/25 11:47 AM,02/Jul/25 5:57 PM,,,,0,,"When an employee is promoted to a new role in JMC POS, their access does not update immediately. User tables are updated through the entity-user file using the quick loader. 

usr_user table is updated with correct workgroup_id. However, new records being inserted with new workgroup_id in usr_user_workgroup table. 

For example, if a user has a work group ID assigned as 1, upon promotion, the work group ID changes to 2, creating a new record in usr_user_workgroup. However, POS does not recognize the new work group ID until the old record is manually deleted.",,Nathan Richardson,,,,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,,25/Jun/25 2:46 PM;16a6376e-3b2c-4da1-b2a5-07f13d3baf03;Successful update of workgroup.mp4;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25261,25/Jun/25 2:46 PM;16a6376e-3b2c-4da1-b2a5-07f13d3baf03;image-20250625-171813.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25257,25/Jun/25 2:46 PM;16a6376e-3b2c-4da1-b2a5-07f13d3baf03;image-20250625-171847.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25258,25/Jun/25 2:46 PM;16a6376e-3b2c-4da1-b2a5-07f13d3baf03;image-20250625-172219.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25256,25/Jun/25 2:46 PM;16a6376e-3b2c-4da1-b2a5-07f13d3baf03;image-20250625-172544.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25259,25/Jun/25 2:46 PM;16a6376e-3b2c-4da1-b2a5-07f13d3baf03;prompted for mgr override.mp4;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25260,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@2c827522,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Vitamin Shoppe,,,,,,,Point of Sale,,,,Update existing user workgroup id from 1 to 2 using quickloader ,1|i013cb:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,8:00,,,,,243.7.2,,,,2025-06-25 15:56:21.884,,"25/Jun/25 11:56 AM;5c8fc1cd627d3b2d0163b7f1;Thank you for the information, I will attempt to reproduce the issue here locally.","25/Jun/25 2:46 PM;5c8fc1cd627d3b2d0163b7f1;Testing with our latest version AND 243.7 locally with my user 2222 it all worked as expected.  I logged in as this user attempted a cancel transaction it prompted me that I needed a manager override (as workgroup_id 2).  I inserted 1 row in usr_user_workgroup to also have workgroup_id = 1 and then proceeded to log in again and cancel a transaction with no manager override prompt.
Note: the workgroup_id field on usr_user is being deprecated so you should only need to worry about the usr_user_workgroup table go forward.

Details shown below:

usr_workgroup (note our groups are in opposite order of TVS for level of permissions, 1 higher than 2…  As an extra test locally I reversed my permissions as well to align with TVS and same results):

!image-20250625-172219.png|width=370,height=193,alt=""image-20250625-172219.png""!

usr_user:

!image-20250625-171813.png|width=887,height=257,alt=""image-20250625-171813.png""!

usr_user_workgroup before:

!image-20250625-171847.png|width=339,height=278,alt=""image-20250625-171847.png""!

Attempted a cancel of a transaction - prompted for manager while being user 2222:

!prompted for mgr override.mp4|width=1742,height=1008,alt=""prompted for mgr override.mp4""!

Logged out of POS then inserted into usr_user_workgroup new row for user 2222 to have workgroup 1 (higher permissions than 2 in our local environment)

!image-20250625-172544.png|width=376,height=294,alt=""image-20250625-172544.png""!

Tried cancel and it worked with no manger override prompt.

!Successful update of workgroup.mp4|width=1734,height=1014,alt=""Successful update of workgroup.mp4""!




",26/Jun/25 9:58 AM;5c8fc1cd627d3b2d0163b7f1;If you are still seeing issues internally please try to reproduce in your dev/test environment(s) and then maybe there is some custom TVS code that is interfering with the update.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,25/Jun/25 11:47 AM
Business unit sometimes freezes during sign in,JMCH-946,24097,Bug,Researching,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,25/Jun/25 10:45 AM,25/Jun/25 10:45 AM,,,,0,,"Analysis from Logic:


{quote}
We have callouts from many stores related to controller freezing or on white screen while entering username or in login screen. We are dont see any error apart for the session being disconnected, the issue is resolved after reboot of HTA. Attaching logs from few stores. Could you please take a look on the issue?

866-
2025-05-26 09:11:36.252 INFO  [server] [clientOutboundChannel-1] [SessionDisconnectedListener] session disconnected: afc8f43c-1964-7b8c-431f-552f6acc2adc

2076-
2025-05-25 08:51:50.060 INFO  [server] [clientOutboundChannel-1] [SessionDisconnectedListener] session disconnected: d0a370bd-41f2-68f9-52b7-90e5c9f51352

2382-
Issue occured around 10.30am but no errors in the log{quote}",,Jason Menefee,,,,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,,,,,,,,,,,,,,,25/Jun/25 10:44 AM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;2076.7z;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25235,25/Jun/25 10:44 AM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;2382.7z;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25234,25/Jun/25 10:44 AM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;866.7z;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25233,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@36d17516,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Bath & Body Works,,,,,,,,,,,,1|i013bf:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,25/Jun/25 10:45 AM
JMC Register unusable after 300k simple promotion configured for store.,JMCH-945,24096,Bug,Waiting for customer,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Nathan Richardson,5c8fc1cd627d3b2d0163b7f1,Bimlendu Shekhar,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:b571bf8d-3232-45b5-a657-2a037cbd6bfb,Bimlendu Shekhar,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:b571bf8d-3232-45b5-a657-2a037cbd6bfb,25/Jun/25 10:34 AM,11/Jul/25 1:13 PM,25/Jun/25 11:06 AM,,,0,,"Landmark went live into a new store which has 300k+ simple promotion. This resulted into two significant problem making regiser unusable for cashier use

* Item scan take more then 15s ( log file attached)
* With heap configuration of 4GB system crashed while loading stating out of memory error. Had to Increase to 5 GB to launch the application.

Please help us ",,Automation for Jira,Mike Dalton,Nathan Richardson,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,62d82941751c4f698e03958a,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,11/Jul/25 12:54 PM;16a6376e-3b2c-4da1-b2a5-07f13d3baf03;image-20250711-164909.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/26062,25/Jun/25 10:34 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:b571bf8d-3232-45b5-a657-2a037cbd6bfb;splash_hang.txt;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25229,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5289fdb8,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 2 (High),,,,,,,,,,,,,,,,,,Landmark Group,,,,,,,Point of Sale,,,,Load 300k + simple promotions to reproduce this issue.,1|i013b7:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,6:00,,,,,243.1.27,,,,2025-06-25 14:45:33.244,,25/Jun/25 10:35 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:b571bf8d-3232-45b5-a657-2a037cbd6bfb;[^splash_hang.txt],"25/Jun/25 10:45 AM;5c8fc1cd627d3b2d0163b7f1;With the update of memory is the system working now or is it still down?

Is the long scan every time or just after the first transaction of the day?",25/Jun/25 10:53 AM;62d82941751c4f698e03958a;Can we get a database export of a store with the issue (+300k promotions).  ,"25/Jun/25 10:53 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:b571bf8d-3232-45b5-a657-2a037cbd6bfb;After changing to 5 GB system is coming up.
Item scan each time takes around 15 sec","25/Jun/25 10:53 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ",25/Jun/25 10:54 AM;5c8fc1cd627d3b2d0163b7f1;Please generate an export of the database and attach as Mike mentioned so we can review.,"07/Jul/25 8:11 AM;5c8fc1cd627d3b2d0163b7f1;Host: [support.jumpmind.com|http://support.jumpmind.com]
Port: 2222
Protocol: SFTP
User: tmp789809
Pass: T0kSKb9sNn16gJYY
Expires: 2025-07-17","07/Jul/25 8:20 AM;5c8fc1cd627d3b2d0163b7f1;Adding notes here from update to other ticket that is meant for this.


Uploading Production data dump with duplicate entries and around 65k active promotions","11/Jul/25 12:35 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-8062.

This issue will now need to go through Planning.","11/Jul/25 12:54 PM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:b571bf8d-3232-45b5-a657-2a037cbd6bfb] I was about to send this over to our engineering to look at the performance issues you are seeing but also noticed you are not running the purge process on your systems or if you are, you have so much extra data that the purge is only cleaning up a portion of the data however I believe it is not enabled/running because it should delete 1000000 rows which is more than what you have to purge.


The provided dataset, as of July 11, has 22,337 effective promotions. There are 1,158,588 rows in the prm_promotion table yet only 178,633 records in the prm_assigned_promotion table.
This is why I’m assuming your purge process is not running or keeping up on the registers.  These tables should be getting purged and if it ran then over 900,000 records would have been removed from the main prm_promotion table.
Please verify and enable your purging on your registers and re-test your scenario.

If you could post a full commerce log from one of your registers then I could review it as well.

Here is what the purge job definition would look like and it would typically be in a file called application-purge-fixed.yml but could be slightly different depending on your implementation.

!image-20250711-164909.png|width=451,height=598,alt=""image-20250711-164909.png""!","11/Jul/25 1:13 PM;5c8fc1cd627d3b2d0163b7f1;You could try manually purging the data for now to get it cleaned up at least in the one store to confirm whether that makes a difference.

This query below will look for any orphaned promotion records created prior to today.  You could do this same or similar one for prm_reward and prm_qualification.

{noformat}select count(*)
from prm_promotion
where
          not exists
          (select 'x'
          from prm_assigned_promotion a
          where prm_promotion.promotion_id = a.promotion_id)
          and create_time < current_timestamp - interval '1 day';{noformat}

The following would be for prm_qualification_item:

{noformat}select count(*)
from prm_qualification_item
where
          not exists
          (select 'x'
          from prm_qualification q
          where prm_qualification_item.qualification_id = q.qualification_id)
          and create_time < current_timestamp - interval '1 day';{noformat}

and prm_reward_item:

{noformat}select count(*)
from prm_reward_item
where
          not exists
          (select 'x'
          from prm_reward r
          where prm_reward_item.reward_id = r.reward_id)
          and create_time < current_timestamp - interval '1 day'{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,25/Jun/25 10:35 AM
Bridge Returns | Null pointer exception when doing a receipted transaction bridge return,JMCH-944,24091,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,25/Jun/25 10:04 AM,08/Jul/25 12:56 PM,,,,0,,"

{quote}_Response body: {""message"":""Cannot invoke \""java.math.BigDecimal.compareTo(java.math.BigDecimal)\"" because the return value of \""org.jumpmind.pos.sales.service.returns.model.CustomerReturnHistorySummary.getRcptRtnRatio()\"" is null"",""throwable"":{""classname"":""java.lang.NullPointerException"",""stackTrace"":[{""classLoaderName"":""app"",""methodName"":""validateReceiptedReturnUsingHistory"",""fileName"":""AnalyzeReceiptedItemForReturnEndpoint.java"",""lineNumber"":189,""className"":""org.jumpmind.pos.sales.service.returns.AnalyzeReceiptedItemForReturnEndpoint"",""nativeMethod"":false}_

{quote}

We either need to add some null checks to validateReceiptedReturnUsingHistory() or have the getBlahRatio() methods return 0 as a default instead of null. 

!image-20250625-140257.png|width=100%,alt=""image-20250625-140257.png""!

!image-20250625-140144.png|width=100%,alt=""image-20250625-140144.png""!",,Automation for Jira,Jason Menefee,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,,,,,,,,,,,,,,25/Jun/25 10:04 AM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;image-20250625-140144.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25225,25/Jun/25 10:04 AM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;image-20250625-140257.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25224,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@301b6fa8,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Bath & Body Works,,,,,,,,,,,,1|i013ab:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2025-06-25 14:05:31.512,,"25/Jun/25 10:05 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7911.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,25/Jun/25 10:04 AM
Localization | Form field validation messages sometimes display in wrong language,JMCH-943,24089,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,25/Jun/25 9:19 AM,08/Jul/25 12:56 PM,,,,0,,"To reproduce:

* Log in with user 1111, then switch this user’s language to Spanish
* Add a new customer and type in an invalid email address. It will correctly show the invalid email message below the prompt in Spanish.
* Cancel out of adding the customer, return to the home screen, and log out
* Log back in with user 2222, and do the same thing, but this time leave your language set to English. You’ll see that the invalid email message is still in Spanish

!image-20250625-131556.png|width=406,height=320,alt=""image-20250625-131556.png""!
* The same pattern seems to hold true on other forms that have input validation:
!image-20250625-131935.png|width=432,height=161,alt=""image-20250625-131935.png""!
 ",,Automation for Jira,Jason Menefee,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,,,,,,,,,,,,,,25/Jun/25 9:19 AM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;image-20250625-131556.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25221,25/Jun/25 9:19 AM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;image-20250625-131935.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25220,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@2fb2d512,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Bath & Body Works,,,,,,,,,,,,1|i0139v:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2025-06-25 13:25:53.122,,"25/Jun/25 9:25 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7910.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,25/Jun/25 9:19 AM
Till Management | Incorrect message displayed when closing dedicated till from a fixed register,JMCH-942,24087,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,25/Jun/25 8:03 AM,08/Jul/25 12:56 PM,25/Jun/25 9:12 AM,,,0,,"Locale decimal format (#####,## $) isn’t used in various places throughout the pos. Reported instances:

* pickup to external bank screen
!image-20250625-120220.png|width=952,height=642,alt=""image-20250625-120220.png""!
* Reports (Till reconciliation report, Daily Sale report, Deposit Worksheet Report) print with dollar symbol in the wrong place (it's at the start instead of the end in fr-CA locale). Logic analysis points to the way that JodaMoney filter is formatting the dollar amounts.
!image-20250625-120233.png|width=804,height=320,alt=""image-20250625-120233.png""!
* Gift card cash out prompt
!image-20250625-120240.png|width=1074,height=292,alt=""image-20250625-120240.png""!
* Gift card auto-cashout prompt (When you tender with a GC and have a balance left on the card, the system can be configured to prompt to cash out the remaining balance)
!image-20250625-120247.png|width=1360,height=514,alt=""image-20250625-120247.png""!
",,Automation for Jira,Jason Menefee,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,,,,,,,,,,,,,,25/Jun/25 8:03 AM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;image-20250625-120220.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25212,25/Jun/25 8:03 AM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;image-20250625-120233.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25211,25/Jun/25 8:03 AM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;image-20250625-120240.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25213,25/Jun/25 8:03 AM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;image-20250625-120247.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25210,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@44bf9963,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Bath & Body Works,,,,,,,,,,,,1|i0139f:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,243.6,,,,2025-06-25 12:06:10.861,,"25/Jun/25 8:06 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7909.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,25/Jun/25 8:03 AM
Inquiry: JMCPOS Treatment of Simple Promotions vs ORPOS,JMCH-941,24086,Support,Researching,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Nathan Richardson,5c8fc1cd627d3b2d0163b7f1,Himanshu.Himanshu@landmarkgroup.com,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:6619ca8f-2cec-480c-868a-7373b941322d,Himanshu.Himanshu@landmarkgroup.com,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:6619ca8f-2cec-480c-868a-7373b941322d,25/Jun/25 6:52 AM,11/Jul/25 1:38 PM,,,,0,,"Background: We are using Oracle Retail Suite (RPM, RMS, RESA etc.).

In our migration from Oracle POS (ORPOS) to JMCPOS, we've observed differences in how simple promotions are handled.

* *In ORPOS:*
Simple promotions (Temporary Price Change) are treated differently from other discounts such as complex promotions, employee discounts, and coupons.
** Simple Promotion data (after completing a transaction) is stored in the {{TR_LTM_PRM}} table.
** Discount data (after completing a transaction) is stored at the line-item level in the {{COO_MDFR_RTL_PRC}} table.
** Notably, simple promotion discount amounts are not printed on the receipt. (Because it is a temporary price change and not a discount). 
* *In JMC:*
Currently In JMC, we handle simple promotions through dedicated promotion-related tables like {{PRM_PROMOTION}}, {{PRM_QUALIFICATION}}, etc.

----

*Our Request:*
We would like to understand how JMCPOS internally processes simple promotions, as Landmark has a large volume of them. This information is crucial to ensure consistent behavior and performance issues.

*Notably,* we send this Simple Promotion ID back to RESA in RTLOG (IDISC line) from the TR_LTM_PRM table in ORPOS and from the sls_retail_line_item_price_mod table in JMC), and it is essential to pass this entry to RESA.",,Aakash Patel,Automation for Jira,Nathan Richardson,,712020:1e31b905-2797-45c2-b5ac-e31ef7818f38,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@65a9c3f2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Landmark Group,,,,,,,Point of Sale,,,,,1|i01397:,,Question,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,243.1,,,,2025-06-25 12:40:15.153,,25/Jun/25 8:40 AM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:6619ca8f-2cec-480c-868a-7373b941322d] your request is a bit too vague I don’t know how to answer.  Can you be a little more specific in what exactly are you looking for?  Do you have a specific scenario you are trying to understand?,"01/Jul/25 4:36 PM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:6619ca8f-2cec-480c-868a-7373b941322d] - It’s been a while since your last update. To better assist you, could you please provide more specific details or a particular scenario?","10/Jul/25 5:05 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:6619ca8f-2cec-480c-868a-7373b941322d;Apologies for late response,  We are looking for   “We would like to understand what is the ideal way in JMC to setup simple promotions as Landmark has a large volume of simple promotions. Simple promotions will have a start date and end date supported by amount off, percent off and fixed price. We need to consider also that we need to send promotion id back to RESA in IDISC line while sending RTLog. 

Below is sample example of Fixed Type promotion:

*<PricePromotion* ChangeType=""ADD"" ID=""494953"" PromoCompID=""1226167"" PromoCompDetlID=""730350932"" StartDateTime=""2025-05-20T00:00:00.0Z"" EndDateTime=""2025-12-31T23:59:59.0Z"" Type=""NewPrice"" Priority=""1"" TemplateType=""Default""><Name>Promotion</Name><Description></Description><Item ID=""166713525""><Price>99</Price></Item>*</PricePromotion>*","10/Jul/25 5:05 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,25/Jun/25 6:52 AM
Employee Discount | Alternate entry does not apply discount,JMCH-937,24039,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,High,,,,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,24/Jun/25 9:43 AM,08/Jul/25 12:57 PM,24/Jun/25 11:58 AM,,,0,,"To reproduce:

* Set openpos.sell.employeeDiscountAlternateEntryEnabled = true
* Start a new transaction, then select Employee Discount → Alternate Entry
* Fill out the alternate entry form, then add an item to the transaction
* Observe that no discount is applied and there is a null pointer exception in the log file

----

Null pointer errors when adding job code and workgroup attributes in RetailManager / buildTransactionLevelAttributes() prevent the employee discount from applying. Adding null checks to getJobCodes() and getWorkgroups() fixes the issue…

!image-20250624-133430.png|width=100%,alt=""image-20250624-133430.png""!

… but I wonder if we should be setting a default job code and workgroup where we create the dummy employee in EmployeeDiscountState / onVerifyEmployee() instead or in addition:

!image-20250624-133625.png|width=100%,alt=""image-20250624-133625.png""!",,Automation for Jira,Jason Menefee,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,,,,,,,,,,,,,,24/Jun/25 9:43 AM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;image-20250624-133430.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25186,24/Jun/25 9:43 AM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;image-20250624-133625.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25185,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@485cbe5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Build-A-Bear,,,,,,,,,,,,1|i01357:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2025-06-24 13:48:00.775,,"24/Jun/25 9:48 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7900.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,24/Jun/25 9:43 AM
"The ""Simple Promotion"" is configured with a strict exclusivity rule (REQUIRE) that cancels the cart-wide ""Fazza"" discount as soon as a second qualifying item is added.",JMCH-935,24036,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Manas Kumar,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16,Manas Kumar,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16,24/Jun/25 5:33 AM,08/Jul/25 1:10 PM,24/Jun/25 11:55 AM,,,0,,"# {color:#0747a6}*Baseline (Works Correctly)*{color}{color:#0747a6}A customer adds regular, non-promotional items to their cart. Once the cart total exceeds 200 AED, the Fazza discount (e.g., 20% off) is correctly applied to the eligible items.{color}
# {color:#0747a6}*Adding One Simple Promotion Item (Works Correctly):*{color}{color:#0747a6} The customer then adds one ""Simple Promotion"" item (e.g., item 167627307). The system correctly applies {color}{color:#0747a6}*both*{color}{color:#0747a6} promotions:{color}
#* {color:#0747a6}The ""Simple Promotion"" discount is applied to its specific item.{color}
#* {color:#0747a6}The ""Fazza Promotion"" discount remains active on the other eligible items in the cart.{color}
# {color:#0747a6}*Adding a Second Simple Promotion Item (Triggers Failure):*{color}{color:#0747a6} The customer adds a {color}{color:#0747a6}_second_{color}{color:#0747a6} ""Simple Promotion"" item (e.g., item 167589043). At this moment, the system's behavior becomes incorrect:{color}
#* {color:#0747a6}The ""Fazza Promotion"" discount is {color}{color:#0747a6}*completely removed*{color}{color:#0747a6} from the entire cart.{color}
#* {color:#0747a6}Only the two ""Simple Promotion"" discounts on their respective items remain.{color}

{color:#0747a6}The root cause of this issue lies in the {color}{color:#0747a6}*exclusivity rules*{color}{color:#0747a6} governing how promotions can interact with each other. The key is the difference between the {color}{{ALLOW}}{color:#0747a6} and {color}{{REQUIRE}}{color:#0747a6} settings you noted.{color}

{color:#0747a6}Let's break down what these settings mean in a typical promotion engine:{color}

h4. {color:#0747a6}*1. Fazza Promotion:* {color}{{ALLOW}}

* {color:#0747a6}*Meaning:*{color}{color:#0747a6} This is a ""friendly"" or ""combinable"" promotion. It is configured to {color}{color:#0747a6}*allow*{color}{color:#0747a6} itself to be applied alongside other promotions in the same cart.{color}
* {color:#0747a6}*Behavior:*{color}{color:#0747a6} The Fazza promotion will happily apply its discount as long as the other promotions in the cart are also ""friendly"" and permit it. It doesn't force other promotions off.{color}

h4. {color:#0747a6}*2. Simple Promotion:* {color}{{REQUIRE}}

* {color:#0747a6}*Meaning:*{color}{color:#0747a6} This is a ""strict"" or ""exclusive"" promotion. It is configured to {color}{color:#0747a6}*require*{color}{color:#0747a6} that it be the {color}{color:#0747a6}_only_{color}{color:#0747a6} promotion applied to the item(s) it qualifies for. Some systems interpret this {color}{{REQUIRE}}{color:#0747a6} rule at a transaction level, not just an item level, especially when multiple such items are present.{color}
* {color:#0747a6}*Behavior:*{color}{color:#0747a6} When the promotion engine evaluates an item that qualifies for the Simple Promotion, the {color}{{REQUIRE}}{color:#0747a6} rule acts as a command: ""Apply my discount to this item, and do not allow any other discounts on this item.""{color}

{color:#0747a6}Attaching Promotion details for items (simple promotion) and for fazza . Also Attached item tables.{color}",,Automation for Jira,Nathan Richardson,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,24/Jun/25 5:24 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16;167589043_Item_Promo_Details.zip;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25171,24/Jun/25 5:24 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16;167627307_Item-Promo-Details.zip;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25172,24/Jun/25 5:24 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16;FAZAA_tables.zip;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25173,24/Jun/25 5:24 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16;Item_tables.zip;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25174,24/Jun/25 5:32 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16;MicrosoftTeams-video.mp4;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25175,27/Jun/25 1:11 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16;Screenshot 2025-06-27 at 9.08.07 AM-20250627-050810.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25353,27/Jun/25 1:11 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16;Screenshot 2025-06-27 at 9.08.30 AM-20250627-050833.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25352,26/Jun/25 8:36 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16;application-purge-central.yml;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25288,26/Jun/25 8:36 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16;application-purge-isp.yml;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25290,26/Jun/25 8:36 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16;application-purge-reg.yml;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25289,07/Jul/25 8:16 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16;export-20250626T120144.zip;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25748,25/Jun/25 11:13 AM;16a6376e-3b2c-4da1-b2a5-07f13d3baf03;image-20250625-150946.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25237,26/Jun/25 7:19 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16;image-20250626-111821.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25286,26/Jun/25 2:51 PM;16a6376e-3b2c-4da1-b2a5-07f13d3baf03;image-20250626-122039.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25325,26/Jun/25 8:37 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16;image-20250626-123743.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25291,24/Jun/25 8:01 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16;prm-promotion-type-2406.csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25181,24/Jun/25 8:01 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16;prm-stacking-rule2406.csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25180,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@1aaaef87,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 2 (High),,,,,,,,,,,,,,,,,,Landmark Group,,,,,,,Point of Sale,,,,"{color:#ffffff}*Test Steps:*{color}

# {color:#4c9aff}*Start a new transaction.*{color}
# {color:#4c9aff}*Add normal items*{color}{color:#4c9aff} (with no promotions) to the cart until the subtotal is greater than 200 AED.{color}
#* {color:#4c9aff}*Observe:*{color}{color:#4c9aff} The Fazza discount is correctly applied to these items.{color}
# {color:#4c9aff}*Add the first ""Simple Promotion"" item*{color}{color:#4c9aff} to the cart (SKU: 167627307).{color}
#* {color:#4c9aff}*Observe:*{color}{color:#4c9aff} The system correctly applies both the Simple Promotion discount to its item and the Fazza discount to the other normal items. The cart now shows two active promotions.{color}
# {color:#4c9aff}*Add the second ""Simple Promotion"" item*{color}{color:#4c9aff} to the cart (SKU: 167589043).{color}
#* {color:#4c9aff}*This is the failure point.*{color}

{color:#ffffff}*Expected Result:*{color}

* {color:#0747a6}The cart should contain three active discounts:{color}
*# {color:#0747a6}The Simple Promotion discount on item 167627307.{color}
*# {color:#0747a6}The Simple Promotion discount on item 167589043.{color}
*# {color:#0747a6}The Fazza discount on the eligible normal items.{color}
* {color:#0747a6}The final total should be calculated with all three discounts applied.{color}

{color:#0747a6}*Actual Result (The Bug):*{color}

* {color:#0747a6}Upon adding the second ""Simple Promotion"" item, the {color}{color:#0747a6}*Fazza discount is removed*{color}{color:#0747a6} from the entire cart.{color}
* {color:#0747a6}Only the two Simple Promotion discounts remain.{color}
* {color:#0747a6}The final total is incorrectly higher than expected.{color}

",1|i0134j:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,5:38,,,,,243.1,,,,2025-06-24 11:11:58.351,,"24/Jun/25 5:33 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16;[^167589043_Item_Promo_Details.zip]

[^167627307_Item-Promo-Details.zip]

[^FAZAA_tables.zip]

[^Item_tables.zip]

!MicrosoftTeams-video.mp4|thumbnail!","24/Jun/25 7:11 AM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16] Could you please share your prm_promotion_type and prm_stacking_rule tables as well?
For a quick comment before I dig a little deeper, your explanation of ALLOW / REQUIRE is not correct.  It does not tie to ways promotions tie to each other.
Please refer to the data model documentation: 
[https://commerce-docs.jumpmind.com/Implementors/DataModel.html#promotions-microservice|https://commerce-docs.jumpmind.com/Implementors/DataModel.html#promotions-microservice]
The field that you are referencing has this definition:
QUAL_ITEMS_REWARD_PREFERENCE 

* The preference on whether the qualified items are required to be, allowed to be, or prevented from being the rewarded items.
Possible values are ALLOW, PREVENT, REQUIRE

It is related to a promotion and the items that can or must be associated as reward items.  If you put REQUIRE then that means the qualification item (item that triggered the promotion) must be the item that gets the reward applied to it (or if there are multiple qualification the reward has to be one of the qualified items).  

I’m going to take a look at your data but would also like those other tables mentioned to confirm how your promotions are stacked.",24/Jun/25 7:22 AM;5c8fc1cd627d3b2d0163b7f1;Also Manas you need to provide every item that is in that sample transaction in the video along with every promotion that exists on it.  I can’t confirm what is happening because the last item that is scanned that removes the FAZZA is not included in any promotion or item file you provided.  If you can just do a store dump of the database and provide that it will make it much easier.,"24/Jun/25 8:01 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16;[^prm-stacking-rule2406.csv]
[^prm-promotion-type-2406.csv]



The video was recorded at the store experiencing the issue. I tested at the same store by adding these two items along with regular merchandise (neither clearance nor under any promotion), and was able to reproduce the issue.Thats why didnt send all items as it was reproducible for simple promotion cases ","24/Jun/25 8:01 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ",24/Jun/25 6:31 PM;5c8fc1cd627d3b2d0163b7f1;I am still researching this. So far I have not been able to consistently reproduce the issue.  I have seen it happen a couple times but as I continue to add/remove items the issue goes away and then I can’t get the issue back.,"25/Jun/25 11:13 AM;5c8fc1cd627d3b2d0163b7f1;I will keep trying but I reset my environment to 243.1 this morning and have not been able to reproduce the issue now at all.  Do you possibly have conflicting / overlapping promotions?

!image-20250625-150946.png|width=1370,height=627,alt=""image-20250625-150946.png""!",25/Jun/25 11:14 AM;5c8fc1cd627d3b2d0163b7f1;Could you do a swagger export of your local environment where you were able to reproduce this and provide it to us?  Are you able to consistently reproduce the issue locally?,"25/Jun/25 11:30 AM;5c8fc1cd627d3b2d0163b7f1;One thing I just noticed in your data for the simple promotions is the prm_reward has tier = 0 but prm_qualification tier = 1.  These should match but still not sure why it works fine for me either way and not for you.  Please see if you can reproduce and then export your full store dataset, not just select rows so I can import the full thing here and try to test it.","26/Jun/25 12:57 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16;Do you possibly have conflicting / overlapping promotions? - No Nathan not for current store , we have same promotions for another store . These items are currently part of simple promotions .
We are on version {{243.1.27}}

It reproduces sometimes on my local .But in store it happens all the time for these two items and other normal items with Fazza . I will try to get store dump , but it will be huge in size.","26/Jun/25 12:58 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ","26/Jun/25 7:01 AM;5c8fc1cd627d3b2d0163b7f1;When you get a dump of the full data set from the store you can upload it to this sftp site

Host: [http://support.jumpmind.com|http://support.jumpmind.com]
Port: 2222
Protocol: SFTP
User: tmp955011
Pass: XCNo/GtQcC4ylvzW
Expires: 2025-07-06","26/Jun/25 7:19 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16;I guess it will require whitelisting as i am not able to upload 



!image-20250626-111821.png|width=449,height=448,alt=""image-20250626-111821.png""!

","26/Jun/25 7:19 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ",26/Jun/25 7:21 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16;Uploaded Export ,"26/Jun/25 7:48 AM;5c8fc1cd627d3b2d0163b7f1;I have the file but for sanity sake could you try running this command for the sftp to see if it lets you connect.
sftp -P 2222 [tmp955011@support.jumpmind.com|mailto:tmp955011@support.jumpmind.com]","26/Jun/25 8:13 AM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16] just a side comment and observation while extracting the data from that file.  Are you running the purge process on these fixed devices?  i.e. application-purge-fixed.yml  –> specifically jobs {{purgeSalesTransPublish}}and {{purgePublicationStage}}?  These should be scheduled to run to keep the publish tables (sls_trans_publish and pub_payload) much smaller, I see data in those files from last October when the purge really should be removing anything older than ~2 weeks.  There are not a lot of rows but a very large amount of content.","26/Jun/25 8:34 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16;No We havent run purge yet . If we schedule in application-purge-fixed.yml , will it run by itself or we need to call any api ","26/Jun/25 8:36 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16;Currently we have these files and as i can see all of them are enabled but its not running i guess 

[^application-purge-reg.yml]
[^application-purge-isp.yml]
[^application-purge-central.yml]

","26/Jun/25 8:37 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16;Regarding sftp it is not connecting , showing read timeout 



!image-20250626-123743.png|width=544,height=78,alt=""image-20250626-123743.png""!

","26/Jun/25 2:51 PM;5c8fc1cd627d3b2d0163b7f1;Interesting on the sftp, it is accessible here fine, thanks for checking that.

I just tried again with pulling in almost the entire dataset you provided from that store (I removed the majority of item selling price and rule records to reduce how much data I loaded here) and I could never reproduce the issue again.

Another note (again these are just suggestions/observations to help clean up your environment), the itm_assigned_item table appears it is not being routed by tag_business_unit_id.  The data is from all stores it appears in this file.  If you could provide a support snapshot from your SymmetricDS instance (central) I could take a look to confirm.  

To generate a snapshot open the SymDS UI, go to the Help tab then Support from the left menu and select ‘Take Snapshot’.  Download and send over the file generated, should be a relatively small file.

!image-20250626-122039.png|width=922,height=344,alt=""image-20250626-122039.png""!



Regarding the jobs, I am assuming that your application-purge-reg.yml would be what should be part of your fixed register deployment.  Could you post a log from one full day from this store?  Looking for a log that contains when JMC POS was started up.  There are lines in the log that would show what profiles are being pulled in and also it should reflect what jobs are scheduled.","27/Jun/25 1:00 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16;Sure Nathan , We will check that , I will also update itm_assigned_item to sync based on business_unit_id , I can see its not based on business unit nmow , will update that , thanks 


{noformat}insert,""itm_assigned_item"",""businessunit to device"",""1"",""70"",,,""0"",""2019-03-05 15:49:14.621000000"",""default"",""2019-03-05 15:49:14.621000000"",
insert,""itm_assigned_item"",""corp to businessunit"",""1"",""70"",,,""0"",""2019-03-05 15:49:14.441000000"",""default"",""2019-03-05 15:49:14.441000000"",
{noformat}

Regarding The Fazza issue with simple promotion , i was also able to reproduce on my local based on store dump . Did you checked what can be the issue for that ? You can put normal items and then simple promotion , it will reproduce .","27/Jun/25 1:00 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ","27/Jun/25 1:11 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16;I am attaching screenshots , you can scan these items in order to reproduce 



1. After this cart scan item 167589043 Then it will reproduce 

!Screenshot 2025-06-27 at 9.08.30 AM-20250627-050833.png|width=1728,height=813,alt=""Screenshot 2025-06-27 at 9.08.30 AM-20250627-050833.png""!

!Screenshot 2025-06-27 at 9.08.07 AM-20250627-050810.png|width=1716,height=789,alt=""Screenshot 2025-06-27 at 9.08.07 AM-20250627-050810.png""!

","27/Jun/25 2:47 PM;5c8fc1cd627d3b2d0163b7f1;Thanks [~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16] I was able to reproduce consistently with this setup, I’m trying to thin down the data to see if the data is the issue then I can get it to engineering.","27/Jun/25 4:01 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;I have opened a bug ticket with our engineering: [JMC-7927].

This issue will now need to go through Planning.",01/Jul/25 9:17 AM;5c8fc1cd627d3b2d0163b7f1;Engineering has made an update to the promotion engine which is being reviewed currently.  ,"07/Jul/25 8:16 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16;[^export-20250626T120144.zip]

Uploading Production data dump with duplicate entries and around 65k active promotions 

Here is the query to check duplicate active ones 



{code:sql}select count(*) FROM prm_assigned_promotion
WHERE promotion_id IN (
    SELECT promotion_id
    FROM (
        SELECT p.promotion_id
        FROM prm_assigned_promotion p
        WHERE EXISTS (
            SELECT 1
            FROM prm_assigned_promotion p2
            WHERE p2.promotion_id = p.promotion_id
              AND p2.create_time > p.create_time
        )
    ) sub
) ;{code}

",07/Jul/25 11:12 AM;5c8fc1cd627d3b2d0163b7f1;Just a reminder [~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16] you really should look at getting the purge job running that cleans up the pub_xx and sls_trans_pubxx tables.,"07/Jul/25 3:44 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dcfe3717-6fab-4311-9384-740932e79a16;Yes Nathan Purge for central wasnt enabled, It was enabled for register  , I have enabled it . It should purge now . ",,,,,,,,,,,,In Progress,24/Jun/25 5:33 AM
How to handle multiple IAfterBuildScreen implementations for a screen,JMCH-934,23977,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,High,,,,Elliot Thomas,60b9bbb248549e0069485164,Elliot Thomas,60b9bbb248549e0069485164,21/Jun/25 1:26 PM,08/Jul/25 1:11 PM,24/Jun/25 2:56 PM,,,0,,"There are some changes to the screen / flow that TVS would like when it comes to the screen in the attached screen shot. 

This screen already is using {{IAfterBuildScreen}}  ({{AfterBuildOrderPackDeliverScreen}}) in base. 

The {{IAfterBuildScreen}} implementations are being sorted in a way that it uses the {{TvsAfterBuildOrderPackDeliverScreen}} before {{AfterBuildOrderPackDeliverScreen}}. 

I would like the base {{AfterBuildOrderPackDeliverScreen}} to run before my {{TvsAfterBuildOrderPackDeliverScreen}} implementation. 

Is there currently a known way to handle this?



",,Automation for Jira,Nathan Richardson,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,21/Jun/25 1:12 PM;60b9bbb248549e0069485164;1.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25091,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6d8b2cb5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Priority 2 (High),,,,,,,,,,,,,,,,,,Logic,Vitamin Shoppe,,,,,,Point of Sale,,,,,1|i0130z:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,commerceVersion=243.7.2,,,,2025-06-24 15:28:54.211,,21/Jun/25 1:26 PM;60b9bbb248549e0069485164;!1.png|thumbnail!,24/Jun/25 11:28 AM;5c8fc1cd627d3b2d0163b7f1;We think you should be able to add an ordered annotation to the class.,"24/Jun/25 2:55 PM;62e96878d49df231b6276c30;{noformat}package org.jumpmind.pos.app.state.orders.pack.deliver;

import org.jumpmind.pos.app.screen.order.OrderPackUIMessage;
import org.jumpmind.pos.core.flow.State;
import org.jumpmind.pos.core.screen.BuiltScreen;
import org.jumpmind.pos.core.screen.IAfterBuildScreen;
import org.springframework.core.annotation.Order;

@Order
@State(name = ""OrderPackState"")
public class TvsAfterBuildOrderPackDeliverScreen implements IAfterBuildScreen<OrderPackUIMessage> {
    @Override
    public void afterBuiltScreen(BuiltScreen<OrderPackUIMessage> builtScreen) {
        builtScreen.getUiMessage().getPrimaryActionButton().setEnabled(false);
    }
}
{noformat}





This was using @Order with the Lowest Precendence.  Even with this annotation, {{TvsAfterBuildOrderPackDeliverScreen}} is still getting ran before {{AfterBuildOrderPackDeliverScreen}}","24/Jun/25 2:55 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ","26/Jun/25 10:06 AM;5c8fc1cd627d3b2d0163b7f1;I reached back out to engineering and it sounds like AfterBuildOrderPackDeliverScreen doesn’t have an order annotation on it so it would require an update to JMC.
I am going to update this ticket to a ‘bug’ and will forward it to engineering to prioritize for a future release.","26/Jun/25 10:07 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7918.

This issue will now need to go through Planning.","26/Jun/25 12:38 PM;62e96878d49df231b6276c30;Per our morning call, we discussed a potential workaround but unfortunately, the work around will not work since the IAfterBuildScreen in base will always get ran after ours. 



We will need this fixed in the base product to be able to make our customizations",26/Jun/25 12:57 PM;5c8fc1cd627d3b2d0163b7f1;I have escalated on our side.,"03/Jul/25 10:11 AM;62e96878d49df231b6276c30;Thanks Nathan – has your planning meeting occurred?  If so, was there a delivery release that was pinpointed for this fix?","03/Jul/25 12:20 PM;5c8fc1cd627d3b2d0163b7f1;No updates as of yet, I have reached out again on the ticket.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,21/Jun/25 1:26 PM
High CPU usage on multiple nodes,JMCH-933,23974,Bug,Acknowledged,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Mike Dalton,62d82941751c4f698e03958a,Yvan Claveau,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa,Yvan Claveau,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa,20/Jun/25 4:44 PM,11/Jul/25 7:21 AM,24/Jun/25 8:11 AM,,,0,,"2nd week in a row where we experience one or more nodes with high CPU usage for a duration of multiple minutes, reflected as noticeable performance slowdown for stores with devices on the affected nodes. Opening this to attach logs pertaining to one such node.",,Automation for Jira,Mike Dalton,Nathan Richardson,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,62d82941751c4f698e03958a,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,JMCH-735,,,28/Jun/25 3:00 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;IMG_3770.jpeg;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25452,22/Jun/25 2:23 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;IMG_9211.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25122,22/Jun/25 2:23 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;IMG_9212.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25121,28/Jun/25 2:53 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;IMG_9338.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25451,29/Jun/25 8:30 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;IMG_9345.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25484,20/Jun/25 4:44 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;aks-userpool1-21685105-vmss00000a_1h37_1h51.zip;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25083,21/Jun/25 3:41 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;configmap.yaml;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25092,21/Jun/25 3:41 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;deployment.yaml;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25095,20/Jun/25 5:52 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;image-20250620-214644.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25086,20/Jun/25 5:52 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;image-20250620-214820.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25087,23/Jun/25 12:02 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;image-20250623-040154.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25124,23/Jun/25 12:13 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;image-20250623-041333.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25125,29/Jun/25 5:37 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;image-20250629-213502.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25518,29/Jun/25 5:37 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;image-20250629-213525.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25517,02/Jul/25 10:15 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;image-20250702-141051.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25655,02/Jul/25 10:15 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;image-20250702-141205.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25654,28/Jun/25 4:32 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;image001 (a7140078-24fd-4413-966d-6abd6f64308c).png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25454,10/Jul/25 6:22 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;image001 (c1186a58-34c6-4092-82ba-12608defd35b).png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/26013,28/Jun/25 4:14 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;image001 (cb686e03-26cb-48c3-9bad-bce783870f28).png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25453,21/Jun/25 3:41 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;image001 (d770272b-4e8f-4e1b-b663-2bf445d2addf).png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25093,10/Jul/25 6:18 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;image001 (d839e4dc-5ba1-478e-bd92-ad64b5178d1a).png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/26011,21/Jun/25 11:26 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;image001.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25089,10/Jul/25 6:18 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;image002 (fdaed27d-53c0-4428-8bc1-3a33712bfd31).png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/26012,21/Jun/25 11:26 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;image002.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25088,28/Jun/25 4:32 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;image003.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25456,20/Jun/25 5:29 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;jmch-933 - 1251-01.csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25084,20/Jun/25 5:29 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;jmch-933 - 1251-02.csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25085,29/Jun/25 5:37 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;prod_query_store_start8amEST-sundayjune29.zip;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25519,28/Jun/25 4:32 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;prod_query_store_start8amEST.zip;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25455,21/Jun/25 3:41 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;service.yaml;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25094,04/Jul/25 1:58 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;threaddump.txt;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25715,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@7b4dc648,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 2 (High),,,,,,,,,,,,,,,,,,Reitman's Canada Limited,,,,,,,Commerce Central,,,,N/A,1|i0130j:,,Technical Issue,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c),,,,,,,,,,,,,,,,,,,,,,,,,4:38,,,,,241.0.31,,,,2025-06-20 21:02:56.455,,20/Jun/25 4:44 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;[^aks-userpool1-21685105-vmss00000a_1h37_1h51.zip],20/Jun/25 5:02 PM;62d82941751c4f698e03958a;Can we get a log from the node solely for 1251-01 or whichever register in the store was most utlized?,"20/Jun/25 5:29 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;[^jmch-933 - 1251-02.csv]
[^jmch-933 - 1251-01.csv]

Queried for each device separately for same time frame as full container log (give or take a couple seconds each direction) though 1251-01 has approx 1000 extra log records.","20/Jun/25 5:36 PM;62d82941751c4f698e03958a;Can we get a graph similar to the one provided of all pods on CPU usage, but during a slow period?

Also, are there plans to move to 15 pods from the current 12 this weekend?","20/Jun/25 5:52 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;Fabrizio can update with the plan on pods.

Here is a graph of the last 12 hours, including the high usage event between 1h30-2h30pm:

!image-20250620-214644.png|width=2022,height=820,alt=""image-20250620-214644.png""!

While here is a graph of the same time span from Monday June 16th, noting that we had approx 20 fewer stores than today:

!image-20250620-214820.png|width=2022,height=830,alt=""image-20250620-214820.png""!

","21/Jun/25 11:26 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;Good morning all, 

We expect to be hitting a 100% cpu event in the next hour or two due to volume. 

This is the current “last hour” graph.  

Is there anything worth monitoring “live” that would be valuable? 

Stores apparently are already reporting slowness but we normally except to see this only when a pod is actually capped to 100%, which hasn’t happened yet. 

Thanks. 

  

!image001.png|thumbnail! 

   

{color:#44546A}Yvan Claveau{color} {color:#44546A}| PROGRAMMEUR ANALYSTE | PROGRAMMER ANALYST{color}{color:#44546A}{color}{color:#0070C0}{color} 

[{color:#0070C0}{color}{color:#0070C0}yclaveau@REITMAN{color}{color:#0070C0}{color}{color:#0070C0}S.COM{color}{color:#0070C0}{color}|mailto:yclaveau@REITMANS.COM]{color:#0070C0}{color}{color:#44546A}{color}{color:#44546A}{color}  {color:#44546A}|{color} {color:#44546A}C{color}{color:#44546A} 514.235.8322 |{color} {color:#44546A}W{color}{color:#44546A}{color}{color:#0070C0}{color} [{color:#0070C0}{color}{color:#0070C0}WWW.REITMANSCANADALIMITEE.COM{color}{color:#0070C0}{color}|http://www.reitmanscanadalimitee.com/]{color:#0070C0}{color}{color:#0070C0}{color} 

{color:#44546A}250, RUE SAUVÉ OUEST / WEST, MONTRÉAL (QUÉBEC) CANADA H3L 1Z2{color}{color:#44546A}{color} 

!image002.png|thumbnail!{color:#172B4D}{color}",21/Jun/25 3:37 PM;62d82941751c4f698e03958a;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0] [~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa] can we get all the {{.yaml}} files under the {{rcl-kube-jmc/proxy}} directory. Not sure that is the exact directory but looking for those files.,"21/Jun/25 3:38 PM;62d82941751c4f698e03958a;Met with Fab and Yvan with Kevin Deloray. 



12 pods currently.

Core pool maximum of roughly 100 cores for the environment.

Issues getting to 12 due to settings with Cloud middleman.

Can only go to 15 pods max due to subnet.

Need to go to 15 but haven't. 

June 15 - increase of DB cores to 16 cores - not implemented

One of the 12 pods does not have commerce running.

Device distribution iss uneven with over and under utilized pods.

Basic resource requests should scheduled by K8.

Have pods with multiple nodes unevenly distributed.

April 29th - Henry recommended pod topology spread change - not implemented

Potential optimization of statelb which may help spread more even.

Can decommission Symmetric and free up resources.

Tonight

# Topology changes

Sunday/Monday

# Move to 15 nodes
# Remove SymmetricDS pods
# Increase DB Cores
# Statelb changes
# Deploy 243.0.35","21/Jun/25 3:41 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;See attached, from this emplacement: 

!image001 (d770272b-4e8f-4e1b-b663-2bf445d2addf).png|thumbnail! 

   

{color:#44546A}Yvan Claveau{color} {color:#44546A}| PROGRAMMEUR ANALYSTE | PROGRAMMER ANALYST{color}{color:#44546A}{color}{color:#0070C0}{color} 

[{color:#0070C0}{color}{color:#0070C0}yclaveau@REITMAN{color}{color:#0070C0}{color}{color:#0070C0}S.COM{color}{color:#0070C0}{color}|mailto:yclaveau@REITMANS.COM]{color:#0070C0}{color}{color:#44546A}{color}{color:#44546A}{color}  {color:#44546A}|{color} {color:#44546A}C{color}{color:#44546A} 514.235.8322 |{color} {color:#44546A}W{color}{color:#44546A}{color}{color:#0070C0}{color} [{color:#0070C0}{color}{color:#0070C0}WWW.REITMANSCANADALIMITEE.COM{color}{color:#0070C0}{color}|http://www.reitmanscanadalimitee.com/]{color:#0070C0}{color}{color:#0070C0}{color} 

{color:#44546A}250, RUE SAUVÉ OUEST / WEST, MONTRÉAL (QUÉBEC) CANADA H3L 1Z2{color}{color:#44546A}{color} 

!image002.png|thumbnail!{color:#172B4D}{color}

[^configmap.yaml] _(0.4 kB)_

[^service.yaml] _(0.2 kB)_

[^deployment.yaml] _(0.8 kB)_",21/Jun/25 4:42 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;Hi Mike just to provide a update given the weekend and not introduce any new disruptions in store we will apply the topology change along with increasing to 15 pods on Sunday evening ,"22/Jun/25 2:23 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;Hi Mike. Advising that although we did not make the changes last night we did simply rerun pipeline. In doing so azure correctly assigned 1 commerce pod per node. What we can see today is there definitely is a direct. Correlation between devices on a pod vs cpu usage 

see attached for device per pod after pipeline and cpu usage. 

the pod distribution fix seems to be the end goal. 

!IMG_9212.png|width=1170,height=2532,alt=""IMG_9212.png""!



","22/Jun/25 2:23 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;

!IMG_9211.png|width=1170,height=2532,alt=""IMG_9211.png""!

","23/Jun/25 12:02 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0; 

We have scaled up the User Pool to 15 nodes. Updated the replicas to 15 and added the listed topology spec as provided in deployment yaml. Although we still got 2 commerce pods running on 1 node and the distribution of devices  is worse as 1 pod got 256



!image-20250623-040154.png|width=505,height=478,alt=""image-20250623-040154.png""!





 

spec:

      topologySpreadConstraints:

* maxSkew: 1

          topologyKey: [kubernetes.io/hostname|http://kubernetes.io/hostname]

          whenUnsatisfiable: ScheduleAnyway

          labelSelector:

            matchLabels:

              app: commerce

      containers:

* name: commerce

          image: [http://acrrcljumpmindprodcc.azurecr.io/rcl-jmc:prod-latest|http://acrrcljumpmindprodcc.azurecr.io/rcl-jmc:prod-latest|smart-link] 

          resources:

            requests:

              memory: ""20Gi""

              cpu: ""6""

            limits:

              memory: ""20Gi""

              cpu: ""8""

 

","23/Jun/25 12:13 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;One more pipeline run to “roll the dice” on trying to get even pods-to-nodes, we received a worst distribution, 85 extra devices on the highest usage node:





!image-20250623-041333.png|width=396,height=472,alt=""image-20250623-041333.png""!

","28/Jun/25 2:53 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;Hi Mike. usage today during busy period in pm. Has 1 pod stuck at 100 and another 2 also hitting 100s throughout period.  

!IMG_9338.png|width=1170,height=2532,alt=""IMG_9338.png""!

","28/Jun/25 3:00 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;The distribution is definitly impacting the overall running of nodes.. we can. See how sparse it is across the 15

!IMG_3770.jpeg|width=425,height=474,alt=""IMG_3770.jpeg""!

",28/Jun/25 3:30 PM;62d82941751c4f698e03958a;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0] do you have the ability to use kubectl yet?,28/Jun/25 3:40 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;Logic confirmed. Should be no issue to create a new ssh key set. So once admin does in non prod and of all good then prod we would be able to. This was planned for next week ,28/Jun/25 3:47 PM;62d82941751c4f698e03958a;Is the statelb currently deployed to your QA environment?,28/Jun/25 3:50 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;We have not received any new version last discussed it was pending testing and not yet know how to migrate this to our environment ,28/Jun/25 3:51 PM;62d82941751c4f698e03958a;Asking if it is deployed as is in your QA? I want to know would  we be introducing it to QA or can we use QA to test updating to the new version.,28/Jun/25 3:59 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;We have a statlelb in qa although there isn’t 15 pods nor thousand devices online to simulate production ,28/Jun/25 4:00 PM;62d82941751c4f698e03958a;Understood. Its the deployment part that may take some trial and error. ,"28/Jun/25 4:14 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;FYI, we also need to evaluate if its normal that we have 3x statelb pods running each on a separate node. This was not something we were aware of since initial setup on 3 nodes, nor while we increased to 7, 12 an now 15 nodes. 

Thanks, 

  

!image001 (cb686e03-26cb-48c3-9bad-bce783870f28).png|thumbnail! 

   

{color:#44546A}Yvan Claveau{color} {color:#44546A}| PROGRAMMEUR ANALYSTE | PROGRAMMER ANALYST{color}{color:#44546A}{color}{color:#0070C0}{color} 

[{color:#0070C0}{color}{color:#0070C0}yclaveau@REITMANS.COM{color}{color:#0070C0}{color}|mailto:yclaveau@REITMANS.COM]{color:#0070C0}{color}{color:#44546A}{color}{color:#44546A}{color}  {color:#44546A}|{color} {color:#44546A}C{color}{color:#44546A} 514.235.8322 |{color} {color:#44546A}W{color}{color:#44546A}{color}{color:#0070C0}{color} [{color:#0070C0}{color}{color:#0070C0}WWW.REITMANSCANADALIMITEE.COM{color}{color:#0070C0}{color}|http://www.reitmanscanadalimitee.com/]{color:#0070C0}{color}{color:#0070C0}{color} 

{color:#44546A}250, RUE SAUVÉ OUEST / WEST, MONTRÉAL (QUÉBEC) CANADA H3L 1Z2{color}{color:#44546A}{color} 

!image002.png|thumbnail!{color:#172B4D}{color}",28/Jun/25 4:17 PM;62d82941751c4f698e03958a;StateLB is just a proxy. 3 pods is probably fine. You don't need 15 of them or anything.,28/Jun/25 4:19 PM;62d82941751c4f698e03958a;Can also we get the state of the database as well and then any query stats?,"28/Jun/25 4:32 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;Attached zipped results from the query store statement that Henry had shared last week, with start time as of 8am EST. 

  

Last 4 hours CPU graph.
 !image001 (a7140078-24fd-4413-966d-6abd6f64308c).png|thumbnail! 

  

Last 4 hours nodes CPU graphs. 

!image003.png|thumbnail! 

   

{color:#44546A}Yvan Claveau{color} {color:#44546A}| PROGRAMMEUR ANALYSTE | PROGRAMMER ANALYST{color}{color:#44546A}{color}{color:#0070C0}{color} 

[{color:#0070C0}{color}{color:#0070C0}yclaveau@REITMANS.COM{color}{color:#0070C0}{color}|mailto:yclaveau@REITMANS.COM]{color:#0070C0}{color}{color:#44546A}{color}{color:#44546A}{color}  {color:#44546A}|{color} {color:#44546A}C{color}{color:#44546A} 514.235.8322 |{color} {color:#44546A}W{color}{color:#44546A}{color}{color:#0070C0}{color} [{color:#0070C0}{color}{color:#0070C0}WWW.REITMANSCANADALIMITEE.COM{color}{color:#0070C0}{color}|http://www.reitmanscanadalimitee.com/]{color:#0070C0}{color}{color:#0070C0}{color} 

{color:#44546A}250, RUE SAUVÉ OUEST / WEST, MONTRÉAL (QUÉBEC) CANADA H3L 1Z2{color}{color:#44546A}{color} 

!image002.png|thumbnail!{color:#172B4D}{color}

[^prod_query_store_start8amEST.zip] _(926 kB)_",28/Jun/25 5:08 PM;62d82941751c4f698e03958a;What is the count(*) of sls_trans_publish? And what is the oldest transaction business date in the table? Wondering what the purge of those publish tables is set to.,"28/Jun/25 5:15 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;Count of sls_trans_publish : 2,734,069 

Oldest create_time of sls_trans_publish : ""2024-04-18 11:17:32.213"" 

   

{color:#44546A}Yvan Claveau{color} {color:#44546A}| PROGRAMMEUR ANALYSTE | PROGRAMMER ANALYST{color}{color:#44546A}{color}{color:#0070C0}{color} 

[{color:#0070C0}{color}{color:#0070C0}yclaveau@REITMANS.COM{color}{color:#0070C0}{color}|mailto:yclaveau@REITMANS.COM]{color:#0070C0}{color}{color:#44546A}{color}{color:#44546A}{color}  {color:#44546A}|{color} {color:#44546A}C{color}{color:#44546A} 514.235.8322 |{color} {color:#44546A}W{color}{color:#44546A}{color}{color:#0070C0}{color} [{color:#0070C0}{color}{color:#0070C0}WWW.REITMANSCANADALIMITEE.COM{color}{color:#0070C0}{color}|http://www.reitmanscanadalimitee.com/]{color:#0070C0}{color}{color:#0070C0}{color} 

{color:#44546A}250, RUE SAUVÉ OUEST / WEST, MONTRÉAL (QUÉBEC) CANADA H3L 1Z2{color}{color:#44546A}{color} 

!image002.png|thumbnail!{color:#172B4D}{color}","28/Jun/25 5:45 PM;62d82941751c4f698e03958a;That is an issue. The sls_trans_publish and sls_trans_publish_status tables should be purged daily with no more than 2 weeks data. There is configuration in your purge process that needs added to clear those record out. You can manually delete data already published data, first the sls_trans_publish table and then the sls_trans_publish_status table. Deleting from sls_trans_publish_status when there is a sls_trans_publish record present will result in it being resent to Sales Audit.","28/Jun/25 6:29 PM;5c8fc1cd627d3b2d0163b7f1;Here are a couple sql’s you can use to manually clean up the two sls_trans_publish and sls_trans_publish_status tables, run them in this order.  Delete from the sls_trans_publish table first then delete from sls_trans_publish_status.

The first query deletes all transactions that have been published (a corresponding row in xx_status table) that were created over 2 weeks ago (14 days):

{noformat}delete from sls_trans_publish P
using sls_trans_publish_status S
where P.device_id = S.device_id
  and P.business_date = S.business_date
  and P.sequence_number = S.sequence_number
  and P.create_time < current_timestamp - interval '14 days'{noformat}



This query deletes all the status records that no longer have a corresponding publish record as they are no longer valid/needed there:

{noformat}DELETE FROM sls_trans_publish_status
WHERE NOT EXISTS (
    SELECT 1
    FROM sls_trans_publish
    WHERE sls_trans_publish_status.device_id = sls_trans_publish.device_id
      AND sls_trans_publish_status.business_date = sls_trans_publish.business_date
      AND sls_trans_publish_status.sequence_number = sls_trans_publish.sequence_number
);{noformat}



As always, you should test these in a lower environment to confirm.  You can update them to selects to verify the results before though be careful in prod with that much data the select may take longer than you want.",28/Jun/25 9:24 PM;62d82941751c4f698e03958a;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa] [~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0] We would recommend cleaning up this data prior to store open tomorrow or at the least start Monday. This could cut DB core usage some and to a lesser extent the Commerce pods cpu usage.,"29/Jun/25 8:30 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;Hi mike. Most definitely we will clean these up. We will try in test first and then if all good apply in prod. For prod likely process in chunks of dates to be sure no issue on processing then delete against so many at once. I am not sure how much benefit would reside in commerce pods. Although on db side usage is extremely low. Here is last days 



!IMG_9345.png|width=1170,height=2532,alt=""IMG_9345.png""!

","29/Jun/25 5:37 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;Today pod usage was lesser than yesterday (expected usually when comparing against saturday). DB CPU also did only spike up to 83% for probably less than 1 minute, vs capped at 100% for 30 minutes last week.



!image-20250629-213525.png|width=1852,height=582,alt=""image-20250629-213525.png""!



!image-20250629-213502.png|width=1028,height=415,alt=""image-20250629-213502.png""!

Also attaching extract of query store from 8am this morning. Note that we deleted approx 300k transactions (oldest until december 2024); cleanup will continue after all stores are closed to avoid impact.

[^prod_query_store_start8amEST-sundayjune29.zip]

","02/Jul/25 10:15 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;Here is the listing of devices per node for Saturday June 28th, followed by the graph showing which had highest CPU utilization %.



!image-20250702-141051.png|width=433,height=441,alt=""image-20250702-141051.png""!



!image-20250702-141205.png|width=1846,height=598,alt=""image-20250702-141205.png""!

","04/Jul/25 1:58 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;attached is thread dump from 1 pod runinng 40% cpu idle

[^threaddump.txt]

",05/Jul/25 10:26 AM;62d82941751c4f698e03958a;Seeing a large number of async-executor-task-1 threads which is corrected with the 241.0.33 release now in your QA. Need to prioritize getting the new release out.,10/Jul/25 3:35 PM;5c8fc1cd627d3b2d0163b7f1;Sounds like you upgraded to 241.0.33 last night 7/9.  Can you please let us know how things are looking regarding this ticket?,"10/Jul/25 6:18 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;Hi Nathan, 

Here is last 12 hours graph, and below same time last week. Overall looks better “blended”, not necessarily much lower CPU usage overall at this glance. Will see with the expected higher volume Fri-Sat-Sun. 

!image001 (d839e4dc-5ba1-478e-bd92-ad64b5178d1a).png|thumbnail! 

  

!image002 (fdaed27d-53c0-4428-8bc1-3a33712bfd31).png|thumbnail! 

   

{color:#44546A}Yvan Claveau{color} {color:#44546A}| PROGRAMMEUR ANALYSTE | PROGRAMMER ANALYST{color}{color:#44546A}{color}{color:#0070C0}{color} 

[{color:#0070C0}{color}{color:#0070C0}yclaveau@REITMANS.COM{color}{color:#0070C0}{color}|mailto:yclaveau@REITMANS.COM]{color:#0070C0}{color}{color:#44546A}{color}{color:#44546A}{color}  {color:#44546A}|{color} {color:#44546A}C{color}{color:#44546A} 514.235.8322 |{color} {color:#44546A}W{color}{color:#44546A}{color}{color:#0070C0}{color} [{color:#0070C0}{color}{color:#0070C0}WWW.REITMANSCANADALIMITEE.COM{color}{color:#0070C0}{color}|http://www.reitmanscanadalimitee.com/]{color:#0070C0}{color}{color:#0070C0}{color} 

{color:#44546A}250, RUE SAUVÉ OUEST / WEST, MONTRÉAL (QUÉBEC) CANADA H3L 1Z2{color}{color:#44546A}{color} 

!image002.png|thumbnail!{color:#172B4D}{color}","10/Jul/25 6:18 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ","10/Jul/25 6:22 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa;And pod/node distribution: 

!image001 (c1186a58-34c6-4092-82ba-12608defd35b).png|thumbnail! 

   

{color:#44546A}Yvan Claveau{color} {color:#44546A}| PROGRAMMEUR ANALYSTE | PROGRAMMER ANALYST{color}{color:#44546A}{color}{color:#0070C0}{color} 

[{color:#0070C0}{color}{color:#0070C0}yclaveau@REITMANS.COM{color}{color:#0070C0}{color}|mailto:yclaveau@REITMANS.COM]{color:#0070C0}{color}{color:#44546A}{color}{color:#44546A}{color}  {color:#44546A}|{color} {color:#44546A}C{color}{color:#44546A} 514.235.8322 |{color} {color:#44546A}W{color}{color:#44546A}{color}{color:#0070C0}{color} [{color:#0070C0}{color}{color:#0070C0}WWW.REITMANSCANADALIMITEE.COM{color}{color:#0070C0}{color}|http://www.reitmanscanadalimitee.com/]{color:#0070C0}{color}{color:#0070C0}{color} 

{color:#44546A}250, RUE SAUVÉ OUEST / WEST, MONTRÉAL (QUÉBEC) CANADA H3L 1Z2{color}{color:#44546A}{color} 

!image002.png|thumbnail!{color:#172B4D}{color}",In Progress,20/Jun/25 4:44 PM
POS - transactions are being created with ORDER ITEM but no actually store order info so the customer will never get the item.  ,JMCH-923,23927,Bug,Waiting for customer,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Jake Vanmeter,70121:4c55edb8-b2f0-47f8-bb2c-524b3fa93eda,Linda Fothergill,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c,Linda Fothergill,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c,19/Jun/25 11:47 AM,27/Jun/25 10:57 AM,,,,0,,"See the screen shot for 3 recent examples

See attached document for more info about the latest example from store 1064-01 txn 6133 on June 7

When looking in the e-journal we see order item but no order #, print receipt the receipt has no item info or tax info (in this example if we assume the ship to is the CRM customer address that would be ON & HST)

Logs of multiple examples also attached. 

So the order comes into SA but with no store order info it does not get sent to the OMS system for fulfillment and until customer complains we can’t fix it or at least offer a refund. 

",,Aakash Patel,Automation for Jira,Jake Vanmeter,Nathan Richardson,712020:1e31b905-2797-45c2-b5ac-e31ef7818f38,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,70121:4c55edb8-b2f0-47f8-bb2c-524b3fa93eda,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,19/Jun/25 11:42 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;PSQ-1177 ex from 1064-01_20250607_6133.csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24980,19/Jun/25 11:40 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;PSQ-1177 store 1064-01 txn 6133 example.docx;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24979,19/Jun/25 11:27 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;Recent txn with order item no store order info.PNG;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24978,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6ffb52be,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 2 (High),,,,,,,,,,,,,,,,,,Reitman's Canada Limited,,,,,,,Point of Sale,,,,"No info on what exactly the steps are that result in an order item on a txn with no order info attached.  I’m trying in QA to see if I can figure out how to reproduce but no luck so far.  

store 1064-01 txn 6133 on June 7 logs are attached, perhaps they will provide some clues?",1|i012tn:,,Technical Issue,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa),,,,,,,,,,,,,,,,,,,,,,,,,6:00,,,,,241.0.32 ,,,,2025-06-19 17:05:01.253,,"19/Jun/25 11:47 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;[^PSQ-1177 ex from 1064-01_20250607_6133.csv]

[^PSQ-1177 store 1064-01 txn 6133 example.docx]

!Recent txn with order item no store order info.PNG|thumbnail!",19/Jun/25 11:51 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;log of latest example only added (correction to initial info above),"19/Jun/25 1:05 PM;70121:4c55edb8-b2f0-47f8-bb2c-524b3fa93eda;When you are able to reproduce the issue, please provide the steps taken to reproduce. In the mean time, we will look at the provided information and see what can be determined.",20/Jun/25 9:33 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;I am not able to reproduce so as discussed with Henry (Henglin Wang) on the tech call June 19 any info you can glean from the logs that would help me understand what they were doing in these transactions might help me figure out steps.  ,"20/Jun/25 9:33 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ","27/Jun/25 10:48 AM;5c8fc1cd627d3b2d0163b7f1;We have looked more closely through the logs you provided.  We see where it appears the item was scanned and the system checked for availability which returned:

{noformat}""itemName\"""":37908759,\""""atcQuantity\"""":0,\""""atcStatus\"""":\""""Out of Stock\""""{noformat}

Then right after this the log reflects: 

{noformat}""message"""":""""ItemId '{}' is not available to order"""",""""arguments"""": [""""37908759""""]{noformat}



It appears even though this was the returned status, it still allowed the item to be added to an order.  We would recommend reviewing your custom RclProductDetailsState to see if there is some issue while handling these items returned from the inquiry.

{noformat}Transition from RclProductDetailsState to RclSaleState{noformat}


Clearly the item should not have been permitted to be added to an order and it does appear custom RCL code is involved at this point.  We will attempt to reproduce a similar scenario here however it may not be easy.  If you would be able to reproduce in your lab knowing what the results are returned from the inquiry it might be possible for you to see the similar results there?  Please let us know if you are able to recreate now knowing what was encountered.

i.e. Find an item in your lab environment that would be ‘out of stock’ scan or search for it and then try to add it to an order and complete the transaction.

","27/Jun/25 10:55 AM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c] - 
We have looked more closely through the logs you provided.  We see where it appears the item was scanned and the system checked for availability which returned:

{noformat}""itemName\"""":37908759,\""""atcQuantity\"""":0,\""""atcStatus\"""":\""""Out of Stock\""""{noformat}

Then right after this the log reflects:

{noformat}""message"""":""""ItemId '{}' is not available to order"""",""""arguments"""": [""""37908759""""]{noformat}

 

It appears even though this was the returned status, it still allowed the item to be added to an order.  We would recommend reviewing your custom RclProductDetailsState to see if there is some issue while handling these items returned from the inquiry.

{noformat}Transition from RclProductDetailsState to RclSaleState{noformat}



Clearly the item should not have been permitted to be added to an order and it does appear custom RCL code is involved at this point.  We will attempt to reproduce a similar scenario here however it may not be easy.  If you would be able to reproduce in your lab knowing what the results are returned from the inquiry it might be possible for you to see the similar results there?  Please let us know if you are able to recreate now knowing what was encountered.

i.e. Find an item in your lab environment that would be ‘out of stock’ scan or search for it and then try to add it to an order and complete the transaction.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,19/Jun/25 11:47 AM
Add default purging to base for all publisher tables,JMCH-919,23840,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Mike Dalton,62d82941751c4f698e03958a,Mike Dalton,62d82941751c4f698e03958a,16/Jun/25 10:05 PM,08/Jul/25 1:11 PM,,,,0,,"Had a P1 at BBW in part due to purging of publisher tables being missed. Max database size caused Postgres db to go to read only mode.

Need a proper sequenced purge of all publisher tables set to max of 15 days.",,Automation for Jira,Nathan Richardson,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@686b3837,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1|i012jv:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2025-06-17 02:07:53.94,,"16/Jun/25 10:07 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7853.

This issue will now need to go through Planning.","25/Jun/25 3:43 PM;5c8fc1cd627d3b2d0163b7f1;{noformat}pub_stage
pub_payload{noformat}

Are the only two pub tables that are purged AND are only part of application-purge-fixed.yml so nothing at ISP or Central",25/Jun/25 3:44 PM;5c8fc1cd627d3b2d0163b7f1;Moving status to Development since a JMC ticket has been opened with these details.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,16/Jun/25 10:05 PM
POS: Login/Password - issues causing confusion in stores (in part due to poor error messaging) & generating many support calls,JMCH-913,23695,Bug,Acknowledged,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Linda Fothergill,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c,Linda Fothergill,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c,12/Jun/25 3:54 PM,16/Jun/25 11:01 AM,,,,0,,"I choose Medium but this is generating confusion with users and generating support calls.  Our JIra is medium sev but high priority.

2 issues - one is if they use employee number/POS password and 24 hour period since the last authentication of their corporate credentials has passed they get a user not found message BUT had they used corporate email / pos password they get the correct message they need to set their pos password.

second is if they are in the 24 hour period since they last authenticated and happen to try to login with their corporate email / corporate password they get an incorrect password message (seems b/c POS password is expected not corporate). ",,,,,,,,,,,,,,,,,,,,,12/Jun/25 3:54 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;PSQ-1173.docx;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24704,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@26df1859,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Reitman's Canada Limited,,,,,,,Point of Sale,,,,"# 

User must have been logged in at least once & have set a daily POS password but the 24 hour period has expired.

User enters their employee number and their 4 digit POS password (last one they set).

USER NOT FOUND appears.  But the problem is the 24 hours has expired

If they then enter their corporate email and POS password (or had done that to start with) they see a message telling them their password is expired (we should also update the text to specify that is is the POS password expired, do you want to change (or set) your POS password now).  This is the message that they should see when entering their employee number & 4 digit POS password not USER NOT FOUND.

see doc with screen shot attached

NOTE: If at this point they said NO and they again enter their Employee number and POS password NOW they will see the Change password message.  Why is it able to appear now?

# 

The user has set their daily POS password & is working within the 24 hour period

If they try to login with their corporate email and their corporate password they get a message INCORRECT PASSWORD. If they can’t use corporate password the message should indicate INCORRECT POS PASSWORD, if they can use corporate password then it should let them log on. 

see doc with screen shot attached",1|i012bn:,,Technical Issue,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa),,,,,,,,,,,,,,,,,,,,,,,,,-5:07,,,,,241.0.32 (prod) 241.0.33 (QA),,,,,,12/Jun/25 3:54 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;[^PSQ-1173.docx],,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,12/Jun/25 3:54 PM
Inventory: Missing Outbound Reason Codes,JMCH-912,23694,Support,Waiting for customer,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Henglin Wang,712020:e5b5ad7e-62d4-4865-986d-20a2966755ae,Edita Vanetsian,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac,Edita Vanetsian,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac,12/Jun/25 12:40 PM,07/Jul/25 1:25 PM,,,,0,,"TPS would like to add reason code selection on outbound transfer document screen. The question is can we add a drop down “Reason Code” (i.e COMBO  form filed type) to the attached screen:
",,Aakash Patel,Automation for Jira,Henglin Wang,Nathan Richardson,712020:1e31b905-2797-45c2-b5ac-e31ef7818f38,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:e5b5ad7e-62d4-4865-986d-20a2966755ae,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,12/Jun/25 12:40 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;image-20250612-164026.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24702,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@4744e0e0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Makira,The Paper Store,,,,,,Inventory,,,,,1|i012bf:,,Question,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,243.6.2,,,,2025-06-26 18:01:09.794,,12/Jun/25 12:40 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;!image-20250612-164026.png|thumbnail!,"26/Jun/25 2:01 PM;5c8fc1cd627d3b2d0163b7f1;[~accountid:712020:1e31b905-2797-45c2-b5ac-e31ef7818f38] This ticket can be marked waiting on customer with the below response provided:

The form is customizable, you would update ctx_form_field.
Adding handling for this new field, you would need a state override for {{CreateShippingDocumentState}} (assuming shipping and not receiving since you said outbound transfer) where you could override the action handler method when the form gets submitted.
Please let us know if this answers your question.","30/Jun/25 10:32 AM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac]  - The form is customizable, you would update ctx_form_field.
Adding handling for this new field, you would need a state override for {{CreateShippingDocumentState}} (assuming shipping and not receiving since you said outbound transfer) where you could override the action handler method when the form gets submitted.
Please let us know if this answers your question.","03/Jul/25 11:17 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:88c14855-624e-49eb-abb2-3ac80680c8c2;@Aakash Patel While working on a customization for the {{create.TRANSFER_OUT.doc}} form, I noticed a reference to {{CreateShippingDocumentState}} both in the logs and in your comments. However, I’m unable to locate this class in our local development libraries or source code. Could you please advise where this class resides or how I can access it for override purposes?","03/Jul/25 11:17 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ","03/Jul/25 11:55 AM;5c8fc1cd627d3b2d0163b7f1;The class can be found in {{com.jumpmind.inventory.flow.shipping}}

Is your project build gradle pulling in the dependency of the inventory project?","03/Jul/25 11:58 AM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:88c14855-624e-49eb-abb2-3ac80680c8c2] - The class can be found in {{com.jumpmind.inventory.flow.shipping}}

Is your project build gradle pulling in the dependency of the inventory project?","04/Jul/25 9:02 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:88c14855-624e-49eb-abb2-3ac80680c8c2;Hi @Aakash Patel,

I was initially unable to pull the inventory dependency during the project build, but I’ve resolved that issue and now have access to the package. However, when I click the *Inventory* button from the UI while running locally, the screen loads blank (white).

In the browser console, I’m seeing the following error:

{{TypeError: Failed to construct 'URL': Invalid URL }}

It appears that the {{serverUrl}} and {{remoteEntry}} fields are not being properly resolved—they still contain placeholders like {{#{INVENTORY-SERVER-URL}}} and {{#{INVENTORY-REMOTE-ENTRY}}}. This results in a failure when the frontend attempts to construct a valid URL.

Could you please advise on how to properly resolve these placeholders in the local environment so that the inventory-related screens load correctly?

Thanks.","04/Jul/25 9:02 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ",07/Jul/25 7:51 AM;5c8fc1cd627d3b2d0163b7f1;These parameters  {{#{INVENTORY-SERVER-URL}}} and {{#{INVENTORY-REMOTE-ENTRY}}}  don’t exist in our base code.  Can you please provide what file you are seeing these in?  You may need to look at how the parameters are being passed in or provided in your environment and determine if there is a miss while setting these.,"07/Jul/25 11:58 AM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:88c14855-624e-49eb-abb2-3ac80680c8c2] - These parameters  {{#{INVENTORY-SERVER-URL}}} and {{#{INVENTORY-REMOTE-ENTRY}}} are place holder in TPS code base, and got replaced during pipeline run, please add a IntelliJ profile to override or change it manually locally",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,12/Jun/25 12:40 PM
"Inventory: Removal of ""Receive in Full"" Document Option",JMCH-910,23692,Support,Waiting for customer,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Nathan Richardson,5c8fc1cd627d3b2d0163b7f1,Edita Vanetsian,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac,Edita Vanetsian,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac,12/Jun/25 10:40 AM,11/Jul/25 7:53 AM,,,,0,,"When searching for a PO and one is found, the following pop up is displayed (image attached). There is an option here to ""receive in full"". TPS would like to remove the option to receive in full.

We made config change and removed the option of: DOCUMENT and CARTON from openpos.services.specificConfig.inventory.receiving.capabilities.allowableReceiveInFullLevelByDocumentType :PALLET (see attached image)

However that didn’t help, the option to receive in full is still present.





",,Aakash Patel,Automation for Jira,Nathan Richardson,,712020:1e31b905-2797-45c2-b5ac-e31ef7818f38,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,12/Jun/25 10:38 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;image-20250612-143819.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24698,12/Jun/25 10:39 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;image-20250612-143941.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24699,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@cbdc45,,,,,,,,,,,,,,,,,,,,,Non-Production,,,,,,,,,Priority 2 (High),,,,,,,,,,,,,,,,,,Makira,The Paper Store,,,,,,Inventory,,,,"* *Steps to recreate the issue*
* 1. Choose Inventory
* 2. Choose Receiving

# Search for a PO that is open/active (I used PO # ) 
# The pop up below is displayed. If the ""receive in full"" option is chosen, the entire document gets completed without detail receiving. 

",1|i012az:,,Question,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,5:34,,,,,243.6.2,,,,2025-06-26 18:42:14.786,,"12/Jun/25 10:40 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;!image-20250612-143819.png|thumbnail!

!image-20250612-143941.png|thumbnail!","26/Jun/25 2:42 PM;5c8fc1cd627d3b2d0163b7f1;[~accountid:712020:1e31b905-2797-45c2-b5ac-e31ef7818f38] you can respond with the following:

[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac] what is the desired state?  Just remove the button or change the way the button behaves?

The parameter you updated just maps what levels are allowed to be received in full it doesn’t change the function or existence of that button.
{{Maps ReceivingDocumentTypeCode by ReceivingCountGroupTypeCode to determine what level we are allow to receive in full}}

If the unit, and all of its descendant units (for units above the item level), may be atomically received in full then that button would appear.  (JMCI_ITM_ITEM - RECEIVABLE_IN_FULL_FLAG)
- True if the total quantity of all merchandise attached to this document can be received atomically
- False if each unit must be received individually; null to defer to non-document-specific configuration","30/Jun/25 10:38 AM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac] what is the desired state?  Just remove the button or change the way the button behaves?

The parameter you updated just maps what levels are allowed to be received in full it doesn’t change the function or existence of that button.
{{Maps ReceivingDocumentTypeCode by ReceivingCountGroupTypeCode to determine what level we are allow to receive in full}}

If the unit, and all of its descendant units (for units above the item level), may be atomically received in full then that button would appear.  (JMCI_ITM_ITEM - RECEIVABLE_IN_FULL_FLAG)

* True if the total quantity of all merchandise attached to this document can be received atomically
* False if each unit must be received individually; null to defer to non-document-specific configuration","30/Jun/25 10:58 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;Yes, the request is to remove the [Receive in Full] button from the pop-up","30/Jun/25 10:58 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ","30/Jun/25 11:24 AM;5c8fc1cd627d3b2d0163b7f1;Then you are looking for this field in the db it should be false:

table: JMCI_ITM_ITEM  column: RECEIVABLE_IN_FULL_FLAG","30/Jun/25 11:27 AM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac] - Then you are looking for this field in the db it should be false:

table: JMCI_ITM_ITEM  column: RECEIVABLE_IN_FULL_FLAG",11/Jul/25 7:53 AM;5c8fc1cd627d3b2d0163b7f1;Changing this to a ‘Support’ question ticket as this is not a bug or issue.  Please advise if you still have questions.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,12/Jun/25 10:40 AM
6/9 JumpMind Promote Treats Coupon Spark As Items,JMCH-906,23550,Bug,Acknowledged,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Henglin Wang,712020:e5b5ad7e-62d4-4865-986d-20a2966755ae,Caitlin Berger,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7231de4f-7f45-4625-80e8-dc1bbef34dac,Caitlin Berger,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7231de4f-7f45-4625-80e8-dc1bbef34dac,09/Jun/25 7:11 PM,09/Jul/25 12:10 PM,,,,0,,"JumpMind Promote is treating any “Coupon” spark as an individual item. This seems to be happening with vanity/coupon codes, not single-use codes.  This came up as an issue during this past weekend’s BOGO 50% Off All Items promotion. I saw this issue on retail, but did not get to test it on web.

The promo setup had Item Inclusions set to All Items (screenshot 1), since all items we sell were part of the BOGO. If a single item is added to bag on retail, and then a coupon code is entered (in this case, 20% off $50 code JUNGRS25), JumpMind thinks this code is an item, and it triggers the BOGO 50% Off All items promotion (Screenshot 2). As a result, single items were getting a 50% discount. I was able to fix this by adding the coupon code as an exclusion to the promotion, but ideally the system wouldn’t treat a coupon code an as item.

Please let me know if you need clarification or further details.



",,Aakash Patel,Automation for Jira,Henglin Wang,Nathan Richardson,712020:1e31b905-2797-45c2-b5ac-e31ef7818f38,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:e5b5ad7e-62d4-4865-986d-20a2966755ae,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,10/Jun/25 9:25 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7231de4f-7f45-4625-80e8-dc1bbef34dac;On_demand_report_2025-06-10T13_18_40.222Z_6cc297e0-45fd-11f0-90f3-2790ded53c23.csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24627,09/Jun/25 7:04 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7231de4f-7f45-4625-80e8-dc1bbef34dac;Screenshot 1.PNG;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24591,09/Jun/25 7:06 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7231de4f-7f45-4625-80e8-dc1bbef34dac;Screenshot 2.PNG;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24592,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6cba78c9,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Vitamin Shoppe,,,,,,,Promote,,,,"Please see above - promotion is not currently live, so I can’t reproduce on production.",1|i0120z:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,6:43,,,,,,,,,2025-06-11 22:47:58.314,,"09/Jun/25 7:11 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7231de4f-7f45-4625-80e8-dc1bbef34dac;!Screenshot 1.PNG|thumbnail!

!Screenshot 2.PNG|thumbnail!","10/Jun/25 9:24 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7231de4f-7f45-4625-80e8-dc1bbef34dac;I’m attaching logs for coupon code JUNGRS25 on 6/8, which is when we saw the issue.","10/Jun/25 9:25 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7231de4f-7f45-4625-80e8-dc1bbef34dac;[^On_demand_report_2025-06-10T13_18_40.222Z_6cc297e0-45fd-11f0-90f3-2790ded53c23.csv]

","11/Jun/25 6:47 PM;712020:e5b5ad7e-62d4-4865-986d-20a2966755ae;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7231de4f-7f45-4625-80e8-dc1bbef34dac]

Your approach is correct. I noticed that this Spark is configured with a coupon item. If you use ALL items (which includes the coupon item itself) and also use the coupon item as the Spark trigger, you must exclude at least the coupon items to avoid conflicts in behavior.

Below is what I captured from the logs, showing that JUNGRS25 is indeed a *coupon*. Please verify if it’s the same on your side:

{noformat}'posItemId': 'JUNGRS25', 'itemDescription': '20% off $50 JUNGRS25', 'giftReceipt': False, 'itemReturned': False, 'itemName': '20% off $50 JUNGRS25', 'itemType': 'STORE_COUPON', 'itemTaxable': True, 'priceOverride': False, 'taxAmount': 'USD 0.00', 'retailUnitPrice': 'USD 0.00', 'itemReturnable': True, 'couponAllowed': False, 'listUnitPrice': 'USD 0.00', 'quantityModifiable': False, 'tenderAuthMethodCode': 'PURCHASE_AUTH', 'itemDiscountable': False, 'regularUnitPrice': 'USD 0.00', 'promptForSerialNumber': False, 'origLineSequenceNumber': 0, 'taxIncludedInPrice': False, 'taxExempted': False, 'isoCurrencyCode': 'USD', 'itemId': 'JUNGRS25', 'additionalClassifiersAsList': [], 'damageDiscountApplied': False, 'discountApplied': False, 'lineSequenceNumber': 12, 'sequenceNumber': 30169, 'deviceId': '0085-001', 'businessDate': '20250607'}{noformat}

To simplify setup and avoid these issues in the future, consider creating reusable item groups, where you can explicitly include or exclude special items like coupons.",11/Jun/25 8:25 PM;712020:e5b5ad7e-62d4-4865-986d-20a2966755ae;RewardModel.included and RewardModel.excluded has the logic related,"30/Jun/25 12:53 PM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7231de4f-7f45-4625-80e8-dc1bbef34dac] - @Caitlin Berger It’s been a while since your last update. Just checking in, have you had a chance to verify the JUNGRS25 coupon details or test the reusable item groups?","09/Jul/25 10:53 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7231de4f-7f45-4625-80e8-dc1bbef34dac;Yes, confirming that JUNGRS25 is a coupon code for 20% off $50.

In this case, we were able to fix the issue by adding that vanity code as an exclusion to the promotion, but this wouldn't be a long-term solution for us. At any given time, we could have several vanity codes live, and it would be easy to miss some.

For this particular BOGO All promo, a reusable item group wouldn’t work; it would be difficult to account for all possible item inclusions and exclusions.

If there’s a way to create an All Brands option in Promote, instead of an All Items option, that could be a solve for us.","09/Jul/25 10:53 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ","09/Jul/25 12:09 PM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;[~accountid:712020:e5b5ad7e-62d4-4865-986d-20a2966755ae] - Caitlin confirmed that {{JUNGRS25}} is indeed a coupon code and that the issue was mitigated by excluding it from the promotion.
They’re asking for a long-term solution,  ideally one where {{STORE_COUPON}} items are automatically excluded when ""All Items"" is selected in a promo. Alternatively, they suggested having an “All Brands” option instead of “All Items” to avoid pulling in coupon items altogether.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,09/Jun/25 7:11 PM
Unable to finalize transaction due to TransUserActionModel.referenceData being longer than 128 characters,JMCH-904,23523,Bug,Researching,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,Michael Klein,62e96878d49df231b6276c30,Michael Klein,62e96878d49df231b6276c30,06/Jun/25 12:10 PM,11/Jul/25 1:57 PM,,,,0,,"There is an issue that has been occurring in multiple production stores where JMC is not able to finalize the transaction due to a {{PersistException}} being thrown.

{noformat}Caused by: org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [insert into sls_trans_user_action (device_id, business_date, sequence_number, action_sequence_number, username, user_action_user_type_code, user_action_type_code, action_begin_time, action_end_time, reference_data, create_time, create_by, last_update_time, last_update_by) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?) on conflict do nothing]; ERROR: value too long for type character varying(128){noformat}

It looks like the {{reference_data}} column is defined as {{VARCHAR(128)}}, but the insert statement is attempting to insert a string that is longer than the type defined for that column, varchar(128).



Below is an example insert query that is being attempted in one of the production stores. You can see that the app is trying to insert a string with length of 285 characters due to excessive leading whitespace (see line 26 below).

 

{noformat}INSERT
	INTO
	sls_trans_user_action (device_id,
	business_date,
	sequence_number,
	action_sequence_number,
	username,
	user_action_user_type_code,
	user_action_type_code,
	action_begin_time,
	action_end_time,
	reference_data,
	create_time,
	create_by,
	last_update_time,
	last_update_by)
VALUES ('0015-001',
'20250529',
26996,
10,
'22265',
'ASSOCIATE',
'CUSTOMER_SEARCH',
'2025-05-29T18:51:54.621596800',
'2025-05-29T18:51:54.621596800',
'                                                                                                                                                                                                                                                                                   5163611474',
'2025-05-29T18:51:54.621596800',
'openpos-sls',
'2025-05-29T18:52:37.239894400',
'openpos-sls'){noformat}



We have seen non blank spaces also entered during customer search.  One of the attached files uses 0’s.",,Jason Menefee,Nathan Richardson,,,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,06/Jun/25 12:02 PM;62e96878d49df231b6276c30;15-001-FIXEDlogs-05292025.zip;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24542,06/Jun/25 12:02 PM;62e96878d49df231b6276c30;383-001-FIXEDlogs-05292025.zip;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24543,06/Jun/25 12:02 PM;62e96878d49df231b6276c30;746-001-FIXEDlogs-05292025.zip;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24541,06/Jun/25 12:02 PM;62e96878d49df231b6276c30;image-20250606-160228.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24540,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5fa50e61,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 2 (High),,,,,,,,,,,,,,,,,,Logic,Vitamin Shoppe,,,,,,Point of Sale,,,,"# Navigate to sale screen
# In customer lookup prompt, hold down the space bar until you have over 128 characters.  (You should also be able to do the same thing with 0’s or another character).  If using spaces, enter phone number at the end.
# Attach customer
# Add item to trans
# Checkout and tender transaction

BUG: Unable to finalize transaction.  A message of ‘An error occurred while finalizing the transaction.  Please try again or cancel the transaction.’ is displayed to the associate.

",1|i011xf:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,5:22,,,,,243.7.2,,,,2025-06-06 16:50:59.268,,"06/Jun/25 12:10 PM;62e96878d49df231b6276c30;[^15-001-FIXEDlogs-05292025.zip]

[^383-001-FIXEDlogs-05292025.zip]

[^746-001-FIXEDlogs-05292025.zip]

!image-20250606-160228.png|thumbnail!","06/Jun/25 12:50 PM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;Hi [~accountid:62e96878d49df231b6276c30] , It looks like versions 243.8 and higher now have a failsafe built in that would truncate the data in this scenario. Are there plans to upgrade any time soon?

See JMC-6900: Technical | Auto truncate values that are longer than their database columns are configured to be and log an ERROR",10/Jul/25 3:33 PM;5c8fc1cd627d3b2d0163b7f1;[~accountid:712020:a783ca19-9b70-462e-9e4e-f5b4741af810] Should this move to waiting for customer or is there an update that was added in 243.8 that we’d cherry pick back down (maybe not worth it as this should not be a common issue and they will be looking at 243.10),"11/Jul/25 1:57 PM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;I’m not sure exactly what was changed for [https://jumpmind.atlassian.net/browse/JMC-6900|https://jumpmind.atlassian.net/browse/JMC-6900|smart-link]. 

I think it’s probably best to close and wait for the upgrade.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,06/Jun/25 12:10 PM
POS: Group Discount - the item select screen - next should not be enabled unless at least one item is selected as selecting Next adds to the txn that the group discount has been applied (but with no items selected it actually has not) ,JMCH-903,23485,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Linda Fothergill,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c,Linda Fothergill,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c,05/Jun/25 3:11 PM,08/Jul/25 1:14 PM,24/Jun/25 3:18 PM,,,0,,"POS: Group Discount - the item select screen - next should not be enabled unless at least one item is selected as selecting Next adds to the txn that the group discount has been applied (but with no items selected it actually has not) 

We have a group discount functionality where the items are scanned onto the txn, then thru the hamburger menu group discount is seleced, the type of group discount $ or %, amount, form to scan the group discount coupon then the list of items appears and the Next button is enabled even when no items are selected.  If an associate clicks next without selecting items they are returned the transaction with a row indicating group discount applied when nothing has actually been applied. Confusing to users and can result in a customer leaving without actually getting their discount. ",,Automation for Jira,Jason Menefee,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,,,,,,,,,,,,,,05/Jun/25 3:11 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;PSQ-1171 step screen shots.docx;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24511,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@79f675db,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Reitman's Canada Limited,,,,,,,Point of Sale,,,,"See attached document with screen shots 

Start a sale txn

Add item(s) (in the example there are no promos but in the stores many items purchased will have a promo applied)

Hamburger Menu

select Group Discount 

In the form that appears select either $ or %

in the form that appears enter the $ amount or % 

in the form that appears scan the (or manually enter) group discount coupon

the form that appears is a list of the items on the txn and NEXT Is enabled.  Best fix would be that it is not enabled until at least 1 item is selected. 

Currently clicking next with no items selected returns the user to the POS screen and they see a row indicating the group discount is applied. 

",1|i011sz:,,Technical Issue,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa),,,,,,,,,,,,,,,,,,,,,,,,,7:47,,,,,241.0.31 (Prod) 241.0.33 (QA),,,,2025-06-05 19:31:03.89,,05/Jun/25 3:11 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;[^PSQ-1171 step screen shots.docx],"05/Jun/25 3:31 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7797.

This issue will now need to go through Planning.",05/Jun/25 3:34 PM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;Thanks Linda. We’ve opened a ticket for the dev team to prioritize and fix. ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,05/Jun/25 3:11 PM
JMC usernames appear to be case-sensitive,JMCH-902,23482,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Angelo Pace,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:996aa0a9-1d03-4d80-96b2-483addbeba32,Angelo Pace,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:996aa0a9-1d03-4d80-96b2-483addbeba32,05/Jun/25 11:53 AM,08/Jul/25 1:14 PM,,,,0,,"We had a user not able to login or reset his password and upon further analysis, discovered the username for accessing JM Central are case-sensitive",,Aakash Patel,Automation for Jira,Nathan Richardson,,712020:1e31b905-2797-45c2-b5ac-e31ef7818f38,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@280e7e14,,,,,,,,,,,,,,,,,,,,,Non-Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,JDNA,Makira,,,,,,Commerce Central,,,,try to login to JMC using uppercase username or a combination of upper and lower case.,1|i011sb:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,7:39,,,,,243.8.0   build 287-1,,,,2025-06-26 15:18:08.165,,"26/Jun/25 11:18 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Thank you for raising this to our attention.

A ticket has been opened with our engineering team [JMC-7920].

This issue will now need to go through Planning.","26/Jun/25 3:01 PM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:996aa0a9-1d03-4d80-96b2-483addbeba32] - 
Thank you for raising this to our attention.

A ticket has been opened with our engineering team [JMC-7920].

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,05/Jun/25 11:53 AM
Shrug guy when removing secondary package in pack stage for Delivery order,JMCH-900,23470,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Michael Klein,62e96878d49df231b6276c30,Michael Klein,62e96878d49df231b6276c30,04/Jun/25 2:50 PM,08/Jul/25 1:14 PM,,,,0,,POS is shrugging when attempting to remove a secondary package during order fulfillment flow.,,Automation for Jira,,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,,,,,,,,,,,,,,,04/Jun/25 2:46 PM;62e96878d49df231b6276c30;Remove Package in BOSS Pack Shrug Guy.mp4;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24480,04/Jun/25 2:46 PM;62e96878d49df231b6276c30;commerce-intellij.log;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24481,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@4bc22a91,,,,,,,,,,,,,,,,,,,,,Non-Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Logic,Vitamin Shoppe,,,,,,Point of Sale,,,,"# Create a Delivery Order with 2 order line items to be fulfilled
# Pick items in the Delivery Order
# Pack one item into a new package
# Add another package
# Remove the newly added package

BUG: “Shrug guy” appears unexpectedly",1|i011pv:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,7:48,,,,,243.7.2,,,,2025-06-19 14:26:27.09,,"04/Jun/25 2:50 PM;62e96878d49df231b6276c30;!Remove Package in BOSS Pack Shrug Guy.mp4|thumbnail!

[^commerce-intellij.log]","19/Jun/25 10:26 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7877.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,04/Jun/25 2:50 PM
Inventory: Label Printing not Working,JMCH-899,23468,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,High,,,,Edita Vanetsian,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac,Edita Vanetsian,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac,04/Jun/25 2:18 PM,07/Jul/25 11:24 AM,,,,0,,"When creating an outbound transfer or shipment, when its time to ""print label"", the prompt comes up to enter the weight of the box/carton but the pop up to actually print anything from a standard printer is not happening.

Reviewed central logs, and believe the issue might be configuration, and guidance on how to resolve this would be appreciated 

Here is the snippet from central log (full is attached)

{noformat}2025-06-03T13:20:47.653-04:00  INFO 1 --- [0(pos:9602-005)] o.j.p.c.f.StateManager.action.graphical  : Received action from 9602-005 {""name"":""PrintNextDocument"",""type"":""Screen"",""doNotBlockForResponse"":true}
__/\
\  _\   PrintNextDocument
 \/ 
2025-06-03T13:20:47.658-04:00  WARN 1 --- [0(pos:9602-005)] c.j.i.f.shipping.ShippingDetailsState    : Unknown action PrintNextDocument
2025-06-03T13:20:47.662-04:00  INFO 1 --- [0(pos:9602-005)] o.j.p.c.f.StateManager.screen.graphical  : Show screen on device ""9602-005"" (com.jumpmind.inventory.uimodel.ShippingDetailsUIMessage) screen seqNo: 11
{noformat}

",,Automation for Jira,Mike Dalton,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,62d82941751c4f698e03958a,,,,,,,,,,,,,,04/Jun/25 2:18 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;Inventory.log;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24477,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@3656c871,,,,,,,,,,,,,,,,,,,,,Non-Production,,,,,,,,,Priority 2 (High),,,,,,,,,,,,,,,,,,Makira,The Paper Store,,,,,,Inventory,,,,"* hoose Inventory
* 2. Choose Shipping 
* 3. Select the ""+"" button to create an outbound shipment 
* 4. Add a carton or box to a new shipment and then hit ""print label"". 
* 5. Enter a weight amount into the box pop up, notice no other prompt happens to actually print the label.

",1|i011pf:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,5:16,,,,,243.6.2,,,,2025-07-07 15:17:24.788,,04/Jun/25 2:18 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;[^Inventory.log],"07/Jul/25 11:17 AM;62d82941751c4f698e03958a;Since “{{Unknown action PrintNextDocument}}"" is present in the log, appears we have an issue with the flow. Sending for Development.","07/Jul/25 11:24 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7975.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,04/Jun/25 2:18 PM
Inventory: Ticket Printing not Working,JMCH-898,23467,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,High,,,,Edita Vanetsian,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac,Edita Vanetsian,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac,04/Jun/25 2:01 PM,07/Jul/25 11:18 AM,,,,0,,"The ""ticket printing"" section of inventory is not functioning. No matter what 'item' is entered at the top, it says it cannot locate said item. All of the items the team has attempted here have been items in the QA environment.

Here is a snippet from central logs (full log is attached)…According to the it looks like endPoint is missing or something is not right in the setting. 

Can you please advise what is missing.

The {{TICKET_BATCH0OKVV54}} is in tkt_item_ticket  table/central DB



{noformat}2025-06-03T13:23:10.964-04:00  INFO 1 --- [0(pos:9602-005)] o.j.p.c.f.StateManager.screen.graphical  : Show screen on device ""9602-005"" (org.jumpmind.pos.core.ui.message.OptionsUIMessage) screen seqNo: 17
+--------------------------------------------------+
| +----------------------------------------------+ |
| |       TicketPrintingHomeBatchSelection       | |
| |                  [Options]                   | |
| +----------------------------------------------+ |
+--------------------------------------------------+
2025-06-03T13:23:12.470-04:00  INFO 1 --- [0(pos:9602-005)] o.j.p.c.f.StateManager.action.graphical  : Received action from 9602-005 {""name"":""SelectOpenBatch"",""data"":""TICKET_BATCH0OKVV54"",""type"":""Screen"",""doNotBlockForResponse"":false}
__/\
\  _\   SelectOpenBatch
 \/ 
2025-06-03T13:23:12.475-04:00  INFO 1 --- [pool-5-thread-1] o.jumpmind.pos.service.EndpointInvoker   : IInventoryTicketService.getTicketBatchById() 
2025-06-03T13:23:12.506-04:00 ERROR 1 --- [pool-5-thread-1] o.j.p.i.t.s.GetTicketBatchEndpoint       : Error fetching ticket batch TICKET_BATCH0OKVV54

java.lang.IllegalStateException: If the endpoint is not found, then the strategy must be REMOTE_ONLY.  Instead, the found strategy was LOCAL_ONLY
	at org.jumpmind.pos.service.EndpointInvocationHandler.invoke(EndpointInvocationHandler.java:93) ~[service-core-243.6.2.jar:243.6.2]
	at jdk.proxy2/jdk.proxy2.$Proxy179.find(Unknown Source) ~[na:na]
	at org.jumpmind.pos.inventory.ticket.service.TicketHelper.hydrateTicket(TicketHelper.java:27) ~[inventory-tickets-243.6.2.jar:243.6.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.jumpmind.pos.inventory.ticket.service.GetTicketBatchEndpoint.lambda$getTicketBatchByIdImpl$0(GetTicketBatchEndpoint.java:33) ~[inventory-tickets-243.6.2.jar:243.6.2]
	at java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]
	at org.jumpmind.pos.inventory.ticket.service.GetTicketBatchEndpoint.getTicketBatchByIdImpl(GetTicketBatchEndpoint.java:33) ~[inventory-tickets-243.6.2.jar:243.6.2]
	at org.jumpmind.pos.inventory.ticket.service.GetTicketBatchEndpoint.getTicketBatchById(GetTicketBatchEndpoint.java:24) ~[inventory-tickets-243.6.2.jar:243.6.2]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.jumpmind.pos.service.strategy.LocalOnlyStrategy.invoke(LocalOnlyStrategy.java:52) ~[service-core-243.6.2.jar:243.6.2]
	at org.jumpmind.pos.service.EndpointInvoker.invoke(EndpointInvoker.java:108) ~[service-core-243.6.2.jar:243.6.2]
	at org.jumpmind.pos.service.EndpointInvocationHandler.invoke(EndpointInvocationHandler.java:137) ~[service-core-243.6.2.jar:243.6.2]
	at org.jumpmind.pos.service.$Proxy185.getTicketBatchById(Unknown Source) ~[na:243.6.2]
	at com.jumpmind.inventory.flow.ticketing.TicketItemUIMessageDataProvider.callBatch(TicketItemUIMessageDataProvider.java:93) ~[flow-inventory-243.6.2.jar:243.6.2]
	at com.jumpmind.inventory.flow.ticketing.TicketItemUIMessageDataProvider.lambda$lookupBatchById$2(TicketItemUIMessageDataProvider.java:64) ~[flow-inventory-243.6.2.jar:243.6.2]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-06-03T13:23:12.511-04:00 ERROR 1 --- [pool-5-thread-1] .j.i.f.t.TicketItemUIMessageDataProvider : Error creating ticket batch [TICKET_BATCH0OKVV54]
{noformat}

",,Automation for Jira,Nathan Richardson,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,04/Jun/25 1:59 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;Inventory.log;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24475,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@1ec87d,,,,,,,,,,,,,,,,,,,,,Non-Production,,,,,,,,,Priority 2 (High),,,,,,,,,,,,,,,,,,Makira,The Paper Store,,,,,,Inventory,,,,"* 1. Choose Inventory
* 2. Choose Ticket Printing 
* 3. Select ""create new batch"" 
* 4. Try and add a selected item UPC and/or sku ID to the search bar. An ""item not found"" error message will display.

",1|i011p7:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,4:59,,,,,243.6.2,,,,2025-06-30 16:58:57.914,,04/Jun/25 2:01 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;[^Inventory.log],"30/Jun/25 12:58 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7943.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,04/Jun/25 2:01 PM
Till Management | Incorrect message displayed when closing dedicated till from a fixed register,JMCH-896,23461,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,04/Jun/25 10:54 AM,08/Jul/25 1:15 PM,,,,0,,"We are displaying a message intending to warn the user that they are trying to close a dedicated till from a mobile device even when a fixed register is about to close their own dedicated till.

!image-20250604-145250.png|width=100%,alt=""image-20250604-145250.png""!

This issue appears to be that this action screen builder is using storecycle.closetill.prompt.mobileClosingDedicatedTill.message instead of storecycle.closetill.prompt.message

!image-20250604-145347.png|width=1009,height=561,alt=""image-20250604-145347.png""!",,Automation for Jira,,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,,,,,,,,,,,,,,,04/Jun/25 10:54 AM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;image-20250604-145250.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24461,04/Jun/25 10:54 AM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;image-20250604-145347.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24462,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@1561662f,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Bath & Body Works,,,,,,,,,,,,1|i011nv:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2025-06-04 14:56:29.362,,"04/Jun/25 10:56 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7783.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,04/Jun/25 10:54 AM
Inventory: Adjusting Qty in Receiving Document Receives the Entire Document,JMCH-895,23430,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,High,,,,Edita Vanetsian,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac,Edita Vanetsian,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac,03/Jun/25 4:27 PM,07/Jul/25 11:19 AM,,,,0,,"When a PO is received, if an item on the PO is received manually with the ""..."" next to the item, and the option is chosen to change the qty, two things happen that should not:

# The qty displayed to adjust is for all items and not just for the item being changed. 
# Once changed, instead of just the item moving to completed, the entire document gets moved to ""Complete"". The qty updated is never reflected


Video and visual attached


TPS would need it to instead: 

* only display the qty of the item being adjusted in the PO or receiving document 
* Only mark the item as complete and not the entire PO or receiving document

",,Automation for Jira,Nathan Richardson,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,03/Jun/25 4:26 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;Image-2025-05-22 13_19_33.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24430,03/Jun/25 4:26 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;Recording 2025-06-03 130540.mp4;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24431,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@30c81364,,,,,,,,,,,,,,,,,,,,,Non-Production,,,,,,,,,Priority 2 (High),,,,,,,,,,,,,,,,,,Makira,The Paper Store,,,,,,Inventory,,,,"* 1. Choose Inventory
* 2. Choose Receiving
* 3. Search for a PO that is open/active (I used PO # ) 
4. Choose the first item, hit the three ""..."" and choose ""Change Quantity""
* 5. Notice 1st the qty is the total on the PO and not just for that item. Change the qty and hit next.
* 6. Notice all items are moved to COMPLETE and received instead of just the one item.

",1|i011mj:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,1:58,,,,,243.6.2,,,,2025-06-30 16:58:27.082,,"03/Jun/25 4:27 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;!Image-2025-05-22 13_19_33.png|thumbnail!

!Recording 2025-06-03 130540.mp4|thumbnail!","30/Jun/25 12:58 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7942.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,03/Jun/25 4:27 PM
Inventory: Outbound Transfer Document & Carton Numbers;  Formatting,JMCH-893,23428,Support,Waiting for customer,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Henglin Wang,712020:e5b5ad7e-62d4-4865-986d-20a2966755ae,Edita Vanetsian,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac,Edita Vanetsian,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac,03/Jun/25 4:19 PM,07/Jul/25 12:56 PM,,,,0,,"As testing is occurring, the team mentioned that the ""document numbers"" create for both inbound and outbound transfers via JM are not currently in a format that APTOS Merch can accept. In order to ensure both systems can interact properly, and documents are sent to and from both systems when it comes to transfers, the document numbers created need to follow the following guidelines: 

# For stores creating a transfer out, the ""document number"" currently being created looks something like *SHIPDOCUMENT0J9ALG9* , instead it needs to - *should be a 6-digit number (no alphabetic characters)* 
# For a store creating a transfer out, the ""carton number(s)"" currently being crested looks something like *SHIPCONTAINER0WGQX1A*, instead it needs to - s*hould be a 20-digit number, 11–12 leading 0s and a unique number for the rest (no alphabetic characters)* 

We have access to what has been currently created in our APTOS environment as I want to call out we would want to avoid duplicates where we can.  


Is this something that can be configured (i.e schema)?
",,Henglin Wang,,,,712020:e5b5ad7e-62d4-4865-986d-20a2966755ae,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@2968f7b1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Makira,The Paper Store,,,,,,Inventory,,,,,1|i011m3:,,Question,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,243.6.2,,,,2025-07-07 16:08:01.155,,"07/Jul/25 12:08 PM;712020:e5b5ad7e-62d4-4865-986d-20a2966755ae;As this is a customer-specific requirement, please update the following to match the APTOS implementation:

* *Receiving*: Update ReceivingIdGenerator
* *Container*: Update ShippingContainerEndpoint (refer to line 26)


",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,03/Jun/25 4:19 PM
Pick Multiple Feature does not Mark Order(s) as Picked,JMCH-891,23396,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Michael Klein,62e96878d49df231b6276c30,Michael Klein,62e96878d49df231b6276c30,03/Jun/25 10:58 AM,08/Jul/25 1:15 PM,,,,0,,"When attempting to pick multiple orders, it doesn’t appear that those orders are ever marked as PICKED.  Based on technical investigation, the Done button within the {{BuildBatchOrderPickScreen}} triggers the {{Exit}} action.

{noformat}@ActionHandler
public void onExit() {
    this.toaster.notify(""key:common:label.saved"", ToastType.Success);
    this.actionHelper.doAction(""BackToList"");
}{noformat}

This action triggers the {{BackToList}} action

{noformat}@ActionHandler
public void onBackToList() {
    this.dataProviders.forEach(AbstractOrderBatchPickUIDataMessageProvider::reset);
    this.actionHelper.doAction(""Back"");
}{noformat}

The {{Back}} action navigates the state manager back to {{OrderListState}}.



I never see {{IOrderMgmtService.markItemsAsPicked()}} endpoint never get invoked in this flow.

I do see the following line in the logs, but I’m not sure what data point is missing or if that is consequential.

{noformat}2025-06-03 09:41:17.759 INFO  [9780-001:9999] [clientInboundChannel-333] [UIDataMessageProviderScreenListener] MoreData[BatchPickByOrders] requested from 9780-001 {noformat}

",,Automation for Jira,,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,,,,,,,,,,,,,,,03/Jun/25 10:49 AM;62e96878d49df231b6276c30;1.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24399,03/Jun/25 10:49 AM;62e96878d49df231b6276c30;2.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24401,03/Jun/25 10:49 AM;62e96878d49df231b6276c30;3.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24400,03/Jun/25 10:49 AM;62e96878d49df231b6276c30;logs.txt;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24402,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@398db9a,,,,,,,,,,,,,,,,,,,,,Non-Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Logic,Vitamin Shoppe,,,,,,Point of Sale,,,,"# Navigate to order fulfillment screen
# Click ‘Pick Multiple’
# Click Items in order(s)
# Click Done in bottom right

BUG: Order is still in PICK swimlane

",1|i011lf:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,7:52,,,,,243.7.2,,,,2025-06-19 14:40:12.923,,"03/Jun/25 10:58 AM;62e96878d49df231b6276c30;!1.png|thumbnail!

!2.png|thumbnail!

!3.png|thumbnail!

[^logs.txt]","19/Jun/25 10:40 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7879.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,03/Jun/25 10:58 AM
Autoupdater scheduled release is failing silent update : resulting into machine restart,JMCH-884,23327,Bug,Waiting for customer,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Nathan Richardson,5c8fc1cd627d3b2d0163b7f1,Bimlendu Shekhar,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:b571bf8d-3232-45b5-a657-2a037cbd6bfb,Bimlendu Shekhar,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:b571bf8d-3232-45b5-a657-2a037cbd6bfb,30/May/25 9:22 AM,02/Jul/25 10:50 AM,,,,0,,"We have newly set up autoupdater at landmark pos lab. What we notice is bootstrap is triggering the upgrade at scheduled time but it ends up forcing system restart in order to force the upgrade. 
Bootstrap log attached. Please notice line starting with prefix ‘2025-05-30 4:35:09.189’",,Aakash Patel,Automation for Jira,Nathan Richardson,,712020:1e31b905-2797-45c2-b5ac-e31ef7818f38,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,30/May/25 9:19 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:b571bf8d-3232-45b5-a657-2a037cbd6bfb;bootstrap-fixed 1.log;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24266,02/Jun/25 9:11 AM;16a6376e-3b2c-4da1-b2a5-07f13d3baf03;image-20250602-122201.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24331,30/May/25 9:21 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:b571bf8d-3232-45b5-a657-2a037cbd6bfb;scheudle-on-db.jpg;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24268,30/May/25 9:20 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:b571bf8d-3232-45b5-a657-2a037cbd6bfb;store-status.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24267,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5fd2de06,,,,,,,,,,,,,,,,,,,,,Non-Production,,,,,,,,,Priority 2 (High),,,,,,,,,,,,,,,,,,Landmark Group,,,,,,,Auto Update,,,,Bootstrap log attached,1|i011e3:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,6:00,,,,,243.1.22,,,,2025-05-30 14:28:33.881,,"30/May/25 9:22 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:b571bf8d-3232-45b5-a657-2a037cbd6bfb;[^bootstrap-fixed 1.log]

!scheudle-on-db.jpg|thumbnail!

!store-status.png|thumbnail!","30/May/25 10:28 AM;5c8fc1cd627d3b2d0163b7f1;For the fixed devices we have to kill electron and a reboot should start it back up again.  Also, if we do fail to delete files we leverage a reboot to free up any locks that might exist on them.

If you want we could update this ticket to a new feature request and the engineers can review to determine if it is even possible to accomplish without a reboot.","02/Jun/25 7:15 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:b571bf8d-3232-45b5-a657-2a037cbd6bfb;We are okay to live with Reboot of client for upgrade to take effect. 

The only concern at this stage is it control the reboot time so that upgrade completed in non-trading hours.
in the current context the upgrade was scheduled 4:40 PM then bootstrap had issues deleting some files at scheduled time. Ultimately the reboot was forced around 5:50PM. 
Is there a maximum delay by when reboot must have triggered ?","02/Jun/25 7:15 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ","02/Jun/25 9:11 AM;5c8fc1cd627d3b2d0163b7f1;!image-20250602-122201.png|width=456,height=129,alt=""image-20250602-122201.png""!

Force install might be what you are looking for.  The wording ‘when it is offline’ really means when the store is closed.",19/Jun/25 12:12 PM;5c8fc1cd627d3b2d0163b7f1;Does this setting provided address the issue you were asking about?,30/Jun/25 11:41 AM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:b571bf8d-3232-45b5-a657-2a037cbd6bfb] - We noticed you haven’t had a chance to respond. Could you please let us know if the setting provided addressed the issue you were asking about?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,30/May/25 9:22 AM
POS: Group Discount in the transaction search/E-Journal shows a promo code invalidated row on POS and Missing resource row on E-Journal Finance uses rather than a group discount row,JMCH-881,23314,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Linda Fothergill,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c,Linda Fothergill,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c,29/May/25 2:35 PM,09/Jul/25 12:40 PM,,,,0,,See attached document with screen shots of what the associate sees on the POS when applying a Group discount and what the Associates see in the POS e-journal or Finance sees in the E-Journal they use when group discount has been applied. ,,Nathan Richardson,,,,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,,29/May/25 2:34 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;PSQ-938 group disc e-journal issue.docx;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24232,07/Jul/25 11:05 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250707-150125.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25757,07/Jul/25 11:05 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250707-150210.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25758,07/Jul/25 11:05 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250707-150253.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25756,07/Jul/25 11:05 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250707-150359.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25759,07/Jul/25 11:05 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250707-150449.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25755,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@32b083e5,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Reitman's Canada Limited,,,,,,,Point of Sale,,,,"Create a sale transaction on the POS and add at least 1 item

Thru the hamburger menu select Group discount, select whether $ or %, Enter the $ or % amount, scan or enter the group discount code (Ex. BIRTHDAY or RWSEPT40OFF120), select which item(s) to apply the group discount to - and take note of the info on the screen for the associate concerning the group discount), checkout, tender out the transaction.

Go into the transaction search/E-journal on the POS

OR 

the E-Journal that finance uses 

Notice that it has a Promo code invalidated row appearing (not group discount row) for the associate and a missing resource row for Finance ",1|i011cr:,,Technical Issue,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa),,,,,,,,,,,,,,,,,,,,,,,,,-0:03,,,,,241.0.31 (QA),,,,2025-07-03 20:07:13.134,,29/May/25 2:35 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;[^PSQ-938 group disc e-journal issue.docx],"03/Jul/25 4:07 PM;5c8fc1cd627d3b2d0163b7f1;Group discounts are just in essence promo codes thus that is why you are seeing that terminology.  The ‘invalidated’ is appearing because of the concept when you use a promo code it is no longer available thus invalidated, it doesn’t mean it is not valid or not used.

Where you see the <MISSING RESOURCE> that is because you are missing an entry in the i18n_resource table or possibly in your properties files for that tag ‘screen.promoCodes.invalidated.title’.

Regarding the ‘Invalidated’ message on the transaction search I will raise this to our engineering team to see if this can be addressed to be a little more clear.","07/Jul/25 11:05 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;So when cashier does the discount this is what they see in the transaction so this is what we would expect them to see in the ejournal

POS sale

!image-20250707-150125.png|width=404,height=260,alt=""image-20250707-150125.png""!

POS ej

!image-20250707-150210.png|width=372,height=432,alt=""image-20250707-150210.png""!

what we see sent from POS

!image-20250707-150253.png|width=951,height=336,alt=""image-20250707-150253.png""!

Re missing resource in finances EJ

!image-20250707-150359.png|width=1771,height=895,alt=""image-20250707-150359.png""!

There are no rows (as per your comment)in i18n_resource table

!image-20250707-150449.png|width=1052,height=256,alt=""image-20250707-150449.png""!

What would need to be inserted there ? ","07/Jul/25 3:29 PM;5c8fc1cd627d3b2d0163b7f1;I found where in the code they are not checking for these Manual Coupons when they look them up for the EJ perspective so they default to the Invalidated message.  I have opened a ticket for engineering to correct this, then at least the ‘invalidated’ message should no longer happen.


For the Missing Resource, this is your central EJ which I keep forgetting you are on the old version that we no longer are making updates for.  Can you have someone do a search through your code base for the tag 'screen.promoCodes.invalidated.title'?  There should be an entry in a xxxx.properties file (like sale.properties or sale_fr_CA.properties).  If no entry then you could try adding that tag in the properties file.
You could also try updating the i18n_resource table but I’m not sure if that will actually help, it is either in the table or the xxxx.properties file I’ve mentioned.  
Here is a sample insert for the i18n_resource table.  You could also add other extra rows for other Locale’s as necessary, example below is just en_CA.

{noformat}insert into i18n_resource (BASE_NAME,LOCALE,STRING_KEY,EFFECTIVE_START_TIME,PATTERN)
values ('sale','en_CA','screen.promoCodes.invalidated.title','2025-01-01 00:00:00.000000','PROMO CODE INVALIDATED');{noformat}

If you can reproduce this in your QA environment I would try there first and confirm whether the update works for the central EJ perspective.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,29/May/25 2:35 PM
When a transaction has multiple card failures we are not getting a receipt for each failure,JMCH-878,23309,Support,Waiting for customer,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Nathan Richardson,5c8fc1cd627d3b2d0163b7f1,Linda Fothergill,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c,Linda Fothergill,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c,29/May/25 1:06 PM,02/Jul/25 12:16 PM,,,,0,,happens in test too.  If the txn is tendered to card and fails for some reason (including decline) and let’s say customer tries again and it fails again (same card/different card) when the txn is completed the decline receipt is only printed for the last failure not all failures.  Prints after the txn receipt.  Previous POS /pinpads printed the failures as they happened.  Is this possibly a configuration?  the customer is entitled to a receipt for each failure. ,,Aakash Patel,Automation for Jira,Nathan Richardson,,712020:1e31b905-2797-45c2-b5ac-e31ef7818f38,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5e081a0d,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Reitman's Canada Limited,,,,,,,Point of Sale,,,,,1|i011bn:,,Question,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa),,,,,,,,,,,,,,,,,,,,,,,,,,,,,,241.0.31 (QA),,,,2025-05-30 13:56:13.166,,"30/May/25 9:56 AM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c] could you please check if your current configuration has the following parameter set:
{{openpos.tender.printDeclineReceiptSeparate}}

Assuming it is not set in your environment, try setting it to ‘true’ and test to see if it prints each decline out. 

FYI, We need to see if this is just an issue with 241 because with the current version of JMC each declined receipt does automatically print at the end of the transaction today.",30/Jun/25 11:46 AM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c]- We haven’t received a response yet. Could you please let us know if you were able to test this setting and whether it addressed the issue with multiple card failure receipts?,"02/Jul/25 10:02 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;no we have not yet tested. We are waiting for the build currently in QA to push to production and then will test this and a few other things. 

","02/Jul/25 10:02 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,29/May/25 1:06 PM
Inventory - Login to Inventory Menu,JMCH-875,23282,Bug,Waiting for customer,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Henglin Wang,712020:e5b5ad7e-62d4-4865-986d-20a2966755ae,Edita Vanetsian,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac,Edita Vanetsian,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac,28/May/25 4:36 PM,10/Jul/25 4:12 PM,,,,0,,"When the ""Inventory"" section of the application is chosen - no prompt for a login happens. We need a login prompt here so we don't have just any employee going in and receiving. The Login should be locked by level as well (TBD) - similar to Manage. 

Is there a way to add security level to inventory menu?

",,Automation for Jira,Henglin Wang,Jake Vanmeter,Nathan Richardson,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:e5b5ad7e-62d4-4865-986d-20a2966755ae,70121:4c55edb8-b2f0-47f8-bb2c-524b3fa93eda,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,13/Jun/25 10:39 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;commerce-client.log;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24728,13/Jun/25 10:39 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;commerce-isp.log;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24727,11/Jun/25 12:36 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;image-20250611-163514.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24668,11/Jun/25 12:36 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;image-20250611-163540.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24669,11/Jun/25 12:36 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;image-20250611-163609.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24667,13/Jun/25 10:39 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;image-20250613-143738.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24729,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@159897c0,,,,,,,,,,,,,,,,,,,,,Non-Production,,,,,,,,,Priority 2 (High),,,,,,,,,,,,,,,,,,Makira,The Paper Store,,,,,,Inventory,,,,"* 1. Choose Inventory
* 2. The portion of the application opens without a login prompt.

",1|i01183:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,6:00,,,,,243.6.2,,,,2025-05-29 12:36:11.631,,29/May/25 8:36 AM;70121:4c55edb8-b2f0-47f8-bb2c-524b3fa93eda;This seems like more of a feature request?,"29/May/25 10:10 AM;712020:e5b5ad7e-62d4-4865-986d-20a2966755ae;openpos.microCaps.configs.inventory.permission

add a permission group like inventory.menu and grant users to this group","11/Jun/25 12:36 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;I have added user permission to the [inventory] menu and now we get prompted to login (good), but after login in lands on blank inventory page, I might be missing something in the set up, would appreciate if you can help me out :


!image-20250611-163514.png|width=1208,height=584,alt=""image-20250611-163514.png""!



!image-20250611-163540.png|width=653,height=660,alt=""image-20250611-163540.png""!



!image-20250611-163609.png|width=1323,height=332,alt=""image-20250611-163609.png""!




","11/Jun/25 12:36 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ","11/Jun/25 12:36 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;{noformat}2025-06-11 10:42:47.810 INFO  [9602-005] [AsyncOperation-8] [HomeScreenButtonBadgeUIDataProvider] Successfully loaded orders for home screen button badges... 
2025-06-11 10:42:48.715 INFO  [9602-005] [StateManagerThread12(pos:9602-005)] [LoggingStateManagerObserver] Received action from 9602-005 {""name"":""LaunchInventory"",""type"":""Screen"",""doNotBlockForResponse"":false}
__/\
\  _\   LaunchInventory
 \/  
2025-06-11 10:42:48.730 INFO  [9602-005] [StateManagerThread12(pos:9602-005)] [EndpointInvoker] IUserService.findPermission()  
2025-06-11 10:42:48.731 INFO  [9602-005] [StateManagerThread12(pos:9602-005)] [LoggingStateManagerObserver] Transition step [UserLoginStep] running between HomeScreenState and MicroCapProxyState
                   +----------------------------+
HomeScreenState -> |    Step: UserLoginStep     |
 -> MicroCapProxyState
                   +----------------------------+ 
2025-06-11 10:42:48.742 INFO  [9602-005] [StateManagerThread12(pos:9602-005)] [LoggingStateManagerObserver] Show screen on device ""9602-005"" (org.jumpmind.pos.core.ui.message.PromptUIMessage) screen seqNo: 38
+--------------------------------------------------+
| +----------------------------------------------+ |
| |     Prompt.key:user:login.userprompttext     | |
| |                   [Prompt]                   | |
| +----------------------------------------------+ |
+--------------------------------------------------+ 
2025-06-11 10:42:51.975 INFO  [9602-005] [StateManagerThread12(pos:9602-005)] [LoggingStateManagerObserver] Received action from 9602-005 {""name"":""UsernameEntered"",""data"":""444444"",""type"":""Screen"",""doNotBlockForResponse"":false}
__/\
\  _\   UsernameEntered
 \/  
2025-06-11 10:42:51.975 INFO  [9602-005] [StateManagerThread12(pos:9602-005)] [StateManager] Calling global action handler: UserLoginGlobalActionHandlers 
2025-06-11 10:42:51.975 INFO  [9602-005] [StateManagerThread12(pos:9602-005)] [EndpointInvoker] IUserService.getUserByUserName()  
2025-06-11 10:42:52.009 INFO  [9602-005] [StateManagerThread12(pos:9602-005)] [LoggingStateManagerObserver] Show screen on device ""9602-005"" (org.jumpmind.pos.core.ui.message.PromptUIMessage) screen seqNo: 39
+--------------------------------------------------+
| +----------------------------------------------+ |
| |     Prompt.key:user:login.passwordprompt     | |
| |                   [Prompt]                   | |
| +----------------------------------------------+ |
+--------------------------------------------------+ 
2025-06-11 10:42:54.782 INFO  [-] [UsageStatCache-timer] [SaveUsageStatEndpoint] Usage Statistic: userLoginTime {""createTime"":""2025-06-11T10:42:46.6751994"",""lastUpdateTime"":""2025-06-11T10:42:46.6751994"",""additionalFields"":{},""extensions"":{},""deviceId"":""9602-005"",""statCollectorId"":""userLoginTime"",""intervalStartTimestamp"":""2025-06-11T10:42:46.6751994"",""intervalEndTimestamp"":""2025-06-11T10:42:46.6751994"",""sampleCount"":1,""minimumDurationMs"":24426,""maximumDurationMs"":24426,""averageDurationMs"":24426,""totalDurationMs"":24426} 
2025-06-11 10:42:56.100 INFO  [9602-005] [StateManagerThread12(pos:9602-005)] [LoggingStateManagerObserver] Received action from 9602-005 {""name"":""PasswordEntered"",""data"":""********************"",""type"":""Screen"",""doNotBlockForResponse"":false}
__/\
\  _\   PasswordEntered
 \/  
2025-06-11 10:42:56.100 INFO  [9602-005] [StateManagerThread12(pos:9602-005)] [StateManager] Calling global action handler: UserLoginGlobalActionHandlers 
2025-06-11 10:42:56.101 INFO  [9602-005] [StateManagerThread12(pos:9602-005)] [EndpointInvoker] IUserService.authenticate()  
2025-06-11 10:42:56.144 INFO  [9602-005] [StateManagerThread12(pos:9602-005)] [LdapUserStrategy] Returning cached local user '444444'.  1428 minutes until refresh 
2025-06-11 10:42:56.144 INFO  [9602-005] [StateManagerThread12(pos:9602-005)] [EndpointInvoker] IContextService.hashValue()  
2025-06-11 10:42:56.145 INFO  [9602-005] [StateManagerThread12(pos:9602-005)] [ClientLocaleService] Sending a new locale to 9602-005: LocaleChangedMessage(locale=en_US, displayLocale=null, supportedLocales=[en_US, fr_FR, es_ES, zh_CN, ar_AE, de_DE, it_IT, pt_PT, ja_JP, ko_KR], direction=ltr, useCurrencySymbol=true, showIcons=true) 
2025-06-11 10:42:56.145 INFO  [9602-005:222222] [AsyncOperation-10] [EventPublisher] Publishing event: UserLoginSuccessEvent(super=AppEvent(deviceId=9602-005, appId=pos, remote=false), user=UserModel(username=444444)) 
2025-06-11 10:42:56.145 INFO  [9602-005] [StateManagerThread12(pos:9602-005)] [LoggingStateManagerObserver] Received action ""LoginSuccess"" from self 
2025-06-11 10:42:56.146 INFO  [9602-005] [StateManagerThread12(pos:9602-005)] [EndpointInvoker] IUserService.hasPermission()  
2025-06-11 10:42:56.146 INFO  [9602-005] [StateManagerThread12(pos:9602-005)] [EndpointInvoker] IUserService.getUserByUserName()  
2025-06-11 10:42:56.146 INFO  [9602-005-pay] [StateManagerThread3(M400:9602-005-pay)] [LogEventHandler] An event of UserLoginSuccessEvent was received by M400/9602-005-pay} 
2025-06-11 10:42:56.171 INFO  [9602-005] [StateManagerThread12(pos:9602-005)] [EndpointInvoker] IUserService.findPermission()  
2025-06-11 10:42:56.171 INFO  [9602-005] [StateManagerThread12(pos:9602-005)] [BasePermissionEndpoint] User '444444' has permission 'inventory.menu' 
2025-06-11 10:42:56.172 INFO  [9602-005] [StateManagerThread12(pos:9602-005)] [LoggingStateManagerObserver] Transition from HomeScreenState to MicroCapProxyState
+------------------+                      +------------------+    Substates:
|                  | <Enter MicroCapFlow> |                  |     *MicroCapFlow
| HomeScreenState  | -------------------> |MicroCapProxyState|     DefaultFlow
|                  |   LaunchInventory    |                  |
+------------------+                      +------------------+ 
2025-06-11 10:42:56.184 INFO  [9602-005:444444] [StateManagerThread12(pos:9602-005)] [LoggingStateManagerObserver] Show screen on device ""9602-005"" (org.jumpmind.pos.app.screen.MicroCapProxyUIMessage) screen seqNo: 40
+--------------------------------------------------+
| +----------------------------------------------+ |
| |                  inventory                   | |
| |               [MicroCapProxy]                | |
| +----------------------------------------------+ |
+--------------------------------------------------+ 
2025-06-11 10:42:56.185 INFO  [9602-005:444444] [StateManagerThread12(pos:9602-005)] [LogEventHandler] An event of UserLoginSuccessEvent was received by pos/9602-005} 
2025-06-11 10:42:56.189 INFO  [9602-005:444444] [StateManagerThread12(pos:9602-005)] [EndpointInvoker] IDocumentService.listPrinters()  
2025-06-11 10:42:56.194 INFO  [9602-005:444444] [StateManagerThread12(pos:9602-005)] [EndpointInvoker] IPaymentService.getAssignedDevice()  {noformat}

","11/Jun/25 9:47 PM;712020:e5b5ad7e-62d4-4865-986d-20a2966755ae;besides these, could you please check the user’s workgroup has proper access to each function

examples for group 1 like, please adjust as per your needs


{noformat}|WORKGROUP_ID|PERMISSION_ID                   |EFFECTIVE_START_TIME   |EXCLUDED_FLAG|EFFECTIVE_VERSION|EFFECTIVE_END_VERSION|EFFECTIVE_END_TIME|CREATE_TIME            |CREATE_BY|LAST_UPDATE_TIME       |LAST_UPDATE_BY|TAG_APP_ID|TAG_BUSINESS_UNIT_ID|TAG_STORE_TYPE|TAG_BRAND|TAG_DEVICE_TYPE|TAG_DEVICE_ID|TAG_COUNTRY|TAG_STATE|
|------------|--------------------------------|-----------------------|-------------|-----------------|---------------------|------------------|-----------------------|---------|-----------------------|--------------|----------|--------------------|--------------|---------|---------------|-------------|-----------|---------|
|1           |inventory.menu                  |2018-12-27 13:49:24.000|             |0                |                     |                  |2025-04-17 12:01:16.429|system   |2025-04-17 12:01:16.429|system        |*         |*                   |*             |*        |*              |*            |*          |*        |
|1           |inventory.adjustments           |2018-12-27 13:49:24.000|             |0                |                     |                  |2025-04-17 12:01:16.429|system   |2025-04-17 12:01:16.429|system        |*         |*                   |*             |*        |*              |*            |*          |*        |
|1           |inventory.cyclecounts           |2018-12-27 13:49:24.000|             |0                |                     |                  |2025-04-17 12:01:16.429|system   |2025-04-17 12:01:16.429|system        |*         |*                   |*             |*        |*              |*            |*          |*        |
|1           |inventory.receiving             |2018-12-27 13:49:24.000|             |0                |                     |                  |2025-04-17 12:01:16.429|system   |2025-04-17 12:01:16.429|system        |*         |*                   |*             |*        |*              |*            |*          |*        |
|1           |inventory.shipping              |2018-12-27 13:49:24.000|             |0                |                     |                  |2025-04-17 12:01:16.429|system   |2025-04-17 12:01:16.429|system        |*         |*                   |*             |*        |*              |*            |*          |*        |
|1           |inventory.ticketPrinting        |2018-12-27 13:49:24.000|             |0                |                     |                  |2025-04-17 12:01:16.429|system   |2025-04-17 12:01:16.429|system        |*         |*                   |*             |*        |*              |*            |*          |*        |
|1           |inventory.cyclecount.review.save|2018-12-27 13:49:24.000|             |0                |                     |                  |2025-04-17 12:01:16.429|system   |2025-04-17 12:01:16.429|system        |*         |*                   |*             |*        |*              |*            |*          |*        |
{noformat}",11/Jun/25 9:48 PM;712020:e5b5ad7e-62d4-4865-986d-20a2966755ae;added comments ,"13/Jun/25 10:39 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;I have made the requested changes. Updated the table and re-tested, unfortunately same result. Once the inventory permission added, it prompt to login however lands on blank page:

** Local logs are attached and the screenshot of the table



[^commerce-isp.log]
[^commerce-client.log]

!image-20250613-143738.png|width=1063,height=409,alt=""image-20250613-143738.png""!

","13/Jun/25 10:39 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ",10/Jul/25 3:30 PM;5c8fc1cd627d3b2d0163b7f1;[~accountid:712020:e5b5ad7e-62d4-4865-986d-20a2966755ae] was this ever resolved yet for TPS?,"10/Jul/25 4:09 PM;712020:e5b5ad7e-62d4-4865-986d-20a2966755ae;[~accountid:5c8fc1cd627d3b2d0163b7f1] Got Edita setup her local env, she is making sure her setup is correct,",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,28/May/25 4:36 PM
POS: Product Inquiry available to order inventory is showing in red not green,JMCH-874,23281,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Linda Fothergill,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c,Linda Fothergill,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c,28/May/25 4:18 PM,08/Jul/25 1:15 PM,24/Jun/25 3:19 PM,,,0,,"POS: Product Inquiry available to order inventory is showing in red not green

See the screen shots in doc attached- it appears green is used for positive results (in stock,  and red for negative (out of stock, unavailable for order) but Item available for order is appearing in red which is can be confusing to users (or misread if going just by color). ",,Ann-Katherine Johnson,Automation for Jira,Jake Vanmeter,Nathan Richardson,712020:d4626b4e-9ff3-475f-9c6e-8509649cd509,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,70121:4c55edb8-b2f0-47f8-bb2c-524b3fa93eda,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,28/May/25 4:17 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;PSQ-1037.docx;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24134,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@72c6d2ea,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 4 (Low),,,,,,,,,,,,,,,,,,Reitman's Canada Limited,,,,,,,Point of Sale,,,,"Go into product inquiry either thru the main screen or thru the hamburger menu in a sale transaction, search an item that is available for order and notice this ‘positive’ result is in red font not green.  Can we get it to be green and if not can we just not use any color and make all the info black ?",1|i0117v:,,Technical Issue,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa),,,,,,,,,,,,,,,,,,,,,,,,,6:40,,,,,241.0.31 (QA),,,,2025-05-29 12:37:36.22,,28/May/25 4:18 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;[^PSQ-1037.docx],29/May/25 8:37 AM;70121:4c55edb8-b2f0-47f8-bb2c-524b3fa93eda;Wondering if this can be fixed in CSS on their side?,30/May/25 2:15 PM;712020:d4626b4e-9ff3-475f-9c6e-8509649cd509;[~accountid:5c8fc1cd627d3b2d0163b7f1] this is indeed a base commerce bug in main and 241.0. We have the orderAvailabilityLabel hard coded to always use the “not available” class for styling instead of using {{getAvailabilityStyle()}} like we use for in store availability. I’m not sure how it is that RCL is the first retailer to notice this since it is a very old bug.,"30/May/25 2:48 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7768.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,28/May/25 4:18 PM
Special Order: Order flag and order number is not appearing for some of the transactions on JMC EJ,JMCH-873,23280,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Arpan Soni,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b,Arpan Soni,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b,28/May/25 4:10 PM,08/Jul/25 1:18 PM,,,,0,,"Store 826 completed a cash and carry transaction with a special order. Upon checking the JMC EJ, the order flag and order number were not showing for the special order items.

Tran # *22025*
Date: *05/25/2025*
Device: *0826-001*

Attached 

* fixed logs
* screenshot from JMC EJ
* JMC JSON Payload

",,Automation for Jira,Nathan Richardson,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,28/May/25 4:09 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b;826-001-FIXEDlogs-05252025.zip;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24128,28/May/25 4:09 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b;826-001_22025_05252025.json;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24127,05/Jun/25 10:21 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b;On_demand_report_2025-06-05T14_11_33.650Z_fc348720-4216-11f0-bfe7-131dabb3444c.csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24504,28/May/25 4:09 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b;Screenshot 2025-05-28 at 4.06.10 PM.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24130,28/May/25 4:09 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b;Screenshot 2025-05-28 at 4.06.22 PM.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24132,28/May/25 4:09 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b;Screenshot 2025-05-28 at 4.06.31 PM.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24131,28/May/25 4:09 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b;Screenshot 2025-05-28 at 4.06.38 PM.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24129,05/Jun/25 10:21 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b;Screenshot 2025-06-04 at 8.38.48 AM.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24505,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@85a5bf7,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Vitamin Shoppe,,,,,,,Point of Sale,,,,Note: this is not happening with all Special order,1|i0117n:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,7:54,,,,,243.7.2,,,,2025-05-29 16:56:37.714,,"28/May/25 4:10 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b;[^826-001-FIXEDlogs-05252025.zip]

[^826-001_22025_05252025.json]

!Screenshot 2025-05-28 at 4.06.10 PM.png|thumbnail!

!Screenshot 2025-05-28 at 4.06.22 PM.png|thumbnail!

!Screenshot 2025-05-28 at 4.06.31 PM.png|thumbnail!

!Screenshot 2025-05-28 at 4.06.38 PM.png|thumbnail!","29/May/25 12:56 PM;5c8fc1cd627d3b2d0163b7f1;Have you tried reproducing in your QA?  And you say it happens once in a while?  Can you pull the central logs for us as well?  

Are you able to log on to the fixed register and look at the EJ for this transaction there and see whether it displays the order information as well?  The logs reflect it captured the details.  Just can’t tell what central would have had without the logs from there.
If you could try to pull up this transaction from central EJ and pull the logs from there at that time then it will be better to have a close time to the reproduction of the issue.","05/Jun/25 10:21 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b;We couldn't reproduce the issue in QA. Just found this one transaction.
Yes, on the Fixed register, it displays order information.

!Screenshot 2025-06-04 at 8.38.48 AM.png|width=1277,height=735,alt=""Screenshot 2025-06-04 at 8.38.48 AM.png""!

JMC Central logs when the transaction was pulled up
Device_id: *0826-001* and Tran#: *22025*


[^On_demand_report_2025-06-05T14_11_33.650Z_fc348720-4216-11f0-bfe7-131dabb3444c.csv]

","05/Jun/25 10:21 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ","19/Jun/25 10:39 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7878.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,28/May/25 4:10 PM
"Delivery Item selecting New Customer & using Pass to Customer results in customer created but delivery item is not added to txn, must search and add again",JMCH-872,23278,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Linda Fothergill,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c,Linda Fothergill,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c,28/May/25 3:52 PM,08/Jul/25 1:18 PM,,,,0,,Basically this means that the associate has to search for & find the delivery product again (but it will this time pickup the now attached new customer info). ,,Automation for Jira,Nathan Richardson,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@4bc34d5c,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Reitman's Canada Limited,,,,,,,Point of Sale,,,,"# Start a sale transaction
# Hamburger menu & select product inquiry
# Search an item available for delivery
# Add the item for delivery
# in the popup that appears select Add New Customer
# Form will open on the POS
# Associate selects Pass to Customer
# Customer enters mandatory fields, clicks Next, selects an opt in choice
# Customer is created and on the POS the customer appears for selection. 
# They can be attached to the sale BUT the store order item & the store order bill to / ship to form(s) & confirmation of do not appear.  Associate has to research for the item and add it for delivery again. 

NOTE: 

If the Associate had not passed to customer in step 7 but instead had entered the mandatory fields, clicked Create & customer selected the opt in the Bill To store order address form opens populated with the relevant info from the new customer creation.  Associate only needs to add if necessary any missing mandatory fields on this form, indicate whether to use same info as the ship to info and the delivery item is added to the transaction.  If should work as well if choosing to use pass to customer. ",1|i0117f:,,Technical Issue,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa),,,,,,,,,,,,,,,,,,,,,,,,,5:43,,,,,241.0.31 (QA),,,,2025-05-29 13:16:18.765,,"29/May/25 9:16 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;I reproduced what you are seeing.  Thanks for bringing it to our attention.

Manual automation created Production Bug [JMC-7753].

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,28/May/25 3:52 PM
Weighted Item with Transaction Discount,JMCH-869,23204,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Edita Vanetsian,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac,Edita Vanetsian,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac,27/May/25 12:19 PM,08/Jul/25 1:18 PM,,,,0,,"* TPS recently started selling its first weighted item within Jumpmind. When the product is scanned, a pop up displays asking how much in ounces is being enters. The store enters the amount and the system adjusts the base price according to what is entered. This item is allowed to be discounted. The discount is being processed fine at POS, but when the transaction is sent into SA, the discount is being sent per ounce rather than total. For example, if the total discount on at item that was 4 ounces was $1.00 - the transaction in SA gets a discount line for a total of .25 cents, rather than the full $1. This is creating IF rejects within SA and manual clean up for our sale's audit team.


From Makira team:

We were able to reproduce in Test, but only when the discount is applied at transaction level. The reason is that the field where we look for the discount amount contains the total discount for the item when it is an item discount, but contains the per ounce discount amount (rounded) when the discount originated at the transaction level. This inconsistency in the JMC JSON data looks to be the problem.

We JM to look at this because how they determine the value that goes into the ""modByAmount"" field of the price_modifier is different depending win whether the discount is an item level or a transaction level discount. This only happens for the ""sold by the ounce"" items.

Attached File contains JSONs for five sale transactions. The weighted item in all the transactions has a regular price of $1.50 per oz.
seqNo 1829: 1 2oz item (3.00) with a 20% ITEM level discount. PriceModifier ModByAmount = 0.60 (the total amount for the item)
seqNo 1830: 1 2oz item (3.00) with a $1.00 ITEM discount. PriceModifier ModByAmount = 1.00 (the total amount for the item)
seqNo 1831: 1 10oz item (15.00) with a $5.00 TRANSACTiON discount. PriceModifier ModByAmount = 0.50 (expecting $5.00 but got the per ounce disc amt)
seqNo 1832: 1 7oz item (10.50) with a $5.00 TRANSACTiON discount. PriceModifier ModByAmount = 0.71 (expecting $5.00 but got ROUNDED per ounce disc amt)
seqNo 1833: 1 15oz item (22.50) and another ""normal"" item (14.40) with a $10.00 TRANSACTiON discount. Transaction discount prorated to 6.10 for first item and 3.90 for the second. This is correct. PriceModifier ModByAmount = 0.41 (expecting $6.10 but got ROUNDED per ounce disc amt)

",,Automation for Jira,,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,,,,,,,,,,,,,,,27/May/25 12:19 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;TPS.WeightedItemDiscountTransactions.json;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24041,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@58f35487,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Makira,The Paper Store,,,,,,Point of Sale,,,,"# Login to Sell and perform a transaction  with item #65516400005 and more than 1 ounce. 
# add transaction discount


",1|i0112b:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,2:31,,,,,243.6.2,,,,2025-06-30 16:57:03.385,,27/May/25 12:19 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;[^TPS.WeightedItemDiscountTransactions.json],"30/Jun/25 12:57 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7941.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,27/May/25 12:19 PM
QuickLoader: Errored files are moving to the archive folder instead of the error folder.,JMCH-865,23162,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Arpan Soni,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b,Arpan Soni,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b,23/May/25 1:19 PM,08/Jul/25 1:18 PM,,,,0,,"JMC version - 243.7.2

When we process a CSV file with QuickLoader, if the file is missing mandatory data or has issues with the file format, those files are not being moved to the error folder as we configured.
According to ticket [https://jumpmind.atlassian.net/browse/JMCH-515|https://jumpmind.atlassian.net/browse/JMCH-515|smart-link] and JMC document [https://commerce-docs.dev.jumpmind.io/Implementors/QuickLoaderDocs.html|https://commerce-docs.dev.jumpmind.io/Implementors/QuickLoaderDocs.html], we have configured the QuickLoader YMAL file as recommended. 

QA config YAML file:

{noformat}quickLoader:
  enabled: true
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: arn:aws:iam::273026905511:role/s3-feed-access-role
  database:
    postgres:
      write: postgresql://jmc-aurora-cluster-qa.cluster-csxxhaqifkca.us-east-1.rds.amazonaws.com:5433/jmc_pos_demostore
      auth:
        secretRef:
          name: commerce-db-auth
  additionalApplicationConfiguration:
    openpos:
      jobs:
        config:
          # These are the TVS Quick Loader jobs, 1 job for each feed
          quickLoader-itempricing:
            sourceLocation: jmc-qa-feed-itempricing
            sourceType: AMAZON_S3
            archiveLocation: jmc-qa-feed-archive
            failedFilesLocation: jmc-qa-feed-itempricing/Error
          quickLoader-item:
            sourceLocation: jmc-qa-feed-item
            sourceType: AMAZON_S3
            archiveLocation: jmc-qa-feed-archive
            failedFilesLocation: jmc-qa-feed-item/Error
          quickLoader-user:
            sourceLocation: jmc-qa-feed-user
            sourceType: AMAZON_S3
            archiveLocation: jmc-qa-feed-archive
            failedFilesLocation: jmc-qa-feed-user/Error
          quickLoader-wotocentral:
            sourceLocation: jmc-qa-feed-wotocentral
            sourceType: AMAZON_S3
            archiveLocation: jmc-qa-feed-archive
            failedFilesLocation: jmc-qa-feed-wotocentral/Error
          quickLoader-misc:
            sourceLocation: jmc-qa-feed-misc
            sourceType: AMAZON_S3
            archiveLocation: jmc-qa-feed-archive
            failedFilesLocation: jmc-qa-feed-misc/Error
          quickLoader-promo:
            sourceLocation: jmc-qa-quickloader-promo
            sourceType: AMAZON_S3
            archiveLocation: jmc-qa-quickloader-promo-archive
            failedFilesLocation: jmc-qa-quickloader-promo/Error{noformat}

i.e: quickLoader-Item 

Source S3 bucket: jmc-qa-feed-item
Archive S3 bucket: jmc-qa-feed-archive 
Error S3 URI: s3://jmc-qa-feed-item/Error/

CSV file: {{table-itm_selling_rule--250519220000044.csv}}
Attached QuickLoader POD logs

Are we missing anything in the configuration to move the error file to the error folder?",,Automation for Jira,Jake Vanmeter,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,70121:4c55edb8-b2f0-47f8-bb2c-524b3fa93eda,,,,,,,,,,,,,,23/May/25 1:17 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b;QuickLoader_0523-JMCH_ticket.log;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23996,23/May/25 1:20 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b;table-itm_selling_rule-250519220000044.csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23997,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@55dba9f0,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Vitamin Shoppe,,,,,,,Quick Loader,,,,"Upload CSV file to jmc-qa-feed-item S3 bucket 
CSV file: {{table-itm_selling_rule--250519220000044.csv}}",1|i01103:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,7:45,,,,,243.7.2,,,,2025-05-23 18:32:43.137,,23/May/25 1:19 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b;[^QuickLoader_0523-JMCH_ticket.log],"23/May/25 1:20 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b;[^table-itm_selling_rule-250519220000044.csv]

","23/May/25 2:32 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;A Production Bug has been created [JMC-7741].

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,23/May/25 1:19 PM
Tax Exempt Transaction- Null value is getting persisted ,JMCH-862,23152,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Tamilarasi,61c15ecd9ee70a0068a1c356,Tamilarasi,61c15ecd9ee70a0068a1c356,23/May/25 4:55 AM,08/Jul/25 1:19 PM,,,,0,,"We’ve encountered an issue where a line item in a *tax-exempt transaction* with a price of *$0.00* causes a failure during tax calculation. This results in a {{java.lang.ArithmeticException: / by zero}}.

Due to this exception, the fields {{authority_id}}, {{taxAmount}}, {{moneyTaxAmount}}, and possibly other related tax fields in the {{SLS_TAX_RETAIL_LINE_ITEM}} table are being persisted as null.

Please let us know if any clarifications needed.",,Automation for Jira,Jake Vanmeter,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,70121:4c55edb8-b2f0-47f8-bb2c-524b3fa93eda,,,,,,,,,,,,,,23/May/25 4:49 AM;b7513071-ce41-486f-8df1-bf24ed9e3317;image-20250523-084908.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23967,23/May/25 7:24 AM;ug:3816b823-1cf0-4bab-a8ce-20e0d4cf848e;image-20250523-112446.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23970,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@77d12ad4,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Logic,Vitamin Shoppe,,,,,,Point of Sale,,,,"

# Start a transaction.
# Add one or more items to the transaction.
# Modify the price of any SKU to *$0.00*.
# Apply *Tax Exempt Sale* to the transaction.
# Complete the transaction.
# Check the values in the {{SLS_TAX_RETAIL_LINE_ITEM}} table for the completed transaction.

",1|i010yb:,,Technical Issue,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:3101ff33-8d09-4522-b964-374b8fcbfa94(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:3101ff33-8d09-4522-b964-374b8fcbfa94),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:bf793e45-1f06-469e-8dd2-6aff9e52866c(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:bf793e45-1f06-469e-8dd2-6aff9e52866c),,,,,,,,,,,,,,,,,,,,,,,,,,8:00,,,,,commerceVersion=243.7.2,,,,2025-05-23 11:24:54.332,,23/May/25 4:55 AM;61c15ecd9ee70a0068a1c356;!image-20250523-084908.png|thumbnail!,"23/May/25 7:24 AM;70121:4c55edb8-b2f0-47f8-bb2c-524b3fa93eda;Was able to reproduce in base using the above steps:

{noformat}2025-05-23 07:20:24.930 ERROR [05243-001:1111:20250408:283] [StateManagerThread4(pos:05243-001)] [TaxCalculator] Error calculating taxes given request : TaxCalculationRequest(taxableItems=[TaxableItem(lineNumber=1, itemQuantity=Optional[1.000], groupId=145, taxableAmount=USD 43.99, taxExemptEligible=false, overrideApplied=true), TaxableItem(lineNumber=3, itemQuantity=Optional[1.000], groupId=145, taxableAmount=USD 45.18, taxExemptEligible=false, overrideApplied=true), TaxableItem(lineNumber=4, itemQuantity=Optional[1.000], groupId=145, taxableAmount=USD 0.00, taxExemptEligible=false, overrideApplied=true)], calculateDate=2025-05-23T07:20:24.927034, geoCode=05243, category=businessunit, geoCodeOrigin=BUSINESS_UNIT) StackTraceKey.init [java.lang.ArithmeticException:2204716810] 
java.lang.ArithmeticException: / by zero
	at java.base/java.math.BigDecimal.divideAndRound(BigDecimal.java:4675)
	at java.base/java.math.BigDecimal.divide(BigDecimal.java:5748)
	at java.base/java.math.BigDecimal.divide(BigDecimal.java:1650)
	at java.base/java.math.BigDecimal.divide(BigDecimal.java:1731)
	at org.jumpmind.pos.util.MathUtils.divideImpl(MathUtils.java:1098)
	at org.jumpmind.pos.util.MathUtils.divide(MathUtils.java:340)
	at org.jumpmind.pos.tax.function.impl.TaxCalculator.lambda$solveItemTaxOverrides$4(TaxCalculator.java:280)
	at java.base/java.util.HashMap$ValueSpliterator.forEachRemaining(HashMap.java:1779)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.jumpmind.pos.tax.function.impl.TaxCalculator.solveItemTaxOverrides(TaxCalculator.java:275)
	at org.jumpmind.pos.tax.function.impl.TaxCalculator.calculateTaxImpl(TaxCalculator.java:109)
	at org.jumpmind.pos.tax.function.impl.TaxCalculator.calculateTax(TaxCalculator.java:54)
	at org.jumpmind.pos.tax.function.impl.DefaultTaxCalculationStrategy.calculateTax(DefaultTaxCalculationStrategy.java:32)
	at org.jumpmind.pos.tax.service.CalculateTaxEndpoint.calculateTax(CalculateTaxEndpoint.java:38)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.jumpmind.pos.service.strategy.LocalOnlyStrategy.invoke(LocalOnlyStrategy.java:52)
	at org.jumpmind.pos.service.EndpointInvoker.invoke(EndpointInvoker.java:114)
	at org.jumpmind.pos.service.EndpointInvocationHandler.invoke(EndpointInvocationHandler.java:137)
	at org.jumpmind.pos.service.$Proxy230.calculateTax(Unknown Source)
	at org.jumpmind.pos.sales.service.RetailManager.calculateTaxesImpl(RetailManager.java:1870)
	at org.jumpmind.pos.sales.service.RetailManager.calculateTaxesImpl(RetailManager.java:1806)
	at org.jumpmind.pos.sales.service.RetailManager.calculateTaxes(RetailManager.java:1764)
	at org.jumpmind.pos.sales.service.RetailManager.doRetailCalculations(RetailManager.java:150)
	at org.jumpmind.pos.sales.service.trans.TransactionManager.updateTransaction(TransactionManager.java:102)
	at org.jumpmind.pos.sales.service.trans.TransactionManager.updateTransaction(TransactionManager.java:87)
	at org.jumpmind.pos.sales.service.trans.GetPotentialSavingsFromLoyaltyEndpoint.getPotentialSavingsFromLoyalty(GetPotentialSavingsFromLoyaltyEndpoint.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.jumpmind.pos.service.strategy.LocalOnlyStrategy.invoke(LocalOnlyStrategy.java:52)
	at org.jumpmind.pos.service.EndpointInvoker.invoke(EndpointInvoker.java:114)
	at org.jumpmind.pos.service.EndpointInvocationHandler.invoke(EndpointInvocationHandler.java:137)
	at org.jumpmind.pos.service.$Proxy210.getPotentialSavingsFromLoyalty(Unknown Source)
	at org.jumpmind.pos.app.core.client.TransMgmtClient.getTotalPotentialSavingsByLoyalty(TransMgmtClient.java:1515)
	at org.jumpmind.pos.app.state.sale.LoyaltySavingsState.arrive(LoyaltySavingsState.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.jumpmind.pos.core.flow.StateLifecycle.invokeLifecyleMethod(StateLifecycle.java:80)
	at org.jumpmind.pos.core.flow.StateLifecycle.invokeArrive(StateLifecycle.java:66)
	at org.jumpmind.pos.core.flow.StateLifecycle.executeArrive(StateLifecycle.java:23)
	at org.jumpmind.pos.core.flow.StateManager.completeTransition(StateManager.java:547)
	at org.jumpmind.pos.core.flow.StateManager.checkTransitionEnd(StateManager.java:508)
	at org.jumpmind.pos.core.flow.StateManager.beginTransition(StateManager.java:479)
	at org.jumpmind.pos.core.flow.StateManager.transitionTo(StateManager.java:404)
	at org.jumpmind.pos.core.flow.StateManager.transitionTo(StateManager.java:373)
	at org.jumpmind.pos.core.flow.StateManager.transitionToSubState(StateManager.java:1004)
	at org.jumpmind.pos.core.flow.StateManager.processAction(StateManager.java:769)
	at org.jumpmind.pos.core.flow.StateManager.actionLoop(StateManager.java:284)
	at org.jumpmind.pos.core.flow.StateManager$1.run(StateManager.java:239){noformat}

!image-20250523-112446.png|width=1395,height=94,alt=""image-20250523-112446.png""!","23/May/25 7:36 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;A Production Bug has been created [JMC-7734].

This issue will now need to go through Planning.","25/Jun/25 4:38 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a;This is happening almost daily as we run a lot of free bag promos and TAX Exempt with free bags or $0.00 items always fail and cause support issue.

Can this be prioritized for .11?

[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:3101ff33-8d09-4522-b964-374b8fcbfa94]  [~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:bf793e45-1f06-469e-8dd2-6aff9e52866c]  @Mike Dalton",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,23/May/25 4:55 AM
EJ - Missing Filters,JMCH-848,22907,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Gabrielle Capozzi,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e,Gabrielle Capozzi,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e,16/May/25 11:42 AM,08/Jul/25 1:19 PM,,,,0,,"It looks like our EJ in Commerce Central is missing variable for a lot of the filters that are drop downs (i.e business unit, card type, etc). I’m assuming this is due to data needing to be inserted into some tables, however after searching documentation and the database, I was unable to identify which tables these are. Which tables do I need to work in to have options for the filter variable in Electronic Journal within Commerce Central? 

If I am wrong and they aren’t dictated by tables - please let me know how we can get options into these filters. Thank you!",,Automation for Jira,Nathan Richardson,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,21/May/25 12:10 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;image-20250521-161009.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23891,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@d71d47c,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,The Paper Store,,,,,,,Commerce Central,,,,,1|i0108z:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,V243,,,,2025-05-16 15:53:34.376,,16/May/25 11:53 AM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e] could you please take a couple screen prints of the fields you are looking at so I make sure I understand.,"21/May/25 12:10 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;All of these are drop downs yet have no options - I[m assuming there are tables in the DB that need information potentially?

!image-20250521-161009.png|width=1587,height=537,alt=""image-20250521-161009.png""!

","21/May/25 12:10 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ","22/May/25 7:19 AM;5c8fc1cd627d3b2d0163b7f1;The dropdowns are currently built from the sls_trans_summary table. 

Could you please check your central database for this table first and then we’ll go from there depending on what you find?","22/May/25 8:18 AM;5c8fc1cd627d3b2d0163b7f1;That is a new table and Henry just checked your SymmetricDS configuration and it is not in there set to sync from register back up to central.  We’ll need to update your SymDS configuration to add that table to the routing to get the data sync’ing up.

It might be best to schedule a time when I or one of our team can walk you through this update.  I’m open today until 10am EDT and then 12-1:30pm otherwise tomorrow (5/23) between 9am - 2pm.  The update should be very short.  We just need you to be able to get into the SymmetricDS UI.","23/May/25 9:54 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;There is plenty of data in the sls_trans_summery table

Apologies for the delay in getting back to you here. I could do 11:30AM EST today, would that work?","23/May/25 9:54 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ","23/May/25 10:11 AM;5c8fc1cd627d3b2d0163b7f1;Sure that would work, could you send a meeting invite?",23/May/25 1:20 PM;5c8fc1cd627d3b2d0163b7f1;updated this ticket to a bug and linked to our internal developers ticket.,23/May/25 1:46 PM;5c8fc1cd627d3b2d0163b7f1;Could you please still request a commerce pos central log?  Ideally from today since we were using the ap and could see the issue.  I would like to verify we see the same issues in the log.,"23/May/25 1:48 PM;5c8fc1cd627d3b2d0163b7f1;Data from TPS central sls_trans_summary table.
Distinct trans type codes:

CASH_DOWN
CASH_UP
CLOSE_BUSINESS_UNIT
CLOSE_DEVICE
CLOSE_STORE_BANK
CLOSE_TILL
NO_SALE
OPEN_BUSINESS_UNIT
OPEN_DEVICE
OPEN_STORE_BANK
OPEN_TILL
ORDER_STATUS
PAY_IN
PAY_OUT
RECONCILE_TILL
REDEEM
RETURN
SALE
SUSPEND_RETRIEVED
TRAINING_END
TRAINING_START
VOID

----

Distinct list of tender types:
CASH
CREDIT_CARD
DEBIT_CARD
GIFT_CARD
GIFT_CERTIFICATE
MALL_CERTIFICATE
MANUFACTURER_COUPON
STORE_CREDIT
UNDETERMINED_CARD

Values from tender_type_codes

CASH
CASH CREDIT_CARD
CASH CREDIT_CARD DEBIT_CARD
CASH CREDIT_CARD GIFT_CARD
CASH CREDIT_CARD STORE_CREDIT
CASH CREDIT_CARD UNDETERMINED_CARD
CASH DEBIT_CARD
CASH DEBIT_CARD CREDIT_CARD
CASH GIFT_CARD
CASH GIFT_CARD CREDIT_CARD
CASH GIFT_CARD DEBIT_CARD
CASH GIFT_CARD UNDETERMINED_CARD
CASH MALL_CERTIFICATE
CASH MALL_CERTIFICATE CREDIT_CARD
CASH STORE_CREDIT
CASH UNDETERMINED_CARD
CREDIT_CARD
CREDIT_CARD CASH
CREDIT_CARD CASH DEBIT_CARD
CREDIT_CARD CASH STORE_CREDIT
CREDIT_CARD DEBIT_CARD
CREDIT_CARD DEBIT_CARD CASH
CREDIT_CARD DEBIT_CARD STORE_CREDIT
CREDIT_CARD GIFT_CARD
CREDIT_CARD GIFT_CARD CASH
CREDIT_CARD GIFT_CARD DEBIT_CARD
CREDIT_CARD GIFT_CARD MALL_CERTIFICATE CASH
CREDIT_CARD GIFT_CERTIFICATE CASH
CREDIT_CARD MALL_CERTIFICATE
CREDIT_CARD MALL_CERTIFICATE CASH
CREDIT_CARD STORE_CREDIT
CREDIT_CARD STORE_CREDIT CASH
CREDIT_CARD UNDETERMINED_CARD
CREDIT_CARD UNDETERMINED_CARD DEBIT_CARD
DEBIT_CARD
DEBIT_CARD CASH
DEBIT_CARD CASH CREDIT_CARD
DEBIT_CARD CASH STORE_CREDIT
DEBIT_CARD CREDIT_CARD
DEBIT_CARD CREDIT_CARD CASH
DEBIT_CARD GIFT_CARD
DEBIT_CARD GIFT_CARD CASH
DEBIT_CARD GIFT_CARD CREDIT_CARD
DEBIT_CARD MALL_CERTIFICATE
DEBIT_CARD STORE_CREDIT
DEBIT_CARD STORE_CREDIT CREDIT_CARD
DEBIT_CARD UNDETERMINED_CARD
DEBIT_CARD UNDETERMINED_CARD CREDIT_CARD
GIFT_CARD
GIFT_CARD CASH
GIFT_CARD CASH CREDIT_CARD
GIFT_CARD CASH CREDIT_CARD DEBIT_CARD
GIFT_CARD CASH DEBIT_CARD
GIFT_CARD CASH UNDETERMINED_CARD
GIFT_CARD CREDIT_CARD
GIFT_CARD CREDIT_CARD CASH
GIFT_CARD CREDIT_CARD CASH DEBIT_CARD
GIFT_CARD CREDIT_CARD DEBIT_CARD
GIFT_CARD CREDIT_CARD UNDETERMINED_CARD
GIFT_CARD DEBIT_CARD
GIFT_CARD DEBIT_CARD CASH
GIFT_CARD DEBIT_CARD CASH CREDIT_CARD
GIFT_CARD DEBIT_CARD CREDIT_CARD
GIFT_CARD MALL_CERTIFICATE
GIFT_CARD MALL_CERTIFICATE CASH
GIFT_CARD MALL_CERTIFICATE CASH DEBIT_CARD
GIFT_CARD MALL_CERTIFICATE CREDIT_CARD
GIFT_CARD MALL_CERTIFICATE CREDIT_CARD CASH
GIFT_CARD MALL_CERTIFICATE DEBIT_CARD
GIFT_CARD UNDETERMINED_CARD
GIFT_CARD UNDETERMINED_CARD CREDIT_CARD
GIFT_CARD UNDETERMINED_CARD DEBIT_CARD
GIFT_CERTIFICATE
GIFT_CERTIFICATE CASH
GIFT_CERTIFICATE CASH CREDIT_CARD
GIFT_CERTIFICATE CASH CREDIT_CARD DEBIT_CARD
GIFT_CERTIFICATE CASH DEBIT_CARD
GIFT_CERTIFICATE CASH DEBIT_CARD CREDIT_CARD
GIFT_CERTIFICATE CASH GIFT_CARD
GIFT_CERTIFICATE CASH GIFT_CARD CREDIT_CARD
GIFT_CERTIFICATE CASH UNDETERMINED_CARD
GIFT_CERTIFICATE CREDIT_CARD
GIFT_CERTIFICATE CREDIT_CARD CASH
GIFT_CERTIFICATE CREDIT_CARD CASH DEBIT_CARD
GIFT_CERTIFICATE CREDIT_CARD DEBIT_CARD
GIFT_CERTIFICATE CREDIT_CARD GIFT_CARD
GIFT_CERTIFICATE CREDIT_CARD GIFT_CARD CASH
GIFT_CERTIFICATE CREDIT_CARD GIFT_CARD DEBIT_CARD
GIFT_CERTIFICATE CREDIT_CARD UNDETERMINED_CARD
GIFT_CERTIFICATE CREDIT_CARD UNDETERMINED_CARD DEBIT_CARD
GIFT_CERTIFICATE DEBIT_CARD
GIFT_CERTIFICATE DEBIT_CARD CASH
GIFT_CERTIFICATE DEBIT_CARD CREDIT_CARD
GIFT_CERTIFICATE DEBIT_CARD GIFT_CARD
GIFT_CERTIFICATE GIFT_CARD
GIFT_CERTIFICATE GIFT_CARD CASH
GIFT_CERTIFICATE GIFT_CARD CASH CREDIT_CARD
GIFT_CERTIFICATE GIFT_CARD CASH DEBIT_CARD
GIFT_CERTIFICATE GIFT_CARD CREDIT_CARD
GIFT_CERTIFICATE GIFT_CARD CREDIT_CARD CASH
GIFT_CERTIFICATE GIFT_CARD CREDIT_CARD CASH DEBIT_CARD
GIFT_CERTIFICATE GIFT_CARD CREDIT_CARD DEBIT_CARD
GIFT_CERTIFICATE GIFT_CARD CREDIT_CARD UNDETERMINED_CARD
GIFT_CERTIFICATE GIFT_CARD DEBIT_CARD
GIFT_CERTIFICATE GIFT_CARD DEBIT_CARD CASH
GIFT_CERTIFICATE GIFT_CARD DEBIT_CARD CREDIT_CARD
GIFT_CERTIFICATE GIFT_CARD MALL_CERTIFICATE
GIFT_CERTIFICATE GIFT_CARD MALL_CERTIFICATE CASH
GIFT_CERTIFICATE GIFT_CARD MALL_CERTIFICATE CREDIT_CARD
GIFT_CERTIFICATE GIFT_CARD MALL_CERTIFICATE DEBIT_CARD
GIFT_CERTIFICATE GIFT_CARD UNDETERMINED_CARD
GIFT_CERTIFICATE GIFT_CARD UNDETERMINED_CARD CREDIT_CARD
GIFT_CERTIFICATE MALL_CERTIFICATE
GIFT_CERTIFICATE MALL_CERTIFICATE CASH
GIFT_CERTIFICATE MALL_CERTIFICATE CREDIT_CARD
GIFT_CERTIFICATE MALL_CERTIFICATE DEBIT_CARD
GIFT_CERTIFICATE MALL_CERTIFICATE GIFT_CARD
GIFT_CERTIFICATE MALL_CERTIFICATE GIFT_CARD CREDIT_CARD
GIFT_CERTIFICATE UNDETERMINED_CARD
GIFT_CERTIFICATE UNDETERMINED_CARD CASH
GIFT_CERTIFICATE UNDETERMINED_CARD CREDIT_CARD
GIFT_CERTIFICATE UNDETERMINED_CARD DEBIT_CARD
MALL_CERTIFICATE
MALL_CERTIFICATE CASH
MALL_CERTIFICATE CASH DEBIT_CARD
MALL_CERTIFICATE CREDIT_CARD
MALL_CERTIFICATE CREDIT_CARD CASH
MALL_CERTIFICATE DEBIT_CARD
MALL_CERTIFICATE GIFT_CARD
MALL_CERTIFICATE GIFT_CARD CASH
MALL_CERTIFICATE GIFT_CARD CREDIT_CARD
MALL_CERTIFICATE GIFT_CARD CREDIT_CARD CASH
MALL_CERTIFICATE GIFT_CARD DEBIT_CARD
MALL_CERTIFICATE UNDETERMINED_CARD
MALL_CERTIFICATE UNDETERMINED_CARD CREDIT_CARD
MANUFACTURER_COUPON CREDIT_CARD
MANUFACTURER_COUPON GIFT_CERTIFICATE CASH
MANUFACTURER_COUPON GIFT_CERTIFICATE CREDIT_CARD
MANUFACTURER_COUPON GIFT_CERTIFICATE DEBIT_CARD
STORE_CREDIT
STORE_CREDIT CASH
STORE_CREDIT CASH CREDIT_CARD
STORE_CREDIT CASH DEBIT_CARD
STORE_CREDIT CREDIT_CARD
STORE_CREDIT CREDIT_CARD CASH
STORE_CREDIT CREDIT_CARD DEBIT_CARD
STORE_CREDIT DEBIT_CARD
STORE_CREDIT DEBIT_CARD CASH
STORE_CREDIT DEBIT_CARD CREDIT_CARD
STORE_CREDIT UNDETERMINED_CARD
UNDETERMINED_CARD
UNDETERMINED_CARD CASH
UNDETERMINED_CARD CASH CREDIT_CARD
UNDETERMINED_CARD CREDIT_CARD
UNDETERMINED_CARD CREDIT_CARD CASH
UNDETERMINED_CARD CREDIT_CARD DEBIT_CARD
UNDETERMINED_CARD DEBIT_CARD
UNDETERMINED_CARD GIFT_CARD
UNDETERMINED_CARD STORE_CREDIT",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,16/May/25 11:42 AM
Inventory Count is not updated properly in Product Details screen,JMCH-847,22902,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Tamilarasi,61c15ecd9ee70a0068a1c356,Tamilarasi,61c15ecd9ee70a0068a1c356,16/May/25 10:03 AM,08/Jul/25 1:19 PM,,,,0,,"When scanning/searching a SKU from the Product Detail screen, the inventory count displayed on the UI is not updating correctly

*Observed Behavior:*

* The screen updates to reflect SKU B’s details, but the inventory count still displays the value from SKU A

Please find the attached images for your reference.

",,Automation for Jira,Nathan Richardson,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,16/May/25 9:48 AM;b7513071-ce41-486f-8df1-bf24ed9e3317;image-20250516-134800.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23624,16/May/25 9:48 AM;b7513071-ce41-486f-8df1-bf24ed9e3317;image-20250516-134822.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23625,16/May/25 9:48 AM;b7513071-ce41-486f-8df1-bf24ed9e3317;image-20250516-134848.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23626,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@22063faf,,,,,,,,,,,,,,,,,,,,,Non-Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Logic,Vitamin Shoppe,,,,,,Point of Sale,,,,"

# Perform a Product Inquiry for any SKU (e.g., SKU X).
# On the Product Detail screen, without navigating back, scan a different SKU (e.g., SKU Y) using the scan bar at the top.
# Observe the inventory count displayed for SKU Y.

",1|i01083:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,7:54,,,,,commerceVersion=243.7.2,,,,2025-05-16 17:30:14.63,,"16/May/25 10:03 AM;61c15ecd9ee70a0068a1c356;!image-20250516-134800.png|thumbnail!

!image-20250516-134822.png|thumbnail!

!image-20250516-134848.png|thumbnail!","16/May/25 1:30 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7659.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,16/May/25 10:03 AM
Tender Voiding Cash & Penny Rounding to then refund to Card is still resulting in cashier prompt to refund the cash and the cash drawer opening ,JMCH-845,22869,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Linda Fothergill,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c,Linda Fothergill,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c,15/May/25 2:17 PM,08/Jul/25 1:19 PM,,,,0,,"Tender Voiding Cash & Penny Rounding to then refund to Card is still resulting in cashier prompt to refund the cash and the cash drawer opening 

Have a store that did a refund to cash (where with tax the amount will require penny rounding if refunded to cash). Problem happens regardless if penny rounding down or up. See attachment for screen shots of example penny rounding down.

If they refund to cash , then void the cash/penny rounding, and then refund to card the cash drawer is OPENING and the associate is being prompted to refund the cash.  In production this has resulting in some customers getting both credit and cash refunds. ",,Automation for Jira,Nathan Richardson,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,15/May/25 2:17 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;PSQ-1165 Production example.msg;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23586,15/May/25 2:15 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;PSQ-1165.msg;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23585,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@4914a2da,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Reitman's Canada Limited,,,,,,,Point of Sale,,,,"In Canadian environment (so penny rounding is in effect) 

Enter a refund that will result with tax in non 0 or 5 amount. 

choose to refund to cash, amount is rounded to 0 or 5.  

the result on the tender screen is a cash amount listed and a penny rounding amount listed.

Cashier tender voids the cash amount (NOTE: the penny rounding amount is not automatically tender voided as well and really should be as there is no more cash applied and no reason to have penny rounding). 

Cashier tender voids the penny rounding amount

Cashier chooses card, sends to pinpad, customer taps card, & completes as normal

Cashier is PROMPTED TO REFUND CASH AMOUNT

DRAWER OPENS

screen shots in attachment",1|i0106b:,,Technical Issue,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa),,,,,,,,,,,,,,,,,,,,,,,,,7:42,,,,,241.0.31 (QA),,,,2025-05-19 16:05:26.085,,"15/May/25 2:17 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;[^PSQ-1165 Production example.msg]

[^PSQ-1165.msg]","19/May/25 12:05 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7673.

This issue will now need to go through Planning.","19/May/25 12:06 PM;5c8fc1cd627d3b2d0163b7f1;The issue of needing to separately void the penny rounding line is fixed in the latest versions of JMC, we are looking to see if it would be possible to backport these down to 241.
The other issue where it shows the change due prompt for the amount on the voided cash tender line is a bug that I have forwarded on to the engineering team to review.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,15/May/25 2:17 PM
"Low Number Campaign ID’s getting hung up in the system (not publishing, pulling in incorrect/old info)",JMCH-838,22820,Bug,Waiting for customer,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Nathan Richardson,5c8fc1cd627d3b2d0163b7f1,Johanny Cohen,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:87a1170b-069a-49af-a4f4-da052cc24c59,Johanny Cohen,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:87a1170b-069a-49af-a4f4-da052cc24c59,14/May/25 3:55 PM,11/Jul/25 8:27 AM,,,,0,,"JM combined all the SKUs in the previous ""100"" promotion (from RPA) with the one SKU in the new ""100"" promotion from JDA and place it in ""pending"" status. Promotions will no display on the dashboard.

",,Aakash Patel,Nathan Richardson,,,712020:1e31b905-2797-45c2-b5ac-e31ef7818f38,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,14/May/25 3:55 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:87a1170b-069a-49af-a4f4-da052cc24c59;image-20250514-195540.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23556,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6e11a0ad,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Vitamin Shoppe,,,,,,,Promote,,,,,1|i0104b:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2025-05-15 11:17:36.059,,14/May/25 3:55 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:87a1170b-069a-49af-a4f4-da052cc24c59;!image-20250514-195540.png|thumbnail!,"15/May/25 7:17 AM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:87a1170b-069a-49af-a4f4-da052cc24c59] could you please provide some more details about this, it really sounds more like a bug rather than a new feature to add to our application.

Are you saying there was a promotion set up call 100 that ran last year for example and now you are setting up a new promotion called 100 for this year and it is pulling in the same items from last year’s promotion instead of just referencing the new ‘100’ promotion?","30/Jun/25 11:51 AM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:87a1170b-069a-49af-a4f4-da052cc24c59] - I wanted to follow up on our comment, regarding the Low Number Campaign ID issue. We haven’t received a response yet—could you please confirm if the problem involves a previous '100' promotion merging with the new one, pulling in old SKUs and causing the promotion to remain in 'pending' status? ","11/Jul/25 8:22 AM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:87a1170b-069a-49af-a4f4-da052cc24c59] we have updated this ticket to a bug but we need clarification on what you are saying.

Was a promotion set up called 100 that ran last year, for example, and now you are setting up a new promotion called 100 for this year and it is pulling in the same items from last year’s promotion instead of just referencing the new ‘100’ promotion?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,15/May/25 7:14 AM
Tender | Pre-swipe only works once per transaction,JMCH-817,22685,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Low,,,,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,12/May/25 11:42 AM,08/Jul/25 1:19 PM,,,,0,,"In TenderOptionsState, we set a flag to indicate that pre-swipe was attempted. 

{noformat}@InOut(scope = ScopeType.Conversation)
boolean preSwipeAttempted;{noformat}

The issue with this is that pre-swipe should be attempted again if you cancel out of tender options state and then press checkout again, but the flag has {{ScopeType.Conversation}}, meaning that it is stored for the life of the current transaction. (Would setting to ScopeType.Flow give us the desired behavior?)

To reproduce:

# Set openpos.tender.preSwipe.enabled = true
# Perform a sale transaction, press checkout.
# At the tender options screen, you should see the PED light up for a card swipe without needing to press the card tender button
# cancel out of tendering
# Press checkout again. At this point, the PED should prompt for card swipe again like it did the first time.",,Automation for Jira,Jason Menefee,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@72aeb8ed,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Bath & Body Works,,,,,,,,,,,,1|i00zqz:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2025-05-12 15:43:44.848,,"12/May/25 11:43 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7620.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,12/May/25 11:42 AM
"Multiple occurrences of stores jumping to transaction 8612 (from txn 10, from txn 5374, from txn 2650) ",JMCH-806,22546,Bug,Waiting for customer,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Henglin Wang,712020:e5b5ad7e-62d4-4865-986d-20a2966755ae,Linda Fothergill,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c,Linda Fothergill,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c,09/May/25 10:56 AM,10/Jul/25 3:17 PM,,,,0,,"1st:  Originally happened at Store/register 5374-01 which jumped from txn 10 to txn 8612 between 24 of Feb and 25th.

(in this case there was some troubleshooting happening with this store).

2nd: Happened again for Store/register 1107-02 on Mar 8 also jumped from txn 5374 to txn 8612

3rd: Happened again for Store/register 1230-02 on May 5 also jumped from txn 2650 to txn 8612

Causes missing transactions in SA. 

See attached document for some screen shots, logs also attached for 2nd occurrence. ",,Automation for Jira,Henglin Wang,Nathan Richardson,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:e5b5ad7e-62d4-4865-986d-20a2966755ae,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,09/May/25 10:50 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;1107-02_4h42pm_to_4h49pm-2nd_attempt (aaaff1eb-780c-4f3c-8580-a86d34c90055).csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23382,09/May/25 10:49 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;1107-02_4h42pm_to_4h49pm-2nd_attempt.csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23381,09/May/25 10:56 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;RCL JIRA PSQ-1143.docx;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23383,28/May/25 1:06 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250528-170552.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24095,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6a090f5b,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Reitman's Canada Limited,,,,,,,Point of Sale,,,,"No idea, stores are processing transactions although often seems to happen during cashier transactions",1|i00zkj:,,Technical Issue,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa),,,,,,,,,,,,,,,,,,,,,,,,,8:00,,,,,241.0.31 (QA),,,,2025-05-09 16:19:45.926,,"09/May/25 10:56 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;[^1107-02_4h42pm_to_4h49pm-2nd_attempt (aaaff1eb-780c-4f3c-8580-a86d34c90055).csv]

[^1107-02_4h42pm_to_4h49pm-2nd_attempt.csv]

[^RCL JIRA PSQ-1143.docx]","09/May/25 12:19 PM;712020:e5b5ad7e-62d4-4865-986d-20a2966755ae;Last  a few checks were related to training mode, could you please check if this is the same, 
A change is in your branch, and needs to be applied",09/May/25 12:26 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;I don’t believe this is the same issue.  The training mode issue RESETS the transactions back to 1.  This is an issue where the transactions JUMP to 8612.  If you look at the screen shots I do not believe there were any training txns happening. Plus for the 1st instance fabrizio provided back end txn info and again I don’t believe any training mode.  ,"09/May/25 12:26 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ","22/May/25 12:48 PM;712020:e5b5ad7e-62d4-4865-986d-20a2966755ae;I checked 1230-02, seems like it is also from and close till, close device and then disconnect …, can you confirm from db side",22/May/25 2:10 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0] [~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa] [~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf]  If anyone can answer Henry’s comment. THANKS,"28/May/25 1:06 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;Is this what you were looking for Henry?

!image-20250528-170552.png|width=1375,height=605,alt=""image-20250528-170552.png""!

",10/Jul/25 3:17 PM;5c8fc1cd627d3b2d0163b7f1;Are you still seeing this issue in your environment?  If so could you please provide a log for the store for which it happened at?  The existing log attached is from store 1107 but is only from 4:42pm → 4:49pm and does not contain either of the mentioned transactions in the description 5374 nor 8612.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,09/May/25 10:56 AM
POS: Timed promotion (ex. power lunch) is not respecting the end of the promotion (continuing to the top of the hour),JMCH-801,22511,Bug,Acknowledged,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Henglin Wang,712020:e5b5ad7e-62d4-4865-986d-20a2966755ae,Linda Fothergill,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c,Linda Fothergill,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c,08/May/25 9:45 AM,11/Jul/25 1:41 PM,,,,0,,"See screen shot of table with the promo info and then example of 2 store transactions that happened after the end of the promo when it was still being applied (and had to be honored) despite being over for that store. 



Note: All stores reported the promotion extended to 4pm. You can see in screen shot that the transaction time occurred after 15.15. This store is in QC and we also can confirm that the local/client offset is correct as -14400000 which represent our current time  Eastern time -4 UTC.

Why did the POS allow the promotion after 15.15 (yet stopped at 4pm). Is there a possibility that POS is not treating the “min” accurately and “rounded” to the next hour which would be 4pm?",,Nathan Richardson,,,,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,,08/May/25 9:38 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;Promo Setup.PNG;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23339,08/May/25 9:39 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;PromoOverStoreTxns.PNG;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23340,08/May/25 9:48 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250508-134835.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23341,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@1c0f58f,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 2 (High),,,,,,,,,,,,,,,,,,Reitman's Canada Limited,,,,,,,Point of Sale,,,,see screen shot of the promotion ,1|i00zgj:,,Technical Issue,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa),,,,,,,,,,,,,,,,,,,,,,,,,5:07,,,,,241.0.31 (QA),,,,2025-05-08 14:00:46.116,,"08/May/25 9:45 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;!Promo Setup.PNG|thumbnail!

!PromoOverStoreTxns.PNG|thumbnail!","08/May/25 9:48 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;

!image-20250508-134835.png|width=1423,height=261,alt=""image-20250508-134835.png""!

","08/May/25 10:00 AM;5c8fc1cd627d3b2d0163b7f1;[~accountid:712020:e5b5ad7e-62d4-4865-986d-20a2966755ae] Could this be because they are cloud only.  So the promotions are tied to the central server time not their local time.??
This is possibly already fixed/addressed in 243 where the timestamps were not aligning correctly between cloud and local.
I would think we should have them check if they can reproduce this again and then get sample data and logs.
Then we will have to attempt to reproduce here.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,08/May/25 9:45 AM
Shrug guy when attempting to issue a gift card that has already been issued - Aurus,JMCH-795,22470,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Elliot Thomas,60b9bbb248549e0069485164,Elliot Thomas,60b9bbb248549e0069485164,07/May/25 2:22 PM,08/Jul/25 1:19 PM,,,,0,,"When issuing a new gift card, if a gift card that has already been issued is swiped at the pin pad, a shrug guy appears.

_Incident ID 9710-001-135 created for FlowException_

_NullPointerException: Cannot invoke ""org.jumpmind.pos.sales.model.CardLineItemModel.setCardDetails(org.jumpmind.pos.payment.model.CardDetailsInfo)"" because ""this.currentCardLineItem"" is null_

_ActivateGiftCardState.java:86_

",,Automation for Jira,Nathan Richardson,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,JMCH-575,,07/May/25 2:12 PM;60b9bbb248549e0069485164;commerce-fixed_Store9710-001_Tran6129_JMC-1832.log;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23319,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6eae9cf8,,,,,,,,,,,,,,,,,,,,,Non-Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Logic,Vitamin Shoppe,,,,,,Point of Sale,,,,"# At the sale screen select “Gift Cards” from the hamburger menu
# Select “Issue New Card”
# Select an amount
# Swipe a gift card that was already issued
# Shrug guy appears

",1|i00zcr:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,5:49,,,,,commerceVersion=243.7.2,,,,2025-05-07 18:32:40.534,,07/May/25 2:22 PM;60b9bbb248549e0069485164;[^commerce-fixed_Store9710-001_Tran6129_JMC-1832.log],"07/May/25 2:32 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7593.

This issue will now need to go through Planning.",08/May/25 10:05 AM;5c8fc1cd627d3b2d0163b7f1;Reducing to Medium per standup call - Pradeep,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,07/May/25 2:22 PM
POS: Detailed count screens (ex. Reconcile till) is not presenting the NUMERIC keyboard even though each entry on this screen is a number causing associates to have to constantly switch the keyboard for each entry,JMCH-792,22428,Bug,Acknowledged,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Henglin Wang,712020:e5b5ad7e-62d4-4865-986d-20a2966755ae,Linda Fothergill,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c,Linda Fothergill,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c,06/May/25 3:44 PM,11/Jul/25 1:39 PM,,,,0,,POS: Detailed count screens (ex. Reconcile till) is not presenting the NUMERIC keyboard even though each entry on this screen is a number causing associates to have to constantly switch the keyboard for each entry,,Nathan Richardson,,,,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,,06/May/25 3:43 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;ReconcileTillKeyboard.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23275,06/May/25 3:39 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250506-193900.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23273,06/May/25 3:39 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250506-193902.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23274,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@4f75a0a9,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Reitman's Canada Limited,,,,,,,Point of Sale,,,,"RCL has chosen to force all users into the detail count screens and when making entries for each denomination the entry is always a number (I have 3 x $5.00 so I enter 3).  When in this screen the keyboard presented is the alpha forcing the user to switch the keyboard each time they go to a new denomination.  It should just present the numeric for each field. This would save alot of clicks for each till used each day for the associates. 

Ex. when reconciling till our associates are automatically brought into detailed view … ",1|i00z7f:,,Technical Issue,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa),,,,,,,,,,,,,,,,,,,,,,,,,7:55,,,,,241.0.31 (QA),,,,,,"06/May/25 3:44 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;!ReconcileTillKeyboard.png|thumbnail!

!image-20250506-193900.png|thumbnail!

!image-20250506-193902.png|thumbnail!",06/May/25 3:45 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;maybe a duplicate of JMCH-517 (sorry),06/May/25 4:27 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;just to confirm that 517 is a different issue in the same area.  Sorry to be confusing everyone.  ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,06/May/25 4:22 PM
EOD | Duplicate sequence numbers can occur when cancelling suspended transactions,JMCH-786,22359,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,05/May/25 1:13 PM,08/Jul/25 1:19 PM,,,,0,,"We saw an issue at a production BBW store where the remote (business-unit) call to initiateStoreClosing() timed out while it was busy cancelling suspended transactions, causing it to fail over to local and use some duplicate sequence numbers for the remaining suspended transaction cancelations. 

To address this in the short term, I suggested increasing the http timeout for this remote call specifically. 

!image-20250505-170943.png|width=1015,height=778,alt=""image-20250505-170943.png""!

We need to come up with a more reliable way of doing this.



----

Log files and analysis:

!image-20250505-171214.png|width=100%,alt=""image-20250505-171214.png""!

* At 18:53:59, we made a remote call to the business unit for initiateStoreClosing(). This is the method that cancels suspended transactions. The business unit began working through the suspends and cancelling them.
* At 18:54:19, the fixed register timed out waiting for a response and failed over to the local initiateStoreClosing(). By this point, the business unit had processed all but two of the suspended transactions.
* The fixed register’s execution of initiateStoreClosing() cancelled the remaining two suspends, then set the ctx_sequence value to 3693, overwriting to higher value that was written by the business unit and causing our issue.

[^commerce-fixed (16).log]
[^commerce-businessunit-2025-04-06.1.log]
[^commerce-businessunit-2025-04-06.0.log]

",,Automation for Jira,Jason Menefee,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,,,,,,,,,,,,,,05/May/25 1:13 PM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;commerce-businessunit-2025-04-06.0.log;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23177,05/May/25 1:13 PM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;commerce-businessunit-2025-04-06.1.log;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23178,05/May/25 1:13 PM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;commerce-fixed (16).log;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23175,05/May/25 1:13 PM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;image-20250505-170943.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23179,05/May/25 1:13 PM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;image-20250505-171214.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23176,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5d652aa5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Bath & Body Works,,,,,,,,,,,,1|i00z17:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2025-05-05 17:15:47.265,,"05/May/25 1:15 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7567.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,05/May/25 1:13 PM
Returns | Filter cross-border transactions from return transaction search results,JMCH-784,22349,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,05/May/25 10:45 AM,08/Jul/25 1:19 PM,,,,0,,"When cross border returns are not allowed (i.e. You can’t buy an item in Canada and return it at a US store), the transaction search results by card or loyalty will include transactions from cross-border stores. These transactions should be filtered out of the results.

To reproduce:

# Make sure that your list of allowed cross-border return countries is empty:

!image-20250505-143249.png|width=998,height=628,alt=""image-20250505-143249.png""!
# Create a transaction with a loyalty customer attached
# re-personalize with a store in a different country
# Create another transaction with same customer
# Do a return and search by loyalty. Only the second transaction should be displayed in the search results.

----

Recommended fix: update {{SearchReturnsTransEndpoint}} / {{searchTransactions}} to set the results to {{crossBorderReturnsResponse.getFilteredTransactions()}}

!image-20250505-144526.png|width=1196,height=556,alt=""image-20250505-144526.png""!",,Automation for Jira,Jason Menefee,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,,,,,,,,,,,,,,05/May/25 10:45 AM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;image-20250505-143249.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23147,05/May/25 10:45 AM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;image-20250505-144526.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/23146,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@2868f441,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Bath & Body Works,,,,,,,,,,,,1|i00yz7:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2025-05-05 14:47:52.186,,"05/May/25 10:47 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7565.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,05/May/25 10:45 AM
Daily sales report - crashing,JMCH-774,22185,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Edita Vanetsian,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac,Edita Vanetsian,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac,29/Apr/25 5:16 PM,08/Jul/25 1:19 PM,,,,0,,"Since going live with V243 in stores today, stores have reported that when they attempt to run the 'daily sales' report by changing the date or hour - they are met with an error:
Based on the logs the date cannot be parsed:
2025-04-29 13:04:41.356 INFO  [9601-005:20243] [StateManagerThread2(pos:9601-005)] [EndpointInvoker] IDocumentService.generateDocuments()  
2025-04-29 13:04:41.356 WARN  [9601-005:20243] [StateManagerThread2(pos:9601-005)] [ReportDatasources] Exception occurred trying to parse date format StackTraceKey.init [java.time.format.DateTimeParseException:2509507831]
java.time.format.DateTimeParseException: Text '*2025042308:00:00' could not be parsed*, unparsed text found at index 13

",,Automation for Jira,Nathan Richardson,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,29/Apr/25 5:16 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;commerce-isp (hourlyReport).log;https://jumpmind.atlassian.net/rest/api/3/attachment/content/22929,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@2e065b4c,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 2 (High),,,,,,,,,,,,,,,,,,Makira,The Paper Store,,,,,,Point of Sale,,,,"# Login to Manage 
# Go to Reports 
# Choose the Daily Sales Report under Sales reports, and change the date/time from all day to a certain hour 

",1|i00ymz:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,2:04,,,,,243.6.2,,,,2025-04-30 13:33:55.197,,29/Apr/25 5:16 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;[^commerce-isp (hourlyReport).log],29/Apr/25 5:20 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;this affects JDNS env as well,"30/Apr/25 9:33 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7532.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,29/Apr/25 5:16 PM
Search is not working as excepted in production,JMCH-770,22151,Bug,Waiting for customer,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Nathan Richardson,5c8fc1cd627d3b2d0163b7f1,Mayuri Dhanwade,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:d5e5428e-8a5e-42cd-bcdd-471da7c31734,Mayuri Dhanwade,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:d5e5428e-8a5e-42cd-bcdd-471da7c31734,29/Apr/25 11:26 AM,01/Jul/25 4:17 PM,,,,0,,"* The search functionality in the *History* tab is not working as expected in the *Production* environment.
* It is functioning correctly in the *QA* environment.

Additionally, there is another issue observed in both *QA* and *Production* environments:

* When performing an advanced search (e.g., _PROMOTION ID contains 'PROMO ID'_), the system returns the expected promotions along with their associated campaigns *as well as* unrelated campaigns with *no matching promotion*.
* This makes it difficult to identify the relevant promotions among campaigns that do not meet the search criteria.

",,Aakash Patel,Nathan Richardson,,,712020:1e31b905-2797-45c2-b5ac-e31ef7818f38,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,29/Apr/25 11:26 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:d5e5428e-8a5e-42cd-bcdd-471da7c31734;AdvanceSearchIssue.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/22924,29/Apr/25 11:26 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:d5e5428e-8a5e-42cd-bcdd-471da7c31734;SearchInHistoryTab.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/22923,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@73bbabbe,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Vitamin Shoppe,,,,,,,Promote,,,,"Go to the *History* tab and select a start and end date for a promotion. It returns *no results* in the *Production* environment,
but it *returns the expected results* in the *QA* environment.",1|i00yiz:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,8:00,,,,,,,,,2025-06-23 19:59:23.532,,"29/Apr/25 11:26 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:d5e5428e-8a5e-42cd-bcdd-471da7c31734;!AdvanceSearchIssue.png|thumbnail!

!SearchInHistoryTab.png|thumbnail!",23/Jun/25 3:59 PM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:d5e5428e-8a5e-42cd-bcdd-471da7c31734] Are the attached screen prints of Production or QA?  Could you please provide what you see in the opposite environment as well?,"25/Jun/25 7:18 AM;5c8fc1cd627d3b2d0163b7f1;Also, have you checked the logs in production to see if there are any errors that exist when you experience this issue?
Could you please provide the logs from production after you try one more time the test you did previously that returned no results?","01/Jul/25 4:17 PM;712020:1e31b905-2797-45c2-b5ac-e31ef7818f38;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:d5e5428e-8a5e-42cd-bcdd-471da7c31734] - It’s been a while since your last update. Could you please provide the production logs as requested and clarify whether the attached screenshots are from Production or QA, along with the opposite environment’s results? This will help us investigate the search issue further.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,29/Apr/25 11:26 AM
Application indefinitely loads during gift card cash out flow,JMCH-752,21680,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Michael Klein,62e96878d49df231b6276c30,Michael Klein,62e96878d49df231b6276c30,16/Apr/25 9:59 AM,08/Jul/25 1:19 PM,,,,0,,"Upon performing a gift card cash out, the application loads indefinitely and requires a restart to exit the flow.

",,Automation for Jira,Jake Vanmeter,Mike Dalton,Nathan Richardson,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,70121:4c55edb8-b2f0-47f8-bb2c-524b3fa93eda,62d82941751c4f698e03958a,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,16/Apr/25 11:35 AM;62e96878d49df231b6276c30;AURUS_ESDK_20250416.log;https://jumpmind.atlassian.net/rest/api/3/attachment/content/22516,16/Apr/25 11:35 AM;62e96878d49df231b6276c30;AURUS_ESDK_BUILDMGR_20250416.log;https://jumpmind.atlassian.net/rest/api/3/attachment/content/22518,18/Apr/25 10:34 AM;62e96878d49df231b6276c30;Image (11).jpg;https://jumpmind.atlassian.net/rest/api/3/attachment/content/22589,16/Apr/25 9:55 AM;62e96878d49df231b6276c30;commerce-fixed (30).log;https://jumpmind.atlassian.net/rest/api/3/attachment/content/22506,18/Apr/25 10:34 AM;62e96878d49df231b6276c30;commerce-fixed (89e1b76d-74ad-47ce-90dc-9e1e762c9af3).log;https://jumpmind.atlassian.net/rest/api/3/attachment/content/22588,16/Apr/25 11:35 AM;62e96878d49df231b6276c30;commerce-fixed.log;https://jumpmind.atlassian.net/rest/api/3/attachment/content/22517,16/Apr/25 9:55 AM;62e96878d49df231b6276c30;image-20250416-121221.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/22505,18/Apr/25 3:23 PM;16a6376e-3b2c-4da1-b2a5-07f13d3baf03;patch_JMCH-752_v1 (c8e93840-4672-4fac-8a2a-a7e3bf1370c8).jar;https://jumpmind.atlassian.net/rest/api/3/attachment/content/22619,18/Apr/25 8:56 AM;16a6376e-3b2c-4da1-b2a5-07f13d3baf03;patch_JMCH-752_v1.jar;https://jumpmind.atlassian.net/rest/api/3/attachment/content/22583,21/Apr/25 3:45 PM;62e96878d49df231b6276c30;patch_JMCH-752_v2.jar;https://jumpmind.atlassian.net/rest/api/3/attachment/content/22691,18/Apr/25 3:23 PM;16a6376e-3b2c-4da1-b2a5-07f13d3baf03;server-243.7.2 (4f955bc5-1cc7-4add-bce2-ef841705c989).jar;https://jumpmind.atlassian.net/rest/api/3/attachment/content/22618,18/Apr/25 1:52 PM;62e96878d49df231b6276c30;server-243.7.2.jar;https://jumpmind.atlassian.net/rest/api/3/attachment/content/22595,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@4c4f8994,,,,,,,,,,,,,,,,,,,,,Non-Production,,,,,,,,,Priority 2 (High),,,,,,,,,,,,,,,,,,Logic,Vitamin Shoppe,,,,,,Point of Sale,,,,"Configure application to use Aurus payment implementation

Enter Sale Screen

Click hamburger menu

Click Gift Card

Click Cash out

Swipe gift card",1|i00x7v:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,5:39,,,,,243.7.2,,,,2025-04-16 14:57:23.156,,"16/Apr/25 9:59 AM;62e96878d49df231b6276c30;[^commerce-fixed (30).log]

!image-20250416-121221.png|thumbnail!",16/Apr/25 10:57 AM;70121:4c55edb8-b2f0-47f8-bb2c-524b3fa93eda;Can you supply us with the Aurus logs. Was there any change in the Aurus software version? Are you seeing this problem on both mobile and fixed?,"16/Apr/25 11:35 AM;62e96878d49df231b6276c30;The issue was originally reported on a fixed instance of JMC.  I have asked TVS to see if they can reproduce this issue on one of their mobiles.



I am not aware of any Aurus software version updates.  We only updated commerce version to 243.7.2

 

We were able to reproduce the issue in our lab as well so I’ll attached the JMC logs as well as the AURUS SDK logs. 

[^AURUS_ESDK_20250416.log]
[^AURUS_ESDK_BUILDMGR_20250416.log]
[^commerce-fixed.log]

","16/Apr/25 11:35 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ",16/Apr/25 11:37 AM;62e96878d49df231b6276c30;TVS does not allow for gift card cash out on the mobiles,"16/Apr/25 1:37 PM;70121:4c55edb8-b2f0-47f8-bb2c-524b3fa93eda;Hi Michael, we are currently having engineering look into this issue, can you help me understand the urgency of this issue for TVS?",16/Apr/25 2:24 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:3101ff33-8d09-4522-b964-374b8fcbfa94;This is a blocker for us as we need to adhere to certain state laws around giftcard cashout and it does lock up the POS indefinitely when attempting it. We need a fix ASAP.,"16/Apr/25 2:24 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ","16/Apr/25 2:38 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7440.

This issue will now need to go through Planning.",16/Apr/25 4:49 PM;62d82941751c4f698e03958a;This appears to be an existing issue that is only being discovered now. The response back from Aurus indicates we sent an invalid token when the same token has already been passed a few times. Has something changed with Aurus? ,17/Apr/25 9:36 AM;62e96878d49df231b6276c30;I’m not aware of any issues regarding gift card cashout before 243.7.1 but I could be wrong.  We can discuss this in our call with TVS at 9:00 CST,"17/Apr/25 11:12 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a;Looks like this is NOT a GC Cashout auth call issue. The looping is happening in the BalanceINquiry which is always a predecessor for the cashout.

Also I see a difference in BalanceInquiry calls from the 1 Cashout that worked to the other

+The one worked in the morning+

2025-04-16 11:39:05,058 INFO  ClCommonFunctions         17304:09710:12353100:SW0971000001 - 00135 - Request Received From POS : {""TransRequest"":{""POSID"":""00971001"",""CorpID"":""17304"",""APPID"":""TVSFixed"",""CCTID"":""lane3600"",""ADSDKSpecVer"":""6.15.4"",""POSType"":1,""*CardPresent*"":""Y"",""PurchaserPresent"":""Y"",""EntrySource"":""K"",""KeyedEntryAVSFlag"":""N"",""GiftPurchaseAuthIndicator"":""N"",""EnableNFCReader"":""N"",""ProcessingMode"":""0"",""TransAmountDetails"":{""TransactionTotal"":""0.00""},""*CardNumber*"":""600649XXXXXXXXX4713"",""TransactionType"":""12"",""ReferenceNumber"":""005657"",""TaxExemptFlag"":""N"",""CurrencyCode"":""840"",""TransactionDate"":""04162025"",""TransactionTime"":""113905"",""TipEligible"":""0"",""AmountNoBar"":""0"",""TenderTypeRestrictions"":"""",""SignatureFlag"":""N""}}



The ones looping later

2025-04-16 14:33:15,949 INFO  ClCommonFunctions         17304:09710:12353100:SW0971000001 - 00186 - Request Received From POS : {""TransRequest"":{""POSID"":""00971001"",""CorpID"":""17304"",""APPID"":""TVSFixed"",""CCTID"":""lane3600"",""ADSDKSpecVer"":""6.15.4"",""POSType"":1,""*CardToken*"":""600649XXXXXXXXX4366"",""*CardPresent*"":""N"",""PurchaserPresent"":""Y"",""KeyedEntryAVSFlag"":""N"",""GiftPurchaseAuthIndicator"":""N"",""EnableNFCReader"":""N"",""ProcessingMode"":""0"",""TransAmountDetails"":{""TransactionTotal"":""0.00""},""TransactionType"":""12"",""ReferenceNumber"":""005666"",""TaxExemptFlag"":""N"",""CurrencyCode"":""840"",""TransactionDate"":""04162025"",""TransactionTime"":""143315"",""TipEligible"":""0"",""AmountNoBar"":""0"",""TenderTypeRestrictions"":"""",""SignatureFlag"":""N""}}



","18/Apr/25 8:56 AM;5c8fc1cd627d3b2d0163b7f1;[~accountid:62e96878d49df231b6276c30] [~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a] looks like our engineers found an issue in the code and have created a patch file for you, if you could please validate this for us and let us know.

[^patch_JMCH-752_v1.jar]

","18/Apr/25 9:14 AM;62e96878d49df231b6276c30;Sure, we will test the patch in our lab and let you know","18/Apr/25 10:34 AM;62e96878d49df231b6276c30;[^commerce-fixed (89e1b76d-74ad-47ce-90dc-9e1e762c9af3).log]

!Image (11).jpg|width=4032,height=3024,alt=""Image (11).jpg""!

Jack just finished testing in the lab.  Here are the steps he followed:

# Loaded gift card with $25 (6006492605499914770)
# Did Balance Inquiry successfully
# Completed transaction with gift card tender for $20
# Did balance inquiry - Showed $5 as expected
# attempted cash out -> pin pad says “Transaction Successful, Thank you for shopping with us” but fixed system does not change from screen pictured above
# Did a balance inquiry and gift card still has $5 on it



One additional change I needed to make was rename the {{gift-card-flow.yml}} in the jar to {{tvs-gift-card-flow-ext.yml}}.  Without making this change, the server failed to start.","18/Apr/25 11:06 AM;5c8fc1cd627d3b2d0163b7f1;Thanks, we are continuing to look.  [~accountid:62e96878d49df231b6276c30] are you able to view slack messages?  Some of the team has reached out to you.","18/Apr/25 11:37 AM;62e96878d49df231b6276c30;Sure – sorry, I forget to open it on some days.","18/Apr/25 1:45 PM;70121:4c55edb8-b2f0-47f8-bb2c-524b3fa93eda;Michael, could you provide us with a copy of the server-xxxx.jar for the precise commerce version that you are running in stores.","18/Apr/25 1:52 PM;62e96878d49df231b6276c30;[^server-243.7.2.jar]

",18/Apr/25 1:52 PM;62e96878d49df231b6276c30;This is the jar before removing giftcard-flow.yml,"18/Apr/25 3:23 PM;5c8fc1cd627d3b2d0163b7f1;The attached files will WORK AROUND the problem you are seeing on version 243.7.2.  Please read the steps carefully and follow exactly when applying the fix to a register.

# *REPLACE* the {{lib/server-243.7.2.jar}} found in the commerce install directory with the attached *server-243.7.2.jar* file.  *NOTE:* This must be a *REPLACEMENT* to the file that is already installed there.
# *Copy* the attached {{patch_JMCH-752_v1.jar}} into the {{patches}} subdirectory within commerce install directory.
# Please test this fix on a lab register before deploying to a store.


[^server-243.7.2 (4f955bc5-1cc7-4add-bce2-ef841705c989).jar]



[^patch_JMCH-752_v1 (c8e93840-4672-4fac-8a2a-a7e3bf1370c8).jar]



We will keep this ticket open until the permanent fix is completed in an official release.","21/Apr/25 1:55 PM;62e96878d49df231b6276c30;Pradeep asked about the following solution instead of going in and replacing the lib file.Creating a {{tvs-scan-gift-card-flow-ext.yml}} and overriding the {{GetGiftCardCashOutBalance}} action to point to a custom {{TvsCashoutGiftCardFlow}}

{noformat}---
ScanGiftCardFlow:
  - ScanGiftCardState:
      GetGiftCardCashOutBalance: { subflow: TvsCashOutGiftCardFlow, ReturnAction: Close }

TvsCashOutGiftCardFlow:
  - CashOutGiftCardState:
      Close: CompleteState
      Ok: CompleteState
      Offline: { subflow: GiftCardProviderOfflineFlow, ReturnAction: OfflineAuthCompleted, ConfigScope: { authTypeCode: CASH_OUT, cardType: GIFTCARD } }{noformat}

Do you see any issues with this approach.  We are thinking that this would avoid the replacement of the server jar (we would just need to remove the flows folder from the patch)","21/Apr/25 3:45 PM;62e96878d49df231b6276c30;We tried the above and it worked.  This will remove the need to replace the server jar in the lib.

[^patch_JMCH-752_v2.jar]

","01/Jul/25 9:15 AM;5c8fc1cd627d3b2d0163b7f1;[~accountid:62e96878d49df231b6276c30] were you provided a new patch in the last couple weeks to test out as well?  I came across an old note on one of our tickets that mentioned a patch was provided and it was after your response 4/21.  If you did, have you been able to confirm it works?",,,,,,,,,,,,,,,,,,In Progress,16/Apr/25 9:59 AM
"Decommission of cross-regional connections between Cloud Terminal API endpoints as of February 1, 2026 ",JMCH-743,21566,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Fabrizio Rossi,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0,Fabrizio Rossi,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0,11/Apr/25 10:56 AM,08/Jul/25 1:19 PM,,,,0,,"We have been advised from our Payment Provider Adyen that we are using cross regional connection which will no longer be permitted as of Feb1.

*Decommission of cross-regional connections between Cloud Terminal API endpoints as of February 1, 2026*

*After February 1, 2026*, requests made to endpoints located in different regions than the merchant’s assigned region will fail.

Our merchant account is expecting the endpoints to be using 

[terminal-api-live-us.adyen.com|http://terminal-api-live-us.adyen.com]

",,Automation for Jira,Henglin Wang,Nathan Richardson,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:e5b5ad7e-62d4-4865-986d-20a2966755ae,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,11/Apr/25 10:56 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;adyen_correct_terminal_endpoint.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/22395,11/Apr/25 10:55 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;jumpmindlog_termianl_api_request.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/22394,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@2741f3a2,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Reitman's Canada Limited,,,,,,,Point of Sale,,,,Terminal API connection using incorrect endpoint.,1|i00wsn:,,Technical Issue,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa),,,,,,,,,,,,,,,,,,,,,,,,,7:54,,,,,241.0.x,,,,2025-04-11 15:02:56.432,,"11/Apr/25 10:56 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;!adyen_correct_terminal_endpoint.png|thumbnail!

!jumpmindlog_termianl_api_request.png|thumbnail!",11/Apr/25 11:02 AM;712020:e5b5ad7e-62d4-4865-986d-20a2966755ae;This is being planned for .11 mid of the year release,"01/May/25 8:30 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7536.

This issue will now need to go through Planning.","26/Jun/25 8:13 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0;Given not set timeline on upgrade in current state. We need to priortize these changes within our current version to ensure it is compliant by the mentioned effective dates.

",26/Jun/25 10:29 AM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0] I have forwarded your comment to our planning and engineering team,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,11/Apr/25 10:56 AM
Customer Phone number Info No Showing on Orders,JMCH-736,21418,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Edita Vanetsian,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac,Edita Vanetsian,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac,07/Apr/25 9:42 AM,08/Jul/25 1:19 PM,,,,0,,"TPS would like to have an ability to display phone number. It looks like the customer's address is listed, however a phone number is not listed. They need the phone number and/or contact so the store can reach out to the customer if something is off. Marking as failed.",,Automation for Jira,,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,,,,,,,,,,,,,,,07/Apr/25 9:41 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;image-20250407-134142.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/22260,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@c277c76,,,,,,,,,,,,,,,,,,,,,Non-Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Makira,The Paper Store,,,,,,Point of Sale,,,,"Go to Orders

Select any order type (i.e. pickup)
Customer details are displayed on top but not the phone number:

",1|i00w67:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,7:16,,,,,243.6.2,,,,2025-04-07 15:22:14.687,,07/Apr/25 9:42 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:080c5c94-cb92-4426-88e1-5c7320f8d8ac;!image-20250407-134142.png|thumbnail!,"07/Apr/25 11:22 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7357.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,07/Apr/25 9:42 AM
Need help changing some of the methods from Private to Protected in Commerce code,JMCH-731,21165,Bug,Waiting for customer,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Nathan Richardson,5c8fc1cd627d3b2d0163b7f1,manish.goyal@petco.com,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:4c8db9de-bae6-4f8f-90a0-273bff0f3e57,manish.goyal@petco.com,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:4c8db9de-bae6-4f8f-90a0-273bff0f3e57,01/Apr/25 7:31 PM,02/Jul/25 3:54 PM,,,,0,,"At Petco, we are working on a Refund to Token project and as part of that project we need to override some of the tender related Commerce code for v3.8.6.



# We need to override the {{callRefundOnSameCard}} from {{org.jumpmind.pos.app.state.authorizecard.AuthorizeCardState}}. This method calls another private method {{handleAuthorizeResponse}}. Can these methods be changed from {{private}} to {{protected}} for us to override these in Petco code?
# We also need to override the {{arrive}} method from {{org.jumpmind.pos.app.state.tender.TenderCardState}} but the arrive method is calling some {{private}} methods. Can those methods be changed to {{protected}}, so that we can just override the {{arrive}} method in Petco code and don’t have to pull all those {{private}} methods along with {{arrive}} method?

",,Nathan Richardson,,,,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@3e8eec46,,,,,,,,,,,,,,,,,,,,,Non-Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Petco,,,,,,,Point of Sale,,,,N/A,1|i00vhb:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,8:00,,,,,3.8.6,,,,2025-04-02 11:01:31.226,,02/Apr/25 7:01 AM;5c8fc1cd627d3b2d0163b7f1;I’m following up with engineering on this request.,"07/Apr/25 10:47 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:4c8db9de-bae6-4f8f-90a0-273bff0f3e57;Hi Nathan, could you please check if there is any update from Engineering team on this request.",02/Jul/25 3:54 PM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:4c8db9de-bae6-4f8f-90a0-273bff0f3e57] can you please confirm whether this request can be closed if it was handled by a PR created by Petco?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,01/Apr/25 7:31 PM
Required Customer Interaction' message persists after transaction completion,JMCH-728,21105,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Andrew Hasse,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:9dbac507-8750-465f-b21a-5853e22aca4b,Andrew Hasse,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:9dbac507-8750-465f-b21a-5853e22aca4b,31/Mar/25 11:49 AM,10/Jul/25 11:25 AM,,,,0,,"This issue has been identified in both QA and Production. When the terminal is prompted to complete a transaction, a message briefly appears stating 'Require customer interaction.' Normally, this message disappears once the transaction is completed; however, in rare instances, it seems to persist. Due to the nature of the message, it causes confusion for our users when this occurs.",,Nathan Richardson,,,,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,,31/Mar/25 11:49 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:9dbac507-8750-465f-b21a-5853e22aca4b;CIR Issue.mp4;https://jumpmind.atlassian.net/rest/api/3/attachment/content/21992,31/Mar/25 11:49 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:9dbac507-8750-465f-b21a-5853e22aca4b;commerce-pos (13).txt;https://jumpmind.atlassian.net/rest/api/3/attachment/content/21993,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@60475064,,,,,,,,,,,,,,,,,,,,,Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,JDNA,Makira,,,,,,Point of Sale,,,,unable to recreate consistently. Happens intermittently when doing credit / debit transactions on the Castles mPOS device ,1|i00vb3:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,7:46,,,,,243.4.5,,,,2025-07-10 15:25:14.377,,"31/Mar/25 11:49 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:9dbac507-8750-465f-b21a-5853e22aca4b;!CIR Issue.mp4|thumbnail!

[^commerce-pos (13).txt]","10/Jul/25 11:25 AM;5c8fc1cd627d3b2d0163b7f1;adding reference to JDNA ticket: 

|[JUMP-542|https://dtlr.atlassian.net/browse/JUMP-542?atlOrigin=eyJpIjoiZjRkZTY5NDNiYTc5NGY3N2I4OTQ0ZTY2ZGQ5NWY2MmUiLCJwIjoiaiJ9&linkSource=email]|",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,31/Mar/25 11:49 AM
Need help to change authorize method to public in SimHelper class,JMCH-724,20969,Bug,Waiting for customer,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Nathan Richardson,5c8fc1cd627d3b2d0163b7f1,manish.goyal@petco.com,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:4c8db9de-bae6-4f8f-90a0-273bff0f3e57,manish.goyal@petco.com,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:4c8db9de-bae6-4f8f-90a0-273bff0f3e57,27/Mar/25 4:04 PM,02/Jul/25 3:54 PM,,,,0,,"As part of Return To Token project at Petco, we are adding a new simulated endpoint {{SimReturnToTokenAuthEndpoint}} in Petco code, similar to {{org.jumpmind.pos.payment.simulator.SimReturnAuthEndpoint}}.

In this Endpoint, we need to call the {{authorize}} method from {{org.jumpmind.pos.payment.simulator.SimHelper}} class, but this method is currently ""package-private"", so can't access it in petco package.

Can you please help us in changing this method to public in the Commerce v3.8.6, so we can use it in the Petco code.

I see this method is already changed to public in the latest Commerce version [https://github.com/JumpMind/commerce/blob/main/headless/services/pay/src/main/java/org/jumpmind/pos/payment/service/SimulatedPayHelper.java|https://github.com/JumpMind/commerce/blob/main/headless/services/pay/src/main/java/org/jumpmind/pos/payment/service/SimulatedPayHelper.java|smart-link] 

If its okay with JumpMind team, we can raise the PR to make this change and someone can help us approve and merge it.",,Nathan Richardson,,,,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5afc1710,,,,,,,,,,,,,,,,,,,,,Non-Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Petco,,,,,,,Point of Sale,,,,Not Required.,1|i00uzb:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,8:00,,,,,3.8.6,,,,2025-04-02 11:01:51.158,,"01/Apr/25 7:17 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:4c8db9de-bae6-4f8f-90a0-273bff0f3e57;Hi Team, Do you know by when this can be completed?",02/Apr/25 7:01 AM;5c8fc1cd627d3b2d0163b7f1;I’m following up with engineering on this request.,"07/Apr/25 10:46 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:4c8db9de-bae6-4f8f-90a0-273bff0f3e57;Hi Nathan, could you please check if there is any update from Engineering team on this request.",02/Jul/25 3:54 PM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:4c8db9de-bae6-4f8f-90a0-273bff0f3e57] can you please confirm whether this request can be closed if it was handled by a PR created by Petco?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,27/Mar/25 4:04 PM
Electronic Journal drop down search options are not populated - Business Unit / Tender Types,JMCH-720,20908,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Donny Faries,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:bf793e45-1f06-469e-8dd2-6aff9e52866c,Donny Faries,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:bf793e45-1f06-469e-8dd2-6aff9e52866c,26/Mar/25 9:43 AM,08/Jul/25 1:19 PM,24/Jun/25 3:20 PM,,,0,,"This issue was originally reported on [https://jumpmind.atlassian.net/browse/JMCH-551|https://jumpmind.atlassian.net/browse/JMCH-551|smart-link].  It was to be resolved in 243.7 but the issue still exist in this version in QA.  The Business Unit drop down is not populated nor is the Tender Type populated.  This prevents us from releasing this app to our business teams.

[https://origin-aws.jmc-qa-central.vitaminshoppe.com/#/electronic-journal/search|https://origin-aws.jmc-qa-central.vitaminshoppe.com/#/electronic-journal/search]



 ",,Automation for Jira,Jake Vanmeter,Nathan Richardson,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,70121:4c55edb8-b2f0-47f8-bb2c-524b3fa93eda,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,26/Mar/25 9:42 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:bf793e45-1f06-469e-8dd2-6aff9e52866c;EJ Search (40a8d5d4-7341-493b-84b2-f73878e8ebed).PNG;https://jumpmind.atlassian.net/rest/api/3/attachment/content/21867,27/Mar/25 9:00 AM;ug:3816b823-1cf0-4bab-a8ce-20e0d4cf848e;Screen Recording 2025-03-27 at 8.56.31 AM.mov;https://jumpmind.atlassian.net/rest/api/3/attachment/content/21928,26/Mar/25 1:26 PM;ug:3816b823-1cf0-4bab-a8ce-20e0d4cf848e;Screenshot 2025-03-26 at 1.22.09 PM-20250326-172210.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/21880,26/Mar/25 1:26 PM;ug:3816b823-1cf0-4bab-a8ce-20e0d4cf848e;image-20250326-172504.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/21882,26/Mar/25 1:26 PM;ug:3816b823-1cf0-4bab-a8ce-20e0d4cf848e;image-20250326-172522.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/21881,14/Apr/25 3:56 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a;image-20250414-195433.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/22439,28/Apr/25 9:06 AM;ug:3816b823-1cf0-4bab-a8ce-20e0d4cf848e;image-20250428-130511.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/22878,16/Apr/25 5:35 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b;jmc-commerce-central-0426.log;https://jumpmind.atlassian.net/rest/api/3/attachment/content/22533,28/Mar/25 8:44 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:bf793e45-1f06-469e-8dd2-6aff9e52866c;screen-capture.webm;https://jumpmind.atlassian.net/rest/api/3/attachment/content/21953,25/Apr/25 6:18 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a;stores_in_sls_trans_summary.csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/22862,15/Apr/25 10:34 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a;tender_type_codes.csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/22455,15/Apr/25 10:34 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a;trans_status_codes.csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/22456,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@7cd50be3,,,,,,,,,,,,,,,,,,,,,Non-Production,,,,,,,,,Priority 2 (High),,,,,,,,,,,,,,,,,,Vitamin Shoppe,,,,,,,Commerce Central,,,,"Login to QA:  [https://origin-aws.jmc-qa-central.vitaminshoppe.com/#/electronic-journal/search|https://origin-aws.jmc-qa-central.vitaminshoppe.com/#/electronic-journal/search]

Try and click the drop down for business unit or tender type, neither drop down shows anything.",1|i00urj:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,5:59,,,,,243.7.0 Build 280-1,,,,2025-03-26 17:26:01.63,,26/Mar/25 9:43 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:bf793e45-1f06-469e-8dd2-6aff9e52866c;!EJ Search (40a8d5d4-7341-493b-84b2-f73878e8ebed).PNG|thumbnail!,"26/Mar/25 1:26 PM;70121:4c55edb8-b2f0-47f8-bb2c-524b3fa93eda;This is on main showing 109 entries are in the drop down. It also shows the Business Unit and Tender fields populated

!Screenshot 2025-03-26 at 1.22.09 PM-20250326-172210.png|width=727,height=535,alt=""Screenshot 2025-03-26 at 1.22.09 PM-20250326-172210.png""!

!image-20250326-172504.png|width=736,height=415,alt=""image-20250326-172504.png""!

!image-20250326-172522.png|width=718,height=629,alt=""image-20250326-172522.png""!",26/Mar/25 1:27 PM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:bf793e45-1f06-469e-8dd2-6aff9e52866c] your screen print only shows the default appearance where no boxes are populated.  Did you actually click in the box and you don’t see values?,26/Mar/25 2:10 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:bf793e45-1f06-469e-8dd2-6aff9e52866c;Yes - I did click the drop down on each and nothing populates.  If you want to have a quick call I can demo it for you.,"26/Mar/25 2:10 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ","26/Mar/25 3:05 PM;5c8fc1cd627d3b2d0163b7f1;We tested on the latest version and do see the drop downs populated.  We are going to down grade here to 243.7 and test again.

!image-20250326-172504.png|width=736,height=415,alt=""image-20250326-172504.png""!

!image-20250326-172522.png|width=718,height=629,alt=""image-20250326-172522.png""!","27/Mar/25 9:00 AM;70121:4c55edb8-b2f0-47f8-bb2c-524b3fa93eda;After doing some testing on 243.7, we are unable to reproduce this behavior. I have attached a video to show what all we did.

!Screen Recording 2025-03-27 at 8.56.31 AM.mov|width=3584,height=2070,alt=""Screen Recording 2025-03-27 at 8.56.31 AM.mov""!","28/Mar/25 8:44 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:bf793e45-1f06-469e-8dd2-6aff9e52866c;I did the same test on our QA environment.  Video attached. 

[^screen-capture.webm]

","28/Mar/25 8:44 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ",28/Mar/25 8:46 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:bf793e45-1f06-469e-8dd2-6aff9e52866c;I get the same results in google chrome and edge.,28/Mar/25 8:58 AM;70121:4c55edb8-b2f0-47f8-bb2c-524b3fa93eda;Interesting. Thank you for the video! I will take this and do some more testing/investigation.,11/Apr/25 8:18 AM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:bf793e45-1f06-469e-8dd2-6aff9e52866c]  I have also tested this in our QE environment and see no issues with those drop downs populating.  It seems there is either a configuration or data issue preventing the data from showing for you.  Have you checked logs on your central instance to see if there is some exception pulling your data?,14/Apr/25 9:15 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:bf793e45-1f06-469e-8dd2-6aff9e52866c;What is the query behind those drop downs and I can pull the raw data for you from our QA and prod environments?,"14/Apr/25 9:15 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ","14/Apr/25 12:34 PM;5c8fc1cd627d3b2d0163b7f1;The query is just a regular select against sls_trans_summary where most, if not all, fields are returned in the select and if you are seeing device_id returning then there is no way business unit isn’t also.

You should be able to do any select from that table and if a row is returned it should have a business unit and tender type, unless all tender types are null for the search results but business unit should not be null ever.

Can you check, is the service set up to be a remote call to JMC?

Here is the rough sql from the code but it is using objects to determine the details:


{noformat}name: electronicJournalSearch
select:
  TS.SEQUENCE_NUMBER,
  TS.DEVICE_ID,
  TS.DEVICE_TYPE,
  TS.BUSINESS_DATE,
  TS.TRANS_TYPE_CODE,
  TS.TRANS_STATUS_CODE,
  TS.TILL_ID,
  TS.SESSION_ID,
  TS.BUSINESS_UNIT_ID,
  TS.USERNAME,
  TS.BARCODE,
  TS.TRAINING_MODE,
  TS.BEGIN_TIME,
  TS.END_TIME,
  TS.LOCAL_OFFSET,
  TS.TRANSACTION_DURATION_IN_SEC,
  TS.CUSTOMER_ID,
  TS.CUSTOMER_NAME,
  TS.LOYALTY_CARD_NUMBER,
  TS.ITEM_COUNT,
  TS.RCPT_RTN_COUNT,
  TS.NON_RCPT_RTN_COUNT,
  TS.ISO_CURRENCY_CODE,
  TS.PRE_TENDER_BALANCE_DUE,
  TS.TOTAL,
  TS.VOIDABLE_FLAG,
  TS.TENDER_TYPE_CODES,
  TS.REASON_CODE,
  TS.PAID_TO,
  TS.STORE_BANK_ID,
  TS.VOIDED_SEQUENCE_NUMBER,
  TS.SUSPENDED_SEQUENCE_NUMBER,
  TS.SUSPENDED_DEVICE_ID,
  TS.RESUMED_SEQUENCE_NUMBER,
  TS.RESUMED_DEVICE_ID,
  TS.CREATE_TIME,
  TS.CREATE_BY,
  TS.LAST_UPDATE_TIME,
  TS.LAST_UPDATE_BY
from: TransSummaryModel TS   -- this is just sls_trans_summary
pagingColumns:   
  - TS.BUSINESS_UNIT_ID
  - TS.DEVICE_ID
  - TS.BUSINESS_DATE
  - TS.SEQUENCE_NUMBER
optionalWhereClauses:
  - TS.BUSINESS_DATE BETWEEN ${startBusinessDate} AND ${endBusinessDate}
  - TS.BUSINESS_DATE >= ${startBusinessDate}
  - TS.BUSINESS_DATE <= ${endBusinessDate}
  - TS.TRAINING_MODE = ${trainingMode}
  - TS.DEVICE_ID IN (${deviceIds})
  - TS.BUSINESS_UNIT_ID IN (${businessUnitIds})
  - TS.TRANS_TYPE_CODE IN (${transTypeCodes})
  - TS.TRANS_STATUS_CODE IN (${transStatusCodes})
  - TS.TENDER1_TYPE_CODE IN (${tenderTypeCodes}) OR TS.TENDER2_TYPE_CODE IN (${tenderTypeCodes}) OR TS.TENDER3_TYPE_CODE IN (${tenderTypeCodes}) OR TS.TENDER4_TYPE_CODE IN (${tenderTypeCodes}) OR TS.TENDER5_TYPE_CODE IN (${tenderTypeCodes})
  - TS.SEQUENCE_NUMBER = ${sequenceNumber}
  - TS.TOTAL = ${total}
  - UPPER(TS.CUSTOMER_NAME) LIKE CONCAT('%', UPPER(${customerName}), '%')
  - TS.CUSTOMER_ID IS NOT NULL AND TS.CUSTOMER_ID LIKE CONCAT('%', ${customerId}, '%')
  - TENDER1_MASKED_CARD_NUMBER LIKE CONCAT('%', ${cardLast4Digits}) OR TENDER2_MASKED_CARD_NUMBER LIKE CONCAT('%', ${cardLast4Digits}) OR TENDER3_MASKED_CARD_NUMBER LIKE CONCAT('%', ${cardLast4Digits}) OR TENDER4_MASKED_CARD_NUMBER LIKE CONCAT('%', ${cardLast4Digits}) OR TENDER5_MASKED_CARD_NUMBER LIKE CONCAT('%', ${cardLast4Digits}){noformat}","14/Apr/25 3:56 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a;@nathan, EJ when searched afresh or launched first, tries to probably do query where all the filter arguments for your SQL is empty and throwing the below errors.

Looks like defaults to top 100 stores and top 100 devices in the list.

Not sure why TransSummary would load the available business units and devices. Should be the store and device tables - right?

!image-20250414-195433.png|width=1904,height=850,alt=""image-20250414-195433.png""!

","14/Apr/25 3:57 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ","15/Apr/25 8:17 AM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a] what is inside the error message on your dev tools?  The line that says error but is cut off on the right.

The code should be doing the below 2 sql for trans status codes and tender types .

Could you please run these to determine the distinct list of these values in your table and forward that over to us?

{noformat}  select TS.TRANS_STATUS_CODE
  from sls_trans_summary TS
  group By TS.TRANS_STATUS_CODE
  order By TS.TRANS_STATUS_CODE;

  select TS.TENDER_TYPE_CODES
  from sls_trans_summary TS
  where TS.TENDER_TYPE_CODES IS NOT NULL
  group By TS.TENDER_TYPE_CODES; {noformat}","15/Apr/25 10:34 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a;[^trans_status_codes.csv]
[^tender_type_codes.csv]

PROD Cloud has the below results","15/Apr/25 10:34 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ","15/Apr/25 11:08 AM;70121:4c55edb8-b2f0-47f8-bb2c-524b3fa93eda;Thanks Pradeep! We have an idea of what could be causing this issue, and we are looking into the next steps we can provide. ","15/Apr/25 1:22 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7425.

This issue will now need to go through Planning.","15/Apr/25 3:07 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a;Hi Jake

Basic qn

Why is the product looking into TransSummary for consolidated business units and devices?

Shouldn't it be looking into business unit and device related tables?","16/Apr/25 12:57 PM;5c8fc1cd627d3b2d0163b7f1;Hey [~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a], the reason to use the trans summary table would be to reduce the number of entries coming back in those drop down lists.  There really wouldn’t be value in showing every single option if only a few had data associated so that would have been the reasoning.

Could you run the following sql to confirm the values you get back and the time it takes to return the data?  We’re wondering if there is any chance you are getting any timeouts behind the scenes?
That said, have you looked at the logs on the central server to see if there any any errors there?

{noformat}select business_unit_id from sls_trans_summary group by business_unit_id order by business_unit_id;{noformat}","16/Apr/25 5:35 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b;@Nathan 

attached jmc-commerce-central logs from today. 

{noformat}500 INTERNAL_SERVER_ERROR \""An error occurred getting the electronic journal business units\{noformat}

[^jmc-commerce-central-0426.log]

","16/Apr/25 5:35 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ","17/Apr/25 6:58 AM;5c8fc1cd627d3b2d0163b7f1;{noformat}""Remote service 'update-server' is OFFLINE."",""logger_name"":""org.jumpmind.pos.service.strategy.RemoteOnlyStrategy""

{
    ""@timestamp"": ""2025-04-16T21:29:05.00048166Z"",
    ""@version"": ""1"",
    ""message"": ""The deploymentsPublisher job failed"",
    ""logger_name"": ""org.jumpmind.pos.context.service.JobManager"",
    ""thread_name"": ""JumpMindCommerce-job-9"",
    ""level"": ""ERROR"",
    ""level_value"": 40000,
    ""stack_trace"": ""org.jumpmind.pos.util.model.ServiceException: Failed to invoke remote service(s)
         at org.jumpmind.pos.service.strategy.RemoteOnlyStrategy.invoke(RemoteOnlyStrategy.java:102)
         at org.jumpmind.pos.service.EndpointInvoker.invoke(EndpointInvoker.java:108)
         at org.jumpmind.pos.service.EndpointInvocationHandler.invoke(EndpointInvocationHandler.java:137)
         at org.jumpmind.pos.service.$Proxy151.getAvailablePackages(Unknown Source)
         at org.jumpmind.commerce.central.deployments.service.jobs.DeploymentPublishJob.execute(DeploymentPublishJob.java:33)
         at org.jumpmind.pos.context.service.JobManager$JobRunner.run(JobManager.java:255)
         at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
         at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96)
         at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
         at java.base/java.util.concurrent.FutureTask.run(Unknown Source)
         at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)
         at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
         at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
         at java.base/java.lang.Thread.run(Unknown Source)
    Caused by: org.jumpmind.pos.service.strategy.RemoteProfileOfflineException: Remote profile 'update-server' is Offline, skipping service calls until service is back Online
         at org.jumpmind.pos.service.strategy.RemoteOnlyStrategy.invokeProfile(RemoteOnlyStrategy.java:234)
         at org.jumpmind.pos.service.strategy.RemoteOnlyStrategy.invoke(RemoteOnlyStrategy.java:80)
        ... 13 common frames omitted"",
    ""stateManager"": ""server"",
    ""deviceId"": ""server""
}


{
    ""@timestamp"": ""2025-04-16T21:29:45.135677522Z"",
    ""@version"": ""1"",
    ""message"": ""Exception occurred while getting the electronic journal tender type codes"",
    ""logger_name"": ""org.jumpmind.pos.sales.service.trans.GetElectronicJournalTenderTypeCodesEndpoint"",
    ""thread_name"": ""qtp77685541-23"",
    ""level"": ""ERROR"",
    ""level_value"": 40000,
    ""stack_trace"": ""java.lang.NullPointerException: Cannot invoke \""java.lang.Comparable.compareTo(Object)\"" because \""<parameter1>\"" is null\n\tat java.base/java.util.Comparators$NaturalOrderComparator.compare(Unknown Source)\n\tat java.base/java.util.Comparators$NaturalOrderComparator.compare(Unknown Source)\n\tat java.base/java.util.TimSort.countRunAndMakeAscending(Unknown Source)\n\tat java.base/java.util.TimSort.sort(Unknown Source)\n\tat java.base/java.util.Arrays.sort(Unknown Source)\n\tat java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(Unknown Source)\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(Unknown Source)...
}
{
    ""@timestamp"": ""2025-04-16T21:29:45.137399648Z"",
    ""@version"": ""1"",
    ""message"": ""Exception occurred while getting the electronic journal business units"",
    ""logger_name"": ""org.jumpmind.pos.sales.service.trans.GetElectronicJournalBusinessUnitsEndpoint"",
    ""thread_name"": ""qtp77685541-21"",
    ""level"": ""ERROR"",
    ""level_value"": 40000,
    ""stack_trace"": ""java.lang.NullPointerException: Cannot invoke \""org.jumpmind.pos.context.model.BusinessUnitModel.getBusinessUnitName()\"" because \""bu1\"" is null\n\tat org.jumpmind.pos.sales.service.trans.GetElectronicJournalBusinessUnitsEndpoint.lambda$getBusinessUnits$0(GetElectronicJournalBusinessUnitsEndpoint.java:37)\n\tat java.base/java.util.TimSort.countRunAndMakeAscending(Unknown Source)\n\tat java.base/java.util.TimSort.sort(Unknown Source)\n\tat java.base/java.util.Arrays.sort(Unknown Source)\n\tat java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(Unknown Source)\n\tat java.base/java.util.stream.Sink$ChainedReference.end(Unknown Source)\n\tat java.base/java.util.stream.AbstractPipeline.copyInto...
}

500 INTERNAL_SERVER_ERROR \""An error occurred getting the electronic journal business units\""
500 INTERNAL_SERVER_ERROR \""An error occurred getting the electronic journal tender type codes\""
{noformat}

Well this explains why their drop downs were empty…  now to figure out what caused this.","18/Apr/25 9:30 AM;5c8fc1cd627d3b2d0163b7f1;Based on the log file there are errors while retrieving the business units and tender types.  The current implementation expects all tender types to be elements within our TenderTypeCode object and I found you have MERCH_CREDIT which does not exist in our base model so this is why tender types are not populating the drop-down.

For Business Unit, could you please run the following sql now to see if any rows return?

{noformat}select * from sls_trans_summary t
left outer join ctx_business_unit b
  on t.business_unit_id = b.business_unit_id
where b.business_unit_id is null;{noformat}

Similar to tender types, the process looks to make sure all business units in this summary table also exist in the ctx_business_unit table.  The above query will hopefully identify whether there is somehow a business unit in the summary table that doesn’t exist in the context table.

We do have a ticket open with our development team to make sure all entries are imported vs requiring these values to also exist as mentioned above so that we don’t prevent values from appearing in the drop downs.",18/Apr/25 10:03 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a;Query ran for 9 seconds and then No rows for that query.,"18/Apr/25 10:03 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ","18/Apr/25 10:20 AM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a] so that is good, no mismatch there however did you ever do the below from a comment posted a couple days ago?

Could you run the following sql to confirm the values you get back and the time it takes to return the data?  We’re wondering if there is any chance you are getting any timeouts behind the scenes?

{noformat}select business_unit_id from sls_trans_summary group by business_unit_id order by business_unit_id;{noformat}

How many rows in sls_trans_summary?","25/Apr/25 2:36 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:bf793e45-1f06-469e-8dd2-6aff9e52866c;This is still broken - what is next step?

","25/Apr/25 2:40 PM;5c8fc1cd627d3b2d0163b7f1;Still waiting on the response to my prior comment.  Also, a ticket is opened on our side to allow customer specific tenders to be included in the drop down.

[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a] so that is good, no mismatch there however did you ever do the below from a comment posted a couple days ago?

Could you run the following sql to confirm the values you get back and the time it takes to return the data?  We’re wondering if there is any chance you are getting any timeouts behind the scenes?

{noformat}select business_unit_id from sls_trans_summary group by business_unit_id order by business_unit_id;{noformat}

How many rows in sls_trans_summary?","25/Apr/25 6:18 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a;[^stores_in_sls_trans_summary.csv]

",25/Apr/25 6:21 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a;Attached the results above. We need assignees and email alerts for these tickets in HelpDesk JIRA. I do not get email alerts for tickets I do not create I guess and it is tough to track 😞 ,"25/Apr/25 6:25 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a;Also - why sls_trans_summary for business unit listing. 

We could be using a date range where an active store did NOT even do a transaction possibly closed due to say floods. Not seeing the store in the store list for that date range in the drop down is NOT a good experience instead should allow to choose the store and get no sales/transactions. 

I had posted this question for Jake as well. Hopefully you all get notifications!

_Hi Jake_

_Basic qn_

_Why is the product looking into TransSummary for consolidated business units and devices?_

_Shouldn't it be looking into business unit and device related tables?_","28/Apr/25 9:07 AM;70121:4c55edb8-b2f0-47f8-bb2c-524b3fa93eda;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a] , I believe this is the answer to your question you asked me. 

!image-20250428-130511.png|width=926,height=125,alt=""image-20250428-130511.png""!

Regarding the first portion of your response, we have an open ticket on our side to fill the drop downs with the expected data, like you are mentioning. ",,,,,In Progress,26/Mar/25 9:43 AM
Clarification Needed on Vertex API Implementations for Tax Calculation,JMCH-716,20862,Support,Acknowledged,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,Michael Klein,62e96878d49df231b6276c30,Michael Klein,62e96878d49df231b6276c30,24/Mar/25 10:31 AM,01/Apr/25 3:50 PM,,,,0,,"I’m currently working on enabling JMC to use the Vertex API implementation to calculate taxes for DELIVERY items.

TVS has provided me with the following credentials:

* clientId
* clientSecret
* Company
* Division
* serverAddress



The serverAddress provided has an endpoint: {{/vertex-ws/services/CalculateTax80}}. I found a WSDL for this endpoint via a quick search: [https://portobello.ondemand.vertexinc.com/vertex-ws/services/CalculateTax80?wsdl|https://portobello.ondemand.vertexinc.com/vertex-ws/services/CalculateTax80?wsdl].



When reviewing the code, I see 2 implementations for Vertex

# {{RestVertexCalculateTaxEndpoint}}

This endpoint seems to be a closer match based on the required configurations for it to function:

{noformat}    private boolean isValidConfig(RestVertexCalculateTaxConfig calculateTaxConfig) {
        return calculateTaxConfig != null &&
                StringUtils.isNotEmpty(calculateTaxConfig.getServerAddress()) &&
                StringUtils.isNotEmpty(calculateTaxConfig.getCalculationEndpoint()) &&
                StringUtils.isNotEmpty(calculateTaxConfig.getTokenEndpoint()) &&
                StringUtils.isNotEmpty(calculateTaxConfig.getClientId()) &&
                StringUtils.isNotEmpty(calculateTaxConfig.getClientSecret()) &&
                StringUtils.isNotEmpty(calculateTaxConfig.getGrantType());
    }{noformat}

What’s confusing, though, is that there seems to be no call to the token endpoint to retrieve a token using the client credentials. Additionally, when the request is sent to Vertex, there is no authorization header included before JMC sends the request to the API. Is this endpoint unfinished, or is there some detail I'm missing?



# {{VertexTaxCalculationStrategy}}

This implementation appears to require only three configurations:

{noformat}    protected boolean isValidConfig(VertexCalculateTaxConfig calculateTaxConfig) {
        return calculateTaxConfig != null &&
                StringUtils.isNotEmpty(calculateTaxConfig.getApiKey()) &&
                StringUtils.isNotEmpty(calculateTaxConfig.getServerAddress()) &&
                StringUtils.isNotEmpty(calculateTaxConfig.getEndpoint());
    }{noformat}

This implementation requires only an API key.



Could JM please provide more details on these two implementations? It seems like they are tied to different Vertex tax solutions, based on the configuration differences. Any supporting documentation on both would be greatly appreciated, as it would help confirm whether TVS’s Vertex Tax API solution is supported by the product.",,Automation for Jira,Jason Menefee,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,,,,,,,,,,,,,,24/Mar/25 1:33 PM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;image-20250324-173243.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/21770,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@63dc0d0a,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Logic,Vitamin Shoppe,,,,,,Point of Sale,,,,,1|i00ulb:,,Question,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,243.7.0,,,,2025-03-24 17:33:06.189,,"24/Mar/25 1:33 PM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;[~accountid:62e96878d49df231b6276c30] , It looks like those OAuth-related values were inadvertently left in the isValidConfig() check. I would try setting those to dummy values and see if you can hit the Vertex test system.

!image-20250324-173243.png|width=557,height=114,alt=""image-20250324-173243.png""!","24/Mar/25 1:50 PM;62e96878d49df231b6276c30;I have tried that, but the API product that TVS is using requires authentication.  I got a 401 UNAUTHORIZED when making the call.



Do you know the have the documentation for the product that was integrated?  I want to confirm whether or not the product TVS currently uses is supported by the base product","24/Mar/25 1:50 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,24/Mar/25 10:31 AM
Customer display screen frozen or Invalid Repeat delivery item prompt displayed After Custome address verification in ADP/repeat delivery Transaction,JMCH-714,20830,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Ejan Shakya,5de5f0e5de32fb0d03a3c91f,Ejan Shakya,5de5f0e5de32fb0d03a3c91f,21/Mar/25 1:25 PM,08/Jul/25 1:19 PM,,,,0,,"TVS reported the following bug – 
While signing up customers for ADP/repeat delivery, there is an instance where the associate and customer will confirm the billing/shipping address at the same time which causes the customer display to get stuck on the ADP review screen and sometimes trigger a message stating the item is invalid for Repeat Delivery.",,Automation for Jira,Nathan Richardson,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,21/Mar/25 1:19 PM;5de5f0e5de32fb0d03a3c91f;commerce-fixed_9712-Tran2236_2238_ADPCustDisplay (1).log;https://jumpmind.atlassian.net/rest/api/3/attachment/content/21736,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@4c164d06,,,,,,,,,,,,,,,,,,,,,Non-Production,,,,,,,,,Priority 3 (Medium),,,,,,,,,,,,,,,,,,Logic,Vitamin Shoppe,,,,,,Point of Sale,,,,"# Attach customer to the transaction
# Scan an ADP/Repeat delivery eligible item
# Click Check out
# Add item to ADP and click Sign up
# Customer display will prompt customer to confirm ADP, press confirm on customer display
# Click Next for billing address and Next for Shipping address on register
# On the customer display side, customer will have a prompt to review and confirm address and on the register side there will be a message saying _Waiting for customer to verify shipping address_. After about 5 seconds, the message on the fixed station will change to a prompt to confirm the shipping address for the customer. At this point both the customer display and the register have a prompt to confirm the address.
[The 5 seconds delay is configured in {{openpos.customerdisplay.verifyShippingTimeout}}`]
# Press accept on customer display and continue on the fixed station at the same exact time. (or alternatively on dev env, setup two browser applications side by side –  one with POS register and other with customer display screen and click the {{Accept}}on customer display quickly followed by {{Continue}} button on POS register)

These steps will yield up to two results. One outcome is that the customer display is frozen on the ADP review screen and the associate is able to complete the transaction but the customer display won’t clear unless the associate signs out. The second outcome is that the customer display is frozen but on the register they also receive a message stating the item is invalid for repeat delivery.

These were the transactions created to reproduce the issue on 9712 register 1 (attached logs within)

Transaction 2236 - Only customer display was frozen in this instance
Transaction 2238 - Customer display frozen and invalid item message in this instance",1|i00ufz:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,-235:50,,,,,243.7.0.5.0,,,,2025-03-21 17:42:32.727,,21/Mar/25 1:25 PM;5de5f0e5de32fb0d03a3c91f;[^commerce-fixed_9712-Tran2236_2238_ADPCustDisplay (1).log],21/Mar/25 1:42 PM;5c8fc1cd627d3b2d0163b7f1;We are taking a look.,"24/Mar/25 3:38 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7224.

This issue will now need to go through Planning.",26/Mar/25 9:56 AM;5c8fc1cd627d3b2d0163b7f1;Just now got it to reproduce,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,21/Mar/25 1:25 PM
Extra GC cashout balance inquiry request made when confirmCashOutAmount is false,JMCH-700,20469,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,10/Mar/25 12:02 PM,08/Jul/25 1:20 PM,,,,0,,ConfirmCashOutGiftCardState needs to return without making a balance inquiry request if openpos.giftcard.cashout.confirmCashOutAmount is set to false.,,Automation for Jira,Jason Menefee,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@32f9f64f,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Bath & Body Works,,,,,,,,,,,,1|i00t2f:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2025-03-10 16:03:13.986,,"10/Mar/25 12:03 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7024.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,10/Mar/25 12:02 PM
Customer Creation- Shrug guy appears while clicking Back button,JMCH-694,20406,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Tamilarasi,61c15ecd9ee70a0068a1c356,Tamilarasi,61c15ecd9ee70a0068a1c356,05/Mar/25 6:46 AM,08/Jul/25 1:20 PM,,,,0,,"When a user attempts to add a customer that already exists in the system getting Shrug guy if a user clicks the ""Back"" button.
Company name- TVS

Root cause:

The {{action.getData()}} method is returning a -1 value from {{CustomerSignupPhaseOneState}} 
{{CustomerModel passedInCustomer = action != null ? (CustomerModel)Action.convertActionData(action.getData(), CustomerModel.class) : null;}}",,Automation for Jira,Nathan Richardson,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,05/Mar/25 10:17 AM;16a6376e-3b2c-4da1-b2a5-07f13d3baf03;ReAdd Customer failure.mp4;https://jumpmind.atlassian.net/rest/api/3/attachment/content/21163,05/Mar/25 6:27 AM;b7513071-ce41-486f-8df1-bf24ed9e3317;Shrug_guy.txt;https://jumpmind.atlassian.net/rest/api/3/attachment/content/21152,05/Mar/25 6:25 AM;b7513071-ce41-486f-8df1-bf24ed9e3317;image-20250305-112501.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/21151,05/Mar/25 6:45 AM;b7513071-ce41-486f-8df1-bf24ed9e3317;image-20250305-114452.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/21153,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@790ada5f,,,,,,,,,,,,,,,,,,,,,Non-Production,,,,,,,,,Priority 2 (High),,,,,,,,,,,,,,,,,,Logic,Vitamin Shoppe,,,,,,Point of Sale,,,,"*Steps to Reproduce:*

# Navigate to the Home screen and select Customer Lookup.
# Click on Add New Customer.
# Enter the details of a customer who already exists in JM.
# Click Continue.
# The system displays matching customer records.
# Click the Back button.

*Additional Scenario (Order Flow):*

The issue also occurs during the Order Flow:

# Add a new customer from the Order screen.
# Scan an SKU for a specific order type.
# Follow the same steps above to reproduce the issue.

",1|i00ssf:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,0:06,,,,,commerceVersion=243.6.1,,,,2025-03-05 12:03:17.127,,"05/Mar/25 6:46 AM;61c15ecd9ee70a0068a1c356;[^Shrug_guy.txt]

!image-20250305-112501.png|thumbnail!

!image-20250305-114452.png|thumbnail!","05/Mar/25 7:03 AM;5c8fc1cd627d3b2d0163b7f1;Thank you for raising this to our attention, we will work with engineering to confirm and determine a resolution.","05/Mar/25 10:17 AM;5c8fc1cd627d3b2d0163b7f1;[~accountid:61c15ecd9ee70a0068a1c356] Can you please watch the attached video to see if these are the steps you are following?  I tried to reproduce the issue in our latest branch 243.7 and didn’t see any shrug.  I tried where I clicked the back button that appears on the app screen and then the back of the browser button (which really doesn’t work). Didn’t see the issue but please confirm these are the steps you took.

!ReAdd Customer failure.mp4|width=960,height=996,alt=""ReAdd Customer failure.mp4""!",06/Mar/25 1:27 AM;61c15ecd9ee70a0068a1c356;The issue occurs when multiple customer matches are found.,"06/Mar/25 1:27 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ","06/Mar/25 11:14 AM;62e96878d49df231b6276c30;I was able to reproduce the issue on version 243.7.0. To replicate, you need to enter an email that matches multiple customers.

When the above condition is met, {{BuildExactMatchScreen.buildExactCustomerMatchesScreen()}} is executed. In the returned {{SelectionListUIMessage}}, the back button is being set as the non-selection button:

{noformat}ActionItem backButton = new ActionItem(""BackToAddCustomer"", ""key:common:action.back.label"");
screen.addNonSelectionButton(backButton);{noformat}

Upon debugging, I confirmed that no payload is attached to the {{backButton}} action item. When clicked, the state manager is routed to {{CustomerSignupPhaseOneState}}, but the action contains a data payload of {{-1}}. Since we haven't changed the {{selectedIndex}} by clicking on another result, I believe this is why we see {{-1}}. However, I can't find where {{-1}} is being set to the action item.","06/Mar/25 11:53 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-7017.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,05/Mar/25 6:46 AM
Tender | Unnecessary call to clear pin pad screen is made when pre-swipe is disabled ,JMCH-689,20280,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,26/Feb/25 12:25 PM,08/Jul/25 1:20 PM,,,,0,,"We are making an unnecessary call to cancelOutstandingGetCardDataRequest in TenderOptionsState when openpos.tender.preSwipe.enabled = false. This is causing some problems with BBW’s Aurus implementation in the way it interacts with their pinpad receipt display.

{noformat}    protected void preSwipeImpl() {
        if (shouldAttemptPreSwipeAndAuthorize()) {
            preSwipeAttempted = true;

            findCardTenderOption().ifPresent(
                    cardTenderOption -> {
                        currentTenderOption = getTenderOptionByPolicyId(cardTenderOption.getDefaultPayload());
                        if (currentTenderOption != null) {
                            performPreSwipeGetCardData();
                        }
                    }
            );

        }

        // Send cancel request to get rid of any pre-swiped card info since card is not an option or we're doing a return
        if (!isCardTenderOptionAvailable() || preTenderBalanceDueIsNegative(appContext.getCurrentTransaction())) {
            cancelOutstandingGetCardDataRequest();
        }
    } {noformat}

Fix is to add a check of preSwipeEnabled() to the if at line 17",,Automation for Jira,Jason Menefee,Scott Torbert,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@7b9cf257,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Bath & Body Works,,,,,,,,,,,,1|i00s9r:,,Technical Issue,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2025-02-26 17:27:29.515,,"26/Feb/25 12:27 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-6937.

This issue will now need to go through Planning.",26/Feb/25 1:02 PM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;Moved to Development since [https://jumpmind.atlassian.net/browse/JMC-6937|https://jumpmind.atlassian.net/browse/JMC-6937|smart-link] was created,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,26/Feb/25 12:25 PM
Cash drawer does not pop after GC Cash Out on Split Tender transaction,JMCH-669,20141,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,17/Feb/25 9:09 AM,08/Jul/25 1:20 PM,,,,0,,"# Scan SKUs
# Select Tender
# Select Gift Card
# Enter a partial tender amount that will leave a balance under 10.00 on the Gift Card 
# Select Card or Gift Card for remaining balance

 

*Expected:* Cash drawer opens for the Cash Out refund

*Actual:* Cash drawer does not pop if the Cash Out is done before the remaining balance of the split tender is selected, unless Cash is selected as part of the split tender.",,Automation for Jira,Jason Menefee,Scott Torbert,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@f8f37ec,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Bath & Body Works,,,,,,,,,,,,1|i00rg7:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2025-02-17 14:10:12.604,,"17/Feb/25 9:10 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-6858.

This issue will now need to go through Planning.",26/Feb/25 10:00 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;Moved this Jira to Development since there was a JMC Production Bug created. - [https://jumpmind.atlassian.net/browse/JMC-6858|https://jumpmind.atlassian.net/browse/JMC-6858|smart-link] ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,17/Feb/25 9:09 AM
Gift Receipt accessed in E-Journal/transaction search thru CRM customer history when selected brings the user to a blank screen,JMCH-662,20112,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Elliot Thomas,60b9bbb248549e0069485164,Elliot Thomas,60b9bbb248549e0069485164,12/Feb/25 2:40 PM,08/Jul/25 1:20 PM,,,,0,,"RCL Ticket Reference -

[https://reitmans.atlassian.net/browse/PSQ-994|https://reitmans.atlassian.net/browse/PSQ-994|smart-link] 

POS: Gift Receipt accessed in E-Journal/transaction search thru CRM customer history when selected brings the user to a blank screen

Start a txn and add a customer to the txn.

click on the customer to open the customer information

In the customer history select to view the details of the txn

Click on Gift Receipt and you are now on a blank screen (which seems to have been added in recent build).

NOTE clicking next doesn’t print anything, clicking select all/next doesn’t print anything.

IF you go to the transaction search and search for a txn

open it

and click Gift Receipt - this is what the screen should look like

Logic comment -

It looks like it is showing the items from the active transaction and not the actual transaction selected from the customer purchase history. When a customer is added the transaction is active, but there is no items in the basket, so nothing shows on that screen. ",,Automation for Jira,Nathan Richardson,Scott Torbert,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,5c8fc1cd627d3b2d0163b7f1,712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83,,,,,,,,,,,,,12/Feb/25 2:39 PM;60b9bbb248549e0069485164;PSQ-994_attachments.zip;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20755,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@37504ed,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Logic,Reitman's Canada Limited,,,,,,,,,,,1|i00rb3:,,Report a bug,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa),,,,,,,,,,,,,,,,,,,,,,,,69:40,,,,,,,,,2025-02-13 12:33:43.497,,12/Feb/25 2:40 PM;60b9bbb248549e0069485164;[^PSQ-994_attachments.zip],13/Feb/25 7:33 AM;5c8fc1cd627d3b2d0163b7f1;Thanks [~accountid:60b9bbb248549e0069485164] for the details we are taking a look.  Have you checked the logs to see if there are any errors or alerts when this happens?,13/Feb/25 8:10 AM;5c8fc1cd627d3b2d0163b7f1;I reproduced the issue on our main branch.  Appears the issue is only when trying to print from after viewing a customers transaction history.  Viewing the transaction from the main page (EJ) it appears and prints fine.,"13/Feb/25 8:10 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-6844.

This issue will now need to go through Planning.",26/Feb/25 10:01 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;Moved this Jira to Development since there was a JMC Production Bug created. - [https://jumpmind.atlassian.net/browse/JMC-6844|https://jumpmind.atlassian.net/browse/JMC-6844|smart-link] ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,12/Feb/25 2:40 PM
Aurus Payment | Long pause at card payment if cancel is pressed quickly,JMCH-659,20081,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,07/Feb/25 2:02 PM,08/Jul/25 1:20 PM,,,,0,,"NOTE: Logic is working on a fix in BBW’s codebase. This ticket is created to move that fix into base.

----


+*Description of Issue:*+ POS keeps loading for about 1 minute 10 seconds if Cancel is selected on “Customer Interaction required” prompt before PIN PAD displays “Present Card screen”  

+*(*+{color:#ff5630}+*Note:*+{color}{color:#ff5630} {color}If Cancel is selected after PIN PAD displays present card screen, “Customer Interaction required” prompt immediately closes and POS displays “Tender” options and PIN PAD displays “Balance Due” screen)

# +*Steps to Reproduce:*+
Close Customer Lookup -> Scan SKUs -> Select Tender -> Select Card -> Select Next for “USD Card Tender Amount”
# *Select “Cancel” on “Customer Interaction required” prompt before PIN PAD displays “Present Card screen”* if you want to select “Card” accidentally and want to select another tender.

+*Actual Results:*+ POS keeps loading for about 1 minute 10 seconds. Then “Card Read Error” displays on POS
+*Expected Results:*+ “Customer Interaction required” prompt should be immediately closed, then POS should display “Tender” options and PIN PAD should display “Balance Due” screen

+*Environment found:*+ *2501.0.67 (JMC 243.5.1) (Same behavior in all environments)*

+*Store#/Reg#/Business Date:*+ *Stage Store# 81440 | #001 | 02/4/25*

+*Transaction#:*+ *444*",,Automation for Jira,Jason Menefee,Scott Torbert,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@13f22c5a,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Bath & Body Works,,,,,,,,,,,,1|i00r4v:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2025-02-07 19:03:16.867,,"07/Feb/25 2:03 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-6817.

This issue will now need to go through Planning.",26/Feb/25 10:03 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;Moved this Jira to Development since there was a JMC Production Bug created. - [https://jumpmind.atlassian.net/browse/JMC-6817|https://jumpmind.atlassian.net/browse/JMC-6817|smart-link] ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,07/Feb/25 2:02 PM
"Qualification Attribute in UserModel.additionalFields Lost After Suspend/Resume, Preventing Employee Discount Promotion from Qualifying",JMCH-656,20074,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Michael Klein,62e96878d49df231b6276c30,Michael Klein,62e96878d49df231b6276c30,06/Feb/25 4:03 PM,08/Jul/25 1:20 PM,,,,0,,"Currently, on commerceVersion=243.4.3, TVS is experiencing an issue where the employee discount is not applied when the transaction is resumed. The employee discount is correctly qualified and rewarded before suspending the transaction, but fails to reapply after resumption. For reference, see JMC-1323-video.webm to observe the issue.

*Investigation:*

* Upon investigation, I found that TVS is using a custom qualification attribute with {{id == employeeType}}.
* If this attribute has a value of DEFAULT, the employee discount promotion (PromotionId == PERMANENTPROMOS-3-1) is successfully qualified and rewarded.
* While debugging {{AttributesAnalyzer.evaluate()}}, I noticed the following behavior:
** The *employeeType* attribute exists when attaching an employee to the transaction (see EmployeeDiscountBeforeResume.png).
** However, after resuming the transaction, the *employeeType* attribute is missing (see EmployeeDiscountAfterResuming.png).

*Root Cause:*

* I traced this issue back to when attributes are built in RetailManager*.*buildTransactionLevelAttributes().
* When the employee discount is added for TVS, the employeeType attribute is stored in {{UserModel.additionalFields()}}, like so:
{noformat}if (employee != null) {
    employee.getAdditionalFields().forEach((key, value) -> attributes.add(Attribute.builder()
            .attributeId(key)
            .value(String.valueOf(value)).build()));
}{noformat}
* However, when the transaction is suspended, JMC does not persist these additional fields on the model. As a result, the additionalFields map is empty when the transaction is resumed, leading to the missing employeeType attribute.

*Promotion Logic:*

* I also reviewed the logic specific to employee discounts within {{RetailManager.buildTransactionLevelAttributes()}}:
{noformat}attributes.add(Attribute.builder()
        .attributeId(TransactionAttributeConstants.EMPLOYEE_DISCOUNT_ELIGIBLE)
        .value(trans.getRetailLineItems().stream()
                .filter(item -> item.getItemId().equals(employeeItemId))
                .map(item ->Boolean.TRUE)
                .findFirst()
                .orElse(Boolean.FALSE).toString().toLowerCase()).build());{noformat}

*Next Steps:*

* I’m unsure if this issue can be resolved through data configuration alone. I’ve reached out to Denis at TVS to explore the possibility of updating the promotion to use loyaltyDiscountEligible as the qualification attribute, as there is existing support for this attribute in the product.
* Regardless if Denis updating the promotion fixes this, I still saw this as a base bug that is worth reporting.  I’ll provide an update on this ticket if Denis’s change does not work since that would most likely increase the priority.

*Attachments:*

* 9788_data.zip – Contains the relevant promotion data for TVS (PromotionId = PERMANENTPROMOS-3-1).
* Logs from base product and TVS product just in case you need them.  The only difference I saw is the DefaultPromoBasketGenerator doesn’t produce a successful promotion.
* Screenshots of {{AttributesAnalyzer.evaluate()}} showing the missing employeeType attribute after being resumed",,Automation for Jira,Nathan Richardson,Scott Torbert,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,5c8fc1cd627d3b2d0163b7f1,712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83,,,,,,,,,,,,,06/Feb/25 4:02 PM;62e96878d49df231b6276c30;9788_data.zip;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20668,06/Feb/25 4:01 PM;62e96878d49df231b6276c30;BASE_JMC-1323_logs.log;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20664,06/Feb/25 4:01 PM;62e96878d49df231b6276c30;EmployeeDiscountAfterResuming.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20667,06/Feb/25 4:01 PM;62e96878d49df231b6276c30;EmployeeDiscountBeforeResume.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20666,06/Feb/25 4:00 PM;62e96878d49df231b6276c30;JMC-1323_video.webm;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20663,06/Feb/25 4:01 PM;62e96878d49df231b6276c30;TVS_JMC-1323_logs.log;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20665,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@157421b0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Logic,Vitamin Shoppe,,,,,,,,,,,1|i00r3b:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,71:03,,,,,,,,,2025-02-07 12:00:21.294,,"06/Feb/25 4:03 PM;62e96878d49df231b6276c30;[^9788_data.zip]

[^BASE_JMC-1323_logs.log]

!EmployeeDiscountAfterResuming.png|thumbnail!

!EmployeeDiscountBeforeResume.png|thumbnail!

[^JMC-1323_video.webm]

[^TVS_JMC-1323_logs.log]",07/Feb/25 7:00 AM;5c8fc1cd627d3b2d0163b7f1;Thanks [~accountid:62e96878d49df231b6276c30] for all the details around the issue.  I understand what you are explaining and am going to get this to our engineering team to review.,"07/Feb/25 7:01 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug [JMC-6814].

This issue will now go through some triage by Ann",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,07/Feb/25 7:00 AM
UAE Mobile number shows with  971502930416 as 9710502930416 in signup form  and in DCN Issuance ,JMCH-642,20008,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Nathan Richardson,5c8fc1cd627d3b2d0163b7f1,Nathan Richardson,5c8fc1cd627d3b2d0163b7f1,03/Feb/25 10:27 AM,08/Jul/25 1:20 PM,,,,0,,"# User selects mobile number field, selects UAE Country code
# User enters 10 digits number for UAE number

Expected Result

JMPOS should capture the valid UAE Number and JMPOS cursor should directly navigate in the next field to be updated which is email ID field .

Comments: Below sample UAE Mobile number shows with  971502930416 as *9710*502930416

!image-20250203-152604.png|width=1009,height=499,alt=""image-20250203-152604.png""!

[https://dev.azure.com/landmarkgroup/R1-Jumpmind/_workitems/edit/230564/|https://dev.azure.com/landmarkgroup/R1-Jumpmind/_workitems/edit/230564/|smart-link] ",,Automation for Jira,Nathan Richardson,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,03/Feb/25 10:27 AM;16a6376e-3b2c-4da1-b2a5-07f13d3baf03;image-20250203-152604.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20558,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@593834fe,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Landmark Group,,,,,,,,,,,,1|i00qpj:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2025-02-03 15:28:16.916,,"03/Feb/25 10:28 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-6777.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,03/Feb/25 10:27 AM
Product Inquiry Slowness,JMCH-638,20000,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Nathan Richardson,5c8fc1cd627d3b2d0163b7f1,Nathan Richardson,5c8fc1cd627d3b2d0163b7f1,03/Feb/25 9:58 AM,08/Jul/25 1:20 PM,,,,0,,"When the product inquiry functionality is used, there is slowness observed and a lag of 6/7 seconds refer attachment. 

----

Validate the Product Search by Item Code (9 digits/ Style number inside the merchandise/ partial Style number/ search by EAN ( 13 Digit) and the average time item details shown is 6-7 secs: 

See Videos Attached 

NOTE:  First time product inquiry done is taking time succeeding searched will be with the timing mentioned (average 6 secs).  “the 5/6 seconds of loading during checkout is not acceptable”

[https://dev.azure.com/landmarkgroup/R1-Jumpmind/_workitems/edit/295251/|https://dev.azure.com/landmarkgroup/R1-Jumpmind/_workitems/edit/295251/|smart-link] 

!Search by Item code .mp4|width=720,height=1280,alt=""Search by Item code .mp4""!



!Search by Style  and partial VPN.mp4|width=720,height=1280,alt=""Search by Style  and partial VPN.mp4""!



!Product Inquiry Slowness.mp4|width=540,height=960,alt=""Product Inquiry Slowness.mp4""!",,Automation for Jira,Nathan Richardson,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,03/Feb/25 9:58 AM;16a6376e-3b2c-4da1-b2a5-07f13d3baf03;Product Inquiry Slowness.mp4;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20550,03/Feb/25 9:58 AM;16a6376e-3b2c-4da1-b2a5-07f13d3baf03;Search by Item code .mp4;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20549,03/Feb/25 9:58 AM;16a6376e-3b2c-4da1-b2a5-07f13d3baf03;Search by Style  and partial VPN.mp4;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20548,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@7c64645,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Landmark Group,,,,,,,,,,,,1|i00qnr:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2025-02-04 12:29:53.394,,"04/Feb/25 7:29 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-6788.

This issue will now need to go through Planning.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,03/Feb/25 9:58 AM
"Returns | Search by Gift card, The card-trans details are carried over for other return search options.",JMCH-634,19990,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,03/Feb/25 9:11 AM,08/Jul/25 1:20 PM,,,,0,,"*Description of Issue:* Return Search by Gift card, the card-trans details are carried over for other return search options. 

*Reproduction Steps:*

# select “return” tile → close “loyalty look up” 
# on Hamburg option → select “By Gift card” option (for transaction search by Gift card) 
# On Gift card number screen → scan/manually enter the GC details. 
# A screen “Return Transaction Search” screen is pops. (can select any of the transaction or close it) 
# close “Return Transaction Search” Screen. 
# On Hamburg option → select by card/By gift card options (any of the options) 
# after the respective screens, “costumer interaction required” (by card search), “Gift card number” (By gift-card search) screens appear.
# Cancel these screens. 

*Actual:* “Return transaction select” for previously used Gift card appears, which is not expected. 

*Expected:* expected the screen collapse and getting back to return screen. 

_Note from Logic dev (Pratik): This is a base defect. In the Returns flow, the scope variable cardDetails in ReturnsHomeState is retained unnecessarily. So, even if the user does not use a new card, it keeps using the previous value of cardDetails._",,Automation for Jira,Jason Menefee,Scott Torbert,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@55a9e3d6,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Bath & Body Works,,,,,,,,,,,,1|i00qlj:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2025-02-03 14:12:36.724,,"03/Feb/25 9:12 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-6770.

This issue will now need to go through Planning.",26/Feb/25 10:10 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;Moved this Jira to Development since there was a JMC Production Bug created. - [https://jumpmind.atlassian.net/browse/JMC-6770|https://jumpmind.atlassian.net/browse/JMC-6770|smart-link] ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,03/Feb/25 9:11 AM
Simulated Till,JMCH-619,19866,Support,Waiting for customer,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Nathan Richardson,5c8fc1cd627d3b2d0163b7f1,Gabrielle Capozzi,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e,Gabrielle Capozzi,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e,27/Jan/25 10:16 AM,08/Jul/25 11:34 AM,25/Jun/25 11:08 AM,,,0,,"I need to set simulated tills to some stations in our lab, and for mobile registers in production. I looked through the JM documentation but for the till_type_code on the ops_till table, it doesn’t list the values. What should be in that field to make the till simulated? I’ve tried SIM_TILL and SIMULATED_TILL with no luck. ",,Mike Dalton,Nathan Richardson,,,62d82941751c4f698e03958a,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,31/Jan/25 1:11 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;image-20250131-181119.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20513,03/Feb/25 10:51 AM;16a6376e-3b2c-4da1-b2a5-07f13d3baf03;image-20250203-155051.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20562,08/Jul/25 11:34 AM;16a6376e-3b2c-4da1-b2a5-07f13d3baf03;image-20250404-120957.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25836,08/Jul/25 11:34 AM;16a6376e-3b2c-4da1-b2a5-07f13d3baf03;image-20250404-121301.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25835,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@3da0fc11,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,The Paper Store,,,,,,,,,,,,1|i00pyf:,,Technical support,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,7:08,8:21,,,,,,,,2025-01-27 15:51:24.848,,27/Jan/25 10:18 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;Is there a way for no till to be assigned or needed? If so - how do we go about setting that up in the database?,"27/Jan/25 10:25 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;I’ve also tired VIRTUAL_TILL and VIRTUAL with no success 

","27/Jan/25 10:51 AM;5c8fc1cd627d3b2d0163b7f1;I’m confused again on terminology.  why would you ever have a ‘simulated’ till in production?  

For a mobile device without a till associated you wouldn’t have a row in the ops_till table.

When you say ‘simulated' are you talking about the scenario where ‘cash’ comes up as a tender option but there is no drawer attached/associated to the device?","27/Jan/25 10:56 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;When we begin a new device that is mobile, the application will not allow any actions be performed without a till opened & assigned. How do we avoid this in the database for a device? I guess a better term for production would be “virtual” or “no till” at all? 

Apologies again for the confusion on production. I need a simulated cash drawer for testing in QA, so my team can continue to test via a desktop application and the drawer doesn’t constantly throw an error message, since there is no physical drawer. You are correct, so cash come up and so it feels like it has a drawer when it doesn’t","27/Jan/25 1:09 PM;5c8fc1cd627d3b2d0163b7f1;For the your production devices, you would want to set the ‘device type’ to ‘mobile’  not default.  This will set them up as a Virtual till and not create a row in the ops_till table.

For a simulated cash drawer I’m trying to find if there is a table you can update but the gist is you need to set the defaultCashDrawer to {{LogCashDrawer}}   If no printer then you should also set the defaultPrinter to the same {{LogCashDrawer}}.

{noformat}devices:
  defaultPrinter: LogPOSPrinter
  defaultCashDrawer: LogCashDrawer{noformat}","27/Jan/25 3:56 PM;5c8fc1cd627d3b2d0163b7f1;For the simulated cash drawer.  Try adding an entry in ctx_config for that tag_device_id of

{noformat}config_name = 'openpos.devices.defaultCashDrawer' config_value = 'LogCashDrawer'{noformat}","28/Jan/25 9:42 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;Thank you Nathan, I am going to give these both a try today. Needed the information, you are good to close this out. Thank you!","28/Jan/25 9:54 AM;5c8fc1cd627d3b2d0163b7f1;Thanks Gabby, if this doesn’t work or provide what you are looking for just re-post a comment and I’ll re-open.","30/Jan/25 9:45 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;Nathan - I set a few production devices to ‘mobile’ in the device type yesterday evening, however its still saying a till is required and making me open a “till” before moving forward with anything. Even with the device open, when i go to hit orders or sell, the application forces to open a till still. Is that typical?","31/Jan/25 12:05 PM;5c8fc1cd627d3b2d0163b7f1;can you query your store database and check the tag_device_type field of dev_device to make sure it is ‘mobile’?

{noformat}select tag_device_type, * from dev_device;{noformat}

When I did this locally here, on my manage open / close screen there is no open till now for my case.","31/Jan/25 1:11 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;Hey Nathan, 



Ran on the local server and can confirm it is listed as mobile, yet when we go to the open/close in manage a till is listed as required 



!image-20250131-181119.png|width=314,height=221,alt=""image-20250131-181119.png""!

","03/Feb/25 10:51 AM;5c8fc1cd627d3b2d0163b7f1;So when you go to Manage open/close you still see the open till button?  Not like below?

!image-20250203-155051.png|width=981,height=580,alt=""image-20250203-155051.png""!","03/Feb/25 10:52 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;Nathan - this is correct a till is still listed and mentioned that it is required, even when set to mobile","03/Feb/25 1:22 PM;5c8fc1cd627d3b2d0163b7f1;Could you please run the following sql on your local server?

{noformat}select * from ops_till;{noformat}

I finally recreated what I think you are seeing.  In my case I had to open a fixed device with an opening till amount and then close it.  When I switched it to mobile I still saw the Open Till button, however I also noted there was a record in the ops_till table that had the following fields set to values:
expected_opening_float
desired_float_amount

Once I zero’d out these fields then my open till button went away.  So can you please check that table to see what is in there for one of these mobile devices you are trying to update?","05/Feb/25 9:45 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;Nathan - here are the results of that qry on the location server: 

9651	9651-001		150.000	150.000
9651	9651-003		150.000	150.000
0008	0008-003		150.000	150.000
0008	0008-009		150.000	150.000
0008	0008-008		150.000	0.000
0008	0008-002		150.000	150.000
0008	0008-005		150.000	150.000
0008	0008-004		150.000	150.000
0008	0008-001		150.000	150.000


let me try making 008 and 009 both 0.00 and see what happens!","17/Feb/25 10:37 AM;5c8fc1cd627d3b2d0163b7f1;Hi [~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e], Did the update of those amounts work for this issue?","17/Feb/25 11:11 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;I did update both options to $0 and sadly the till was still being ask/prompted. The value it wanted was $0 instead of $150, but the till still was needed to be “opened”","04/Apr/25 1:42 PM;5c8fc1cd627d3b2d0163b7f1;Need to get back to this one.  Had a thought, maybe she needs to add a more filtered row in ctx_config for the devices she wants as VIRTUAL_TILL.  More tags needed to force them to use that entry vs another.",07/Jul/25 11:40 AM;62d82941751c4f698e03958a;[~accountid:5c8fc1cd627d3b2d0163b7f1] [~accountid:712020:1e31b905-2797-45c2-b5ac-e31ef7818f38] Can you guys get this one finalized?,"08/Jul/25 11:34 AM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e] sorry it has been so long on a follow-up on this ticket.  
Are you still set up where 0008-008 and 0008-009 are both still not working and do prompt for Open Till?
If so, could you please run the following sql statements and send back the results?

{noformat}select * from dev_device where device_id in ('0008-008','0008-009') order by device_id;
select * from ops_till where business_unit_id = '0008' order by till_id;
select * from ops_unit_status where business_unit_id = '0008' order by device_id, sequence_number desc;
select * from ctx_config where config_name not like 'license%';{noformat}


Or if this is a test store in your lab you could use swagger to export the full db from this store and attach it.
If you are not familiar here are some basic steps:

----

Go to the Supporting API list (drop-down at top right)

Expand Microservice Management

Expand Export, click Execute

Under response click Download file

!image-20250404-120957.png|width=1662,height=1445,alt=""image-20250404-120957.png""!

!image-20250404-121301.png|width=1787,height=945,alt=""image-20250404-121301.png""!


URL example: [http://localhost:6140/swagger-ui/swagger-ui/index.html|http://localhost:6140/swagger-ui/swagger-ui/index.html]",,,,,,,,,,,,,,,,,,,,,,In Progress,31/Jan/25 12:55 PM
"Production issue - Single use coupon discount gets applied but in response ""applied"": false"" attribute is send as false. ",JMCH-617,19851,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,akshay kadam,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840,akshay kadam,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840,27/Jan/25 4:35 AM,11/Jul/25 10:59 AM,,,,0,,"We have same build 243.4.4 on Production and QA environment but on Production when we apply single use coupon, the discount get applied but ""applied"": false"" attribute is send as false in response. 

Note: It is working as expected on QA environment, we are facing issue on Production environment.

Attaching all the details of QA and Production environment.



",,Ann-Katherine Johnson,Automation for Jira,Henglin Wang,Nathan Richardson,712020:d4626b4e-9ff3-475f-9c6e-8509649cd509,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,712020:e5b5ad7e-62d4-4865-986d-20a2966755ae,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,28/Jan/25 1:23 PM;507568fb-3b23-4306-919f-db347d286ab7;20250118_1318 - Prod jmcc_prm_stg_prom.csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20352,28/Jan/25 1:27 PM;507568fb-3b23-4306-919f-db347d286ab7;20250118_1325 - QA jmcc_prm_stg_prom.csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20354,28/Jan/25 3:24 PM;507568fb-3b23-4306-919f-db347d286ab7;All tables in Excel for Prod (e6ef88f0-4b3e-4f1f-b3ca-40ff8fc5ea61).xlsx;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20382,28/Jan/25 2:30 PM;507568fb-3b23-4306-919f-db347d286ab7;All tables in Excel for Prod.xlsx;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20377,28/Jan/25 3:24 PM;507568fb-3b23-4306-919f-db347d286ab7;All tables in Excel for QA (35c923c2-dde5-44bc-8c31-f5afe8877f71).xlsx;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20381,28/Jan/25 2:25 PM;507568fb-3b23-4306-919f-db347d286ab7;All tables in Excel for QA.xlsx;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20374,12/Jun/25 9:49 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b;Central_Pod_log_06122025.csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24695,12/Jun/25 9:42 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7231de4f-7f45-4625-80e8-dc1bbef34dac;DUM3H85F.PNG;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24692,12/Jun/25 9:42 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7231de4f-7f45-4625-80e8-dc1bbef34dac;DUM5EXB9.PNG;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24693,09/Jul/25 6:39 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:d5e5428e-8a5e-42cd-bcdd-471da7c31734;JMC-617.zip;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25880,27/Jan/25 4:35 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840;PROD 1.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20280,27/Jan/25 4:35 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840;PROD 2.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20279,27/Jan/25 4:35 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840;PROD 3.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20276,27/Jan/25 4:35 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840;PROD 4.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20275,27/Jan/25 4:35 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840;PROD 5.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20278,27/Jan/25 4:35 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840;PROD 6.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20274,27/Jan/25 4:35 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840;PROD 7.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20277,27/Jan/25 4:32 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840;PROD request.txt;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20273,27/Jan/25 4:32 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840;PROD response.txt;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20272,24/Jun/25 7:59 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:98694fb4-e549-42cc-8796-de40e24d36d0;ProdLogs_23-24June25.csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25179,27/Jan/25 4:35 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840;QA 1.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20288,27/Jan/25 4:35 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840;QA 2.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20289,27/Jan/25 4:35 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840;QA 3.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20287,27/Jan/25 4:35 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840;QA 4.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20282,27/Jan/25 4:35 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840;QA 5.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20285,27/Jan/25 4:35 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840;QA 6.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20281,27/Jan/25 4:35 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840;QA 7.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20284,27/Jan/25 4:35 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840;QA request.txt;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20283,27/Jan/25 4:35 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840;QA response.txt;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20286,28/Jan/25 2:30 PM;507568fb-3b23-4306-919f-db347d286ab7;Raw TVS Production.zip;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20376,28/Jan/25 2:25 PM;507568fb-3b23-4306-919f-db347d286ab7;Raw TVS QA.zip;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20375,12/Jun/25 9:49 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b;UPE_Pods_log_06122025.csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24694,10/Jul/25 10:07 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7231de4f-7f45-4625-80e8-dc1bbef34dac;image-20250710-140430.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25955,10/Jul/25 10:08 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7231de4f-7f45-4625-80e8-dc1bbef34dac;image-20250710-140529.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25956,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@48fb69ae,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Vitamin Shoppe,,,,,,,,,,,,1|i00pv3:,,Report a bug,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:98694fb4-e549-42cc-8796-de40e24d36d0(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:98694fb4-e549-42cc-8796-de40e24d36d0),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:d5e5428e-8a5e-42cd-bcdd-471da7c31734(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:d5e5428e-8a5e-42cd-bcdd-471da7c31734),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f4268760-4d62-41e4-91ba-3d3b9be4c7a9(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f4268760-4d62-41e4-91ba-3d3b9be4c7a9),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7231de4f-7f45-4625-80e8-dc1bbef34dac(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7231de4f-7f45-4625-80e8-dc1bbef34dac),,,,,,,,,,,,,,,,,,,,,,,71:49,,,,,,,,,2025-01-27 14:28:17.205,,"27/Jan/25 4:35 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840;!PROD 1.png|thumbnail!

!PROD 2.png|thumbnail!

!PROD 3.png|thumbnail!

!PROD 4.png|thumbnail!

!PROD 5.png|thumbnail!

!PROD 6.png|thumbnail!

!PROD 7.png|thumbnail!

[^PROD request.txt]

[^PROD response.txt]

!QA 1.png|thumbnail!

!QA 2.png|thumbnail!

!QA 3.png|thumbnail!

!QA 4.png|thumbnail!

!QA 5.png|thumbnail!

!QA 6.png|thumbnail!

!QA 7.png|thumbnail!

[^QA request.txt]

[^QA response.txt]","27/Jan/25 9:28 AM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840] when were the corresponding promotions created in each environment?  I.e. were they both created long ago before the environment was upgraded or were they recent, was one older…  Trying to determine if there is something associated to the data during upgrade.   Have you tried to re-create the promotion in production to see if it works?","27/Jan/25 11:58 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:98694fb4-e549-42cc-8796-de40e24d36d0;Hi Nathan, the promos were all created just recently in v243.4.4 in both QA and Prod.  It works in QA but for some reason its failing in prod.  ",27/Jan/25 12:09 PM;5c8fc1cd627d3b2d0163b7f1;Have you tried to re-create the promotion in production to see if it works?,28/Jan/25 10:16 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;We need more information and we will come back to review,"28/Jan/25 12:27 PM;5c8fc1cd627d3b2d0163b7f1;We should, if we have access, query the jmcc tables on their production instance to determine actually when the promotions were added to the system and compare that with the time they most recently upgraded.

Or else we should ask them to view the history on this promotion in Promote to see when it was created and what else shows in the history.",28/Jan/25 1:12 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:98694fb4-e549-42cc-8796-de40e24d36d0;Production is where we observed the issue.  Prod build is 243.4.4.  We then retested in QA which is also 243.4.4 and its fine there.,"28/Jan/25 1:23 PM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;I ran the following select in TVS prod

select * from jmcc_prm_stg_promo where promotion_id like 'DOWEBCPNS0125-26%' order by promotion_id;

Return

[^20250118_1318 - Prod jmcc_prm_stg_prom.csv]



NOTE: This was created original in production on 1/14 which is after upgrade. The created by and last updated by is a few cases do not look correct.","28/Jan/25 1:27 PM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;I ran the following select in TVS QA

select * from jmcc_prm_stg_promo where promotion_id like 'EFFECTIVEDATE-8%' order by promotion_id;

returned

[^20250118_1325 - QA jmcc_prm_stg_prom.csv] 

NOTE: This was created on 1/24",28/Jan/25 1:29 PM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;[~accountid:5c8fc1cd627d3b2d0163b7f1] - I am stubbed.  I might pull all tables for JMCC_PRM_ in QA and Production,28/Jan/25 1:30 PM;5c8fc1cd627d3b2d0163b7f1;I was typing this up as you posted.  Maybe we need to pull all the JMCC_xx tables for these two promotions from QA and Prod to do a table to table compare.  Or I would consider pulling the PRM_xxx tables for just these promotions.,"28/Jan/25 2:25 PM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;I ran the following SQLs in QA

{noformat}select * from prm_assigned_promotion where promotion_id like 'EFFECTIVEDATE-8%';
select * from prm_promotion where promotion_id like 'EFFECTIVEDATE-8%';
select * from prm_qualification where promotion_id like 'EFFECTIVEDATE-8%';
select * from prm_qualification_item where qualification_item_id like 'EFFECTIVEDATE-8%'; 
select * from prm_reward  where promotion_id like 'EFFECTIVEDATE-8%';
select * from prm_reward_item where reward_item_id like 'EFFECTIVEDATE-8%';{noformat}

I have attached .zip file raw data

[^Raw TVS QA.zip]



I have attach Excel of all tables for QA with current promotion highlighted

[^All tables in Excel for QA.xlsx]

","28/Jan/25 2:30 PM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;I ran the following SQLs in Production

{noformat}select * from prm_assigned_promotion where promotion_id like 'DOWEBCPNS0125-26%';
select * from prm_promotion where promotion_id like 'DOWEBCPNS0125-26%';
select * from prm_qualification where promotion_id like 'DOWEBCPNS0125-26%';
select * from prm_qualification_item where qualification_item_id like 'DOWEBCPNS0125-26%';
select * from prm_reward  where promotion_id like 'DOWEBCPNS0125-26%';
select * from prm_reward_item where reward_item_id like 'DOWEBCPNS0125-26%';{noformat}

I have attached .zip file of raw data

[^Raw TVS Production.zip]

I have attached Excel of all tables for Prod with current production highlighted

[^All tables in Excel for Prod.xlsx]

",28/Jan/25 2:30 PM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;[~accountid:5c8fc1cd627d3b2d0163b7f1] - I will try to compare QA and Prod excel file by eye to see if anything stands out,"28/Jan/25 3:24 PM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;[^All tables in Excel for QA (35c923c2-dde5-44bc-8c31-f5afe8877f71).xlsx]
[^All tables in Excel for Prod (e6ef88f0-4b3e-4f1f-b3ca-40ff8fc5ea61).xlsx]

Review if tables

Prm_assigned_promotion

* QA is using Business Unit ID (6101) and Prod is using Business group (ECOM)



Prm_promotion

* This should not be impact at all
** The columns reward_base_price_type_code and external_id
*** In different order - QA is like these were added and production is like table was created with correct values
** long_description is used in QA but not Prod



Prm_qualification

* This should not be impact at all
** The columns qual_items_reward_preference and tier 
*** In different order - QA is like these were added and production is like table was created with correct values



Prm_qualification_item

* Both have same items

|1044088|
|1044124|
|2185171|
|2185197|
|2244184|



* description is NULL for both QA and Prod - should be copied from item



Prm_reward

* The following columns are in different order
** Tier at end of QA
* T*he following columns are missing*
** *Reward_quantity_to_qualify in QA but not Prod*
** *Reward_base_price_code in QA but not Prod*



Prm_reward_item

* Both have same items

|1044088|
|1044124|
|2185171|
|2185197|
|2244184|



* description is NULL for both QA and Prod - should be copied from item","28/Jan/25 4:14 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Manual automation created Production Bug JMC-6741.

This issue will now need to go through Planning.","29/May/25 5:35 PM;712020:e5b5ad7e-62d4-4865-986d-20a2966755ae;[~accountid:5c8fc1cd627d3b2d0163b7f1] [~accountid:62d82941751c4f698e03958a] is this still happening, this was from January",30/May/25 8:56 AM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840] [~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a] now that you’ve upgraded to 243.7 could you please confirm this issue is still happening and then please provide updated logs and an export of data so we can try to reproduce.,"12/Jun/25 9:41 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7231de4f-7f45-4625-80e8-dc1bbef34dac;Hi Nathan - I saw this issue on production this morning. For this $15 off $60 single-use code coupon, both codes give the $15 discount, but one shows the coupon savings and the other does not. I’m attaching screenshots of coupon codes DUM3H85F and DUM5EXB9.

[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:d5e5428e-8a5e-42cd-bcdd-471da7c31734] and team will add logs.

[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a] [~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:98694fb4-e549-42cc-8796-de40e24d36d0] ","12/Jun/25 9:42 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7231de4f-7f45-4625-80e8-dc1bbef34dac;!DUM3H85F.PNG|width=742,height=415,alt=""DUM3H85F.PNG""!



","12/Jun/25 9:42 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7231de4f-7f45-4625-80e8-dc1bbef34dac;

!DUM5EXB9.PNG|width=721,height=330,alt=""DUM5EXB9.PNG""!

","12/Jun/25 9:49 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b;UPE PODs log from today 

[^UPE_Pods_log_06122025.csv]

JMC Central Pod log from today 

[^Central_Pod_log_06122025.csv]

","12/Jun/25 10:30 AM;712020:e5b5ad7e-62d4-4865-986d-20a2966755ae;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b] I don’t see anything tied to those two coupon codes in the logs you shared. Let me know if there’s anything else you think might help narrow the search. 
[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7231de4f-7f45-4625-80e8-dc1bbef34dac] Is it consistently reproducible with the same one-time code, or does it occur randomly?","24/Jun/25 7:59 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:98694fb4-e549-42cc-8796-de40e24d36d0;[^ProdLogs_23-24June25.csv]

Hi Nathan, [~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:d5e5428e-8a5e-42cd-bcdd-471da7c31734] provided a log file for the promo. Please take a look and let us know if you need anything else.  

Here’s the name and coupons of the promo we tested yesterday:  Promo Id: DOWEBCPN625-22 and coupon codes: DUM5EXB9 (this code works) and DUM3H85F (this isnt working)",25/Jun/25 8:54 AM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:98694fb4-e549-42cc-8796-de40e24d36d0] can you please also provide the prm_* table data?,08/Jul/25 4:36 PM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:d5e5428e-8a5e-42cd-bcdd-471da7c31734] You could provide a store data extract if that is easier.,"09/Jul/25 6:39 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:d5e5428e-8a5e-42cd-bcdd-471da7c31734;[^JMC-617.zip]

Added prm_* table data","09/Jul/25 8:11 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:98694fb4-e549-42cc-8796-de40e24d36d0;Nathan and Mike, please check attached data and let us know if you need anything else. thanks","09/Jul/25 11:53 AM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:98694fb4-e549-42cc-8796-de40e24d36d0] 
Is it possible to generate 2 new codes for that DOWEBCPN625-22 promotion and then test to see if they have the same behavior? 
Then please provide the data from the prm_promo_code table ([~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:d5e5428e-8a5e-42cd-bcdd-471da7c31734]) where it should contain the old and new codes, this table was not included in the data dump provided earlier today.  There is a lot of noise and extra promos that have the same start dates so it is difficult to narrow this down and right now there is only one active.","10/Jul/25 9:34 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:98694fb4-e549-42cc-8796-de40e24d36d0;Nathan, ill need help from [~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f4268760-4d62-41e4-91ba-3d3b9be4c7a9]  and [~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7231de4f-7f45-4625-80e8-dc1bbef34dac]  to do this since this is in production.  Also does it matter if the promo ended already?


Then on promo data, the table contains approximately 358 million records and getting this could impact prod performance. if we can just search a specific set then that would be better. if so would that be searching via the promo codes? including the new ones if we can still add them

","10/Jul/25 10:03 AM;5c8fc1cd627d3b2d0163b7f1;According to the data you provided there is still one of these listed as active.  DOWEBCPN625-22-2
Start: ""2025-06-10 00:00:00""
End: ""2025-10-01 03:00:00""

Can you pull the data still from that table prm_promo_code?  You should be able to filter the results based on the promotion_id like ‘DOWEBCPN625-22%’","10/Jul/25 10:08 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7231de4f-7f45-4625-80e8-dc1bbef34dac;I’m not able to generate new codes from DOWEBCPN625-22, the system won't allow me to (I get the message: Spark Type Limit Exceeded). 

We have another active coupon with a similar setup, DOWEBCPN625-27 (20% off $50), and the same issue is happening. Both of these codes give the 20% discount once the $50 threshold is met, but *DZFMWI4O* shows that the discount applied, while *DZFIIHZO* does not.

!image-20250710-140430.png|width=960,height=455,alt=""image-20250710-140430.png""!

!image-20250710-140529.png|width=945,height=409,alt=""image-20250710-140529.png""!

[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:98694fb4-e549-42cc-8796-de40e24d36d0] [~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f4268760-4d62-41e4-91ba-3d3b9be4c7a9] ",11/Jul/25 10:59 AM;5c8fc1cd627d3b2d0163b7f1;Then can you please provide a couple promo_codes for this other coupon that trigger the same behavior?  (and the data in prm_promo_code now based on this new coupon mentioned)?,,,,,,,,,In Progress,27/Jan/25 4:35 AM
TPS - Returns not Going to Ayden ,JMCH-607,19723,Bug,Waiting for customer,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Nathan Richardson,5c8fc1cd627d3b2d0163b7f1,Gabrielle Capozzi,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e,Gabrielle Capozzi,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e,20/Jan/25 5:55 PM,25/Jun/25 2:40 PM,,,,0,,"We are having an issue with returns that we need help with please. 

We are noticing that there are returns being made at the point of sale, when the customer is in store all processed as intended - however- the return is never made back to Ayden. When we check the original transaction, the return is referencing, no return PSP is being created. In the database, we can see all the return information. The examples I've seen are typically tied to a BOPIS or order originating online, but there could potentially be others out there. 

 I can attempt to get logs from Logic if needed, but there is no guarantee they have them from these days. The examples I have the SQL ran to where we can see the returns being successful in the database are below: 

*select* * *from* sls_retail_line_item _srli_ *where* device_id = '0120-001' *and* sequence_number = 26984

*select* * *from* sls_retail_line_item _srli_ *where* device_id = *'0018-003'* *and* sequence_number = *'9725'*

*select * from sls_retail_line_item* *_srli_* *where device_id = '0063-003' and sequence_number = '18465'*",,Nathan Richardson,Scott Torbert,,,5c8fc1cd627d3b2d0163b7f1,712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83,,,,,,,,,,,,,,20/Jan/25 5:54 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;Return not In Ayden.zip;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20068,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@30807df9,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,The Paper Store,,,,,,,,,,,,1|i00p3j:,,Report a bug,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:996aa0a9-1d03-4d80-96b2-483addbeba32(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:996aa0a9-1d03-4d80-96b2-483addbeba32),,,,,,,,,,,,,,,,,,,,,,,,,,,63:44,,,,,,,,,2025-01-21 12:46:38.647,,20/Jan/25 5:55 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;[^Return not In Ayden.zip],"21/Jan/25 7:46 AM;5c8fc1cd627d3b2d0163b7f1;Just looking at the first example device 0120-001 sequence 26984 it all appears to have processed successfully.  Adyen even responded with a success message on the reversal.  If these are not showing in Adyen I’m not sure why they wouldn’t. 
See lines 4 - 6 below.

{noformat}2025-01-06 16:19:57.036 INFO  [0120-001:20250106:26984] [async-executor-task-1] [EndpointInvoker] IPaymentService.getReturnAmountAvailable()  
2025-01-06 16:19:57.045 INFO  [0120-001:20250106:26984] [async-executor-task-1] [AdyenReturnAuthEndpoint] Sending auth refund request to Adyen device 
2025-01-06 16:19:57.047 INFO  [0120-001:20250106:26984] [async-executor-task-1] [AbstractAdyenEndpoint] Terminal Address for the device: https://10.210.120.51 
2025-01-06 16:19:57.048 INFO  [0120-001:20250106:26984] [async-executor-task-1] [AbstractAdyenEndpoint] Request JSON: {""SaleToPOIRequest"":{""MessageHeader"":{""ProtocolVersion"":""3.0"",""MessageClass"":""Service"",""MessageCategory"":""Reversal"",""MessageType"":""Request"",""ServiceID"":""2777917435"",""SaleID"":""0120-001"",""POIID"":""M400-402015690""},""ReversalRequest"":{""OriginalPOITransaction"":{""POITransactionID"":{""TransactionID"":"".PQHPG57W3VDWQQF3"",""TimeStamp"":""2025-01-06T16:19:57.045-05:00""}},""ReversalReason"":""MerchantCancel"",""ReversedAmount"":10.78,""SaleData"":{""SaleTransactionID"":{""TransactionID"":""20250106012000126984"",""TimeStamp"":""2025-01-06T16:19:57.045-05:00""},""SaleToAcquirerData"":""ewogICJjdXJyZW5jeSI6ICJVU0QiLAogICJhcHBsaWNhdGlvbkluZm8iOiB7CiAgICAiYWR5ZW5MaWJyYXJ5IjogewogICAgICAibmFtZSI6ICJhZHllbi1qYXZhLWFwaS1saWJyYXJ5IiwKICAgICAgInZlcnNpb24iOiAiMTcuMy4wIgogICAgfQogIH0KfQ==""}}}} 
2025-01-06 16:19:58.832 INFO  [0120-001:20250106:26984] [async-executor-task-1] [AbstractAdyenEndpoint] Response JSON: {""SaleToPOIResponse"":{""MessageHeader"":{""ProtocolVersion"":""3.0"",""MessageClass"":""Service"",""MessageCategory"":""Reversal"",""MessageType"":""Response"",""ServiceID"":""2777917435"",""SaleID"":""0120-001"",""POIID"":""M400-402015690""},""ReversalResponse"":{""Response"":{""AdditionalResponse"":""eyJhZGRpdGlvbmFsRGF0YSI6eyJnaWZ0Y2FyZEluZGljYXRvciI6ImZhbHNlIiwiaXNvODYwMVR4RGF0ZSI6IjIwMjUtMDEtMDZUMjE6MTk6NTcuMjY3WiIsIm1lcmNoYW50UmVmZXJlbmNlIjoiMjAyNTAxMDYwMTIwMDAxMjY5ODQiLCJwb3NBbW91bnRDYXNoYmFja1ZhbHVlIjoiMCIsInBvc0Ftb3VudEdyYXR1aXR5VmFsdWUiOiIwIiwicG9zQXV0aEFtb3VudEN1cnJlbmN5IjoiVVNEIiwicG9zQXV0aEFtb3VudFZhbHVlIjoiMTA3OCIsInBvc09yaWdpbmFsQW1vdW50VmFsdWUiOiIwIiwicG9zYWRkaXRpb25hbGFtb3VudHMub3JpZ2luYWxBbW91bnRDdXJyZW5jeSI6IlVTRCIsInBvc2FkZGl0aW9uYWxhbW91bnRzLm9yaWdpbmFsQW1vdW50VmFsdWUiOiIwIiwicHNwUmVmZXJlbmNlIjoiUEZaWEJONDNERDhEUjdHNiIsInRpZCI6Ijg4OTMyMDU2IiwidHJhbnNhY3Rpb25SZWZlcmVuY2VOdW1iZXIiOiJQRlpYQk40M0REOERSN0c2IiwidHJhbnNhY3Rpb25UeXBlIjoiR09PRFNfU0VSVklDRVMiLCJ0eGRhdGUiOiIwNi0wMS0yMDI1IiwidHh0aW1lIjoiMTY6MTk6NTcifSwic3RvcmUiOiIwMTIwIn0="",""Result"":""Success""},""POIData"":{""POITransactionID"":{""TransactionID"":""PFZXBN43DD8DR7G6"",""TimeStamp"":""2025-01-06T21:19:58.712Z""}},""PaymentReceipt"":[{""OutputContent"":{""OutputText"":[{""Text"":""name=The%20Paper%20Store&key=header1"",""CharacterStyle"":""Bold"",""EndOfLineFlag"":true},{""Text"":""key=header2"",""CharacterStyle"":""Bold"",""EndOfLineFlag"":true},{""Text"":""name=MERCHANT%20COPY&key=merchantTitle"",""CharacterStyle"":""Bold"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=Date&value=01%2f06%2f2025&key=txdate"",""EndOfLineFlag"":true},{""Text"":""name=Time&value=16%3a19%3a57&key=txtime"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=Entry%20mode&value=UNKNOWN&key=posEntryMode"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=TID&value=M400-402015690&key=tid"",""EndOfLineFlag"":true},{""Text"":""name=PTID&value=88932056&key=ptid"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=Tender&value=19I0001736198397049&key=txRef"",""EndOfLineFlag"":true},{""Text"":""name=Reference&value=20250106012000126984&key=mref"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=Type&value=GOODS_SERVICES&key=txtype"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=%2aREFUND%20REQUESTED%2a&key=void"",""CharacterStyle"":""Bold"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true}],""OutputFormat"":""Text""},""DocumentQualifier"":""CashierReceipt""},{""OutputContent"":{""OutputText"":[{""Text"":""name=The%20Paper%20Store&key=header1"",""CharacterStyle"":""Bold"",""EndOfLineFlag"":true},{""Text"":""key=header2"",""CharacterStyle"":""Bold"",""EndOfLineFlag"":true},{""Text"":""name=CARDHOLDER%20COPY&key=cardholderHeader"",""CharacterStyle"":""Bold"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=Date&value=01%2f06%2f2025&key=txdate"",""EndOfLineFlag"":true},{""Text"":""name=Time&value=16%3a19%3a57&key=txtime"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=Entry%20mode&value=UNKNOWN&key=posEntryMode"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=TID&value=M400-402015690&key=tid"",""EndOfLineFlag"":true},{""Text"":""name=PTID&value=88932056&key=ptid"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=Tender&value=19I0001736198397049&key=txRef"",""EndOfLineFlag"":true},{""Text"":""name=Reference&value=20250106012000126984&key=mref"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=Type&value=GOODS_SERVICES&key=txtype"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=%2aREFUND%20REQUESTED%2a&key=void"",""CharacterStyle"":""Bold"",""EndOfLineFlag"":true}],""OutputFormat"":""Text""},""DocumentQualifier"":""CustomerReceipt""}],""ReversedAmount"":10.78}}} 
2025-01-06 16:19:58.832 INFO  [0120-001:20250106:26984] [async-executor-task-1] [AdyenReturnAuthEndpoint] Got response from Adyen device 
2025-01-06 16:19:58.832 INFO  [0120-001:20250106:26984] [async-executor-task-1] [AdyenReturnAuthEndpoint] Response: SUCCESS 
...
2025-01-06 16:19:58.897 INFO  [0120-001-pay] [StateManagerThread66(M400:0120-001-pay)] [VirtualReceiptHelper] Attempting to display virtual receipt 
2025-01-06 16:19:58.898 INFO  [0120-001-pay] [StateManagerThread66(M400:0120-001-pay)] [EndpointInvoker] IPaymentService.displayVirtualReceipt()  
2025-01-06 16:19:58.898 INFO  [0120-001-pay] [StateManagerThread66(M400:0120-001-pay)] [AdyenDisplayVirtualReceiptEndpoint] Attempting to display Adyen Virtual Receipt 
2025-01-06 16:19:58.906 INFO  [0120-001-pay] [StateManagerThread66(M400:0120-001-pay)] [AbstractAdyenEndpoint] Terminal Address for the device: https://10.210.120.51 
2025-01-06 16:19:58.906 INFO  [0120-001-pay] [StateManagerThread66(M400:0120-001-pay)] [AbstractAdyenEndpoint] Request JSON: {""SaleToPOIRequest"":{""MessageHeader"":{""ProtocolVersion"":""3.0"",""MessageClass"":""Device"",""MessageCategory"":""Display"",""MessageType"":""Request"",""ServiceID"":""1736198398"",""SaleID"":""0120-001"",""POIID"":""M400-402015690""},""DisplayRequest"":{""DisplayOutput"":[{""OutputContent"":{""OutputXHTML"":""PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c2NyZWVuIG5hbWU9InZpcnR1YWxfcmVjZWlwdDAzLnhzbHQiPjxyZWNlaXB0PjxsaXN0LWhlYWRlcj5Zb3VyIGNhcnQ8L2xpc3QtaGVhZGVyPjxsaW5lcz48bGluZWl0ZW0+PGRlc2NyaXB0aW9uPioqIFNBTEVTICoqPC9kZXNjcmlwdGlvbj48L2xpbmVpdGVtPjxsaW5laXRlbT48Y291bnQ+LTI8L2NvdW50PjxkZXNjcmlwdGlvbj5LQVJNQS9CQUcvTUQvREFJU1k8L2Rlc2NyaXB0aW9uPjxhbW91bnQ+PGN1cnJlbmN5PiQ8L2N1cnJlbmN5Pjx2YWx1ZT4tOS45ODwvdmFsdWU+PC9hbW91bnQ+PC9saW5laXRlbT48bGluZWl0ZW0+PGRlc2NyaXB0aW9uPioqIFJFVFVSTlMgKio8L2Rlc2NyaXB0aW9uPjwvbGluZWl0ZW0+PGxpbmVpdGVtPjxjb3VudD4tMjwvY291bnQ+PGRlc2NyaXB0aW9uPktBUk1BL0JBRy9NRC9EQUlTWTwvZGVzY3JpcHRpb24+PC9saW5laXRlbT48bGluZWl0ZW0+PGRlc2NyaXB0aW9uPl9fX19fX19fX19fX19fX19fX19fPC9kZXNjcmlwdGlvbj48L2xpbmVpdGVtPjwvbGluZXM+PHN1YnRvdGFsPjxkZXNjcmlwdGlvbj5TdWJ0b3RhbDo8L2Rlc2NyaXB0aW9uPjxhbW91bnQ+PGN1cnJlbmN5PiQ8L2N1cnJlbmN5Pjx2YWx1ZT4tOS45ODwvdmFsdWU+PC9hbW91bnQ+PC9zdWJ0b3RhbD48dGF4Pjx0b3RhbGRpc2NvdW50PjxkZXNjcmlwdGlvbj5Ub3RhbCBkaXNjb3VudHM6PC9kZXNjcmlwdGlvbj48YW1vdW50PjxjdXJyZW5jeT4kPC9jdXJyZW5jeT48dmFsdWU+MC4wMDwvdmFsdWU+PC9hbW91bnQ+PC90b3RhbGRpc2NvdW50Pjx0YXh0b3RhbD48ZGVzY3JpcHRpb24+VG90YWwgdGF4OjwvZGVzY3JpcHRpb24+PGFtb3VudD48Y3VycmVuY3k+JDwvY3VycmVuY3k+PHZhbHVlPi0wLjgwPC92YWx1ZT48L2Ftb3VudD48L3RheHRvdGFsPjwvdGF4Pjx0b3RhbD48ZGVzY3JpcHRpb24+VG90YWw8L2Rlc2NyaXB0aW9uPjxhbW91bnQ+PGN1cnJlbmN5PiQ8L2N1cnJlbmN5Pjx2YWx1ZT4tMTAuNzg8L3ZhbHVlPjwvYW1vdW50PjwvdG90YWw+PC9yZWNlaXB0Pjwvc2NyZWVuPg=="",""OutputFormat"":""XHTML""},""Device"":""CustomerDisplay"",""InfoQualify"":""Display""}]}}} 
2025-01-06 16:19:58.914 INFO  [0120-001:20250106:26984] [StateManagerThread74(pos:0120-001)] [LoggingRequestInterceptor] ===========================request begin================================================ 
2025-01-06 16:19:58.914 INFO  [0120-001:20250106:26984] [StateManagerThread74(pos:0120-001)] [LoggingRequestInterceptor] URI         : https://jmc.azure.thepaperstore.com/rest/ordersmgmt/finalizeCreate 
2025-01-06 16:19:58.914 INFO  [0120-001:20250106:26984] [StateManagerThread74(pos:0120-001)] [LoggingRequestInterceptor] Method      : POST 
2025-01-06 16:19:58.914 INFO  [0120-001:20250106:26984] [StateManagerThread74(pos:0120-001)] [LoggingRequestInterceptor] Headers     : [Accept:""application/json"", X-API-Token:""MeL9Y5XaR6LyN95QKFrZeGj67nCmVM8B"", ClientContext-displaylocale:""en_US"", ClientContext-roundingmode:""HALF_EVEN"", ClientContext-version.tps:""1.3.232.0.8"", ClientContext-appid:""pos"", ClientContext-locale:""en_US"", ClientContext-businessunitid:""0120"", ClientContext-username:""26934"", ClientContext-brandid:""default"", ClientContext-timezoneoffset:""-05:00"", ClientContext-cleansession:""null"", ClientContext-devicemode:""default"", ClientContext-correlationid:""3cf80d9d-cba7-43e5-a999-4786bc3b60c2"", ClientContext-version:""232000008"", ClientContext-version.jmc:""232.0.8"", ClientContext-currencyid:""USD"", ClientContext-version.openpos-server-core-lib:""232.0.8"", ClientContext-deviceid:""0120-001"", ClientContext-devicetype:""?"", Content-Type:""application/json"", Content-Length:""17677""] 
2025-01-06 16:19:58.914 INFO  [0120-001:20250106:26984] [StateManagerThread74(pos:0120-001)] [LoggingRequestInterceptor] Request body: {""saleSession"":{""activeTransaction"":{""__transModelType"":""SALE_RETURN"",""createTime"":""2025-01-06T16:19:46.457"",""lastUpdateTime"":""2025-01-06T16:19:46.457"",""additionalFields"":{},""extensions"":{""org.jumpmind.pos.sales.model.TpsRetailTransModelExtension"":{""__extensionClass"":""org.jumpmind.pos.sales.model.TpsRetailTransModelExtension"",""hallmarkRewardsTenders"":[]}},""deviceId"":""0120-001"",""businessDate"":""20250106"",""sequenceNumber"":26984,""nextLineItemSequence"":10,""transStatus"":""IN_PROGRESS"",""transTypeCode"":""RETURN"",""transStatusCode"":""IN_PROGRESS"",""businessUnitId"":""0120"",""username"":""26934"",""beginTime"":""2025-01-06T16:19:46.464"",""endTime"":""2025-01-06T16:19:58.890"",""localOffset"":-18000000,""clientOffset"":-18000000,""trainingMode"":false,""sessionId"":""012000120250106264"",""tillId"":""0120-001"",""appId"":""pos"",""appVersion"":232000008,""rcptRtnTotal"":""USD -9.98"",""nonRcptRtnTotal"":""USD 0.00"",""rcptRtnCount"":2,""nonRcptRtnCount"":0,""ringElapsedTimeInSecs"":12,""tenderElapsedTimeInSecs"":0,""idleElapsedTimeInSecs"":0,""lockElapsedTimeInSecs"":0,""giftReceiptPrintType"":""NOT_CONFIGURED"",""retailLineItems"":[{""createTime"":""2025-01-06T16:19:46.467"",""createBy"":""0000"",""lastUpdateTime"":""2025-01-06T16:19:46.467"",""lastUpdateBy"":""0000"",""additionalFields"":{},""extensions"":{},""voided"":false,""entryMethodCode"":""SCANNED"",""orderLineNumber"":4,""orderId"":""3026039"",""lineItemType"":""STORE_SALE"",""inquiryMethodCode"":""TRANSACTION_SEARCH"",""taxSaleLineItems"":[{""createTime"":""2025-01-06T16:19:33.141"",""lastUpdateTime"":""2025-01-06T16:19:33.141"",""additionalFields"":{},""extensions"":{},""voided"":false,""rateRuleSequenceNumber"":0,""isoCurrencyCode"":""USD"",""taxHolidayIndicator"":false,""taxIncludedInPrice"":false,""taxLineSequenceNumber"":1,""moneyTaxAmount"":""USD -0.80"",""authorityId"":""1"",""overrideApplied"":false,""taxExempt"":false,""taxableAmount"":-9.980,""taxAmount"":-0.8000,""lineSequenceNumber"":1,""deviceId"":""0120-001"",""sequenceNumber"":26984,""businessDate"":""20250106""}],""priceModifiers"":[],""relatedItems"":[],""returnPolicy"":{""createTime"":""2024-01-10T07:41:36.796"",""createBy"":""system"",""lastUpdateTime"":""2024-01-10T07:41:36.796"",""lastUpdateBy"":""system"",""additionalFields"":{},""extensions"":{},""returnPolicyId"":""ordersreceipted"",""returnPolicyName"":""Returns Receipted"",""description"":""Returns Receipted"",""requiresAdditionalInfo"":false,""exchangeAllowed"":true,""sameTenderTypeAllowed"":true,""differentTenderTypeAllowed"":false,""merchCreditAllowed"":true,""rcptRtnTransCountLimit"":30,""nonRcptRtnTransCountLimit"":6,""rcptRtnItemCountLimit"":50,""nonRcptRtnItemCountLimit"":10,""rcptRtnRatioLimit"":0.300,""nonRcptRtnRatioLimit"":0.050,""transHistRefInDays"":60,""overrideAllowed"":true},""augments"":{},""reasonCodeGroupId"":""ReturnReasons"",""origSequenceNumber"":80092,""origBusinessDate"":""20250105"",""employeeDiscountAllowed"":true,""origUsername"":""0000"",""itemReturnable"":false,""reasonCode"":""23"",""isoCurrencyCode"":""USD"",""itemPriceOverridable"":true,""itemDiscountable"":true,""origBusinessUnitId"":""0994"",""quantityAvailForReturn"":0,""quantityModifiable"":false,""origLineSequenceNumber"":4,""additionalClassifiersAsList"":[],""tenderAuthMethodCode"":""PURCHASE_AUTH"",""taxIncludedInPrice"":false,""regularUnitPrice"":""USD -4.99"",""damageDiscountApplied"":false,""returnPolicyId"":""ordersreceipted"",""discountApplied"":false,""itemId"":""56252300005"",""giftReceipt"":false,""itemType"":""STOCK"",""itemReturned"":true,""origOrderId"":""3026039"",""couponAllowed"":false,""tenderGroup"":""IN_STORE"",""posItemId"":""56252300005"",""discountAmount"":""USD 0.00"",""extendedAmount"":""USD -9.98"",""actualUnitPrice"":""USD -4.99"",""itemTaxable"":true,""origDeviceId"":""0994-001"",""itemDescription"":""KARMA/BAG/MD/DAISY"",""taxAmount"":""USD -0.80"",""quantity"":-2,""priceOverride"":false,""extendedDiscountedAmount"":""USD -9.98"",""lineSequenceNumber"":1,""deviceId"":""0120-001"",""sequenceNumber"":26984,""businessDate"":""20250106""}],""orderPickupLineItems"":[],""cardLineItems"":[{""createTime"":""2025-01-06T16:19:58.862"",""lastUpdateTime"":""2025-01-06T16:19:58.862"",""additionalFields"":{},""extensions"":{},""brand"":""visa"",""cardName"":""visa"",""code"":""VISA_CREDIT"",""typeCode"":""CREDIT_CARD"",""maskedCardNumber"":""************3799"",""refLineSequenceNumber"":6,""lineSequenceNumber"":8,""deviceId"":""0120-001"",""sequenceNumber"":26984,""businessDate"":""20250106""}],""accountLineItems"":[],""taxGroupLineItems"":[{""createTime"":""2025-01-06T16:19:58.886"",""lastUpdateTime"":""2025-01-06T16:19:58.886"",""additionalFields"":{},""extensions"":{},""voided"":false,""isoCurrencyCode"":""USD"",""taxIncludedInPrice"":false,""moneyTaxAmount"":""USD -0.80"",""authorityId"":""1"",""returnTaxFlag"":true,""taxableAmount"":-9.980,""taxAmount"":-0.8000,""lineSequenceNumber"":10,""deviceId"":""0120-001"",""sequenceNumber"":26984,""businessDate"":""20250106""}],""returnEventLineItems"":[{""createTime"":""2025-01-06T16:19:46.516"",""lastUpdateTime"":""2025-01-06T16:19:46.516"",""additionalFields"":{},""extensions"":{},""voided"":false,""entryMethodCode"":""SCANNED"",""rtnEventTypeCode"":""RCPT_ADD"",""posItemId"":""56252300005"",""itemId"":""56252300005"",""origLineSequenceNumber"":4,""origSequenceNumber"":80092,""origBusinessDate"":""20250105"",""origDeviceId"":""0994-001"",""rtnPolicyId"":""ordersreceipted"",""lineSequenceNumber"":3,""deviceId"":""0120-001"",""sequenceNumber"":26984,""businessDate"":""20250106""}],""retailTransPriceModifiers"":[],""promoCodeLineItems"":[],""workQueueItems"":[{""createTime"":""2025-01-06T16:19:58.885"",""lastUpdateTime"":""2025-01-06T16:19:58.885"",""additionalFields"":{},""extensions"":{},""deviceId"":""0120-001"",""businessDate"":""20250106"",""sequenceNumber"":26984,""workerName"":""updateOriginalItems"",""installationId"":""0120"",""statusCode"":""OPEN"",""lineSequenceNumber"":9,""runCount"":0,""appId"":""pos"",""locale"":""en_US""}],""associatedTransList"":[],""transUserActions"":[],""recreateTransaction"":false,""itemCount"":2,""loyaltyRewardLineItems"":[],""invalidatedPromoCodeLineItems"":[],""earnedPromoCodeLineItems"":[],""unappliedPromoCodes"":[],""unappliedCoupons"":[],""allOrderMerchandiseLineItems"":[],""allOrderFeeLineItems"":[],""allOrderLineItems"":[],""allPickupLineItems"":[],""taxTotalForDisplay"":""USD -0.80"",""allTaxGroupLineItems"":[{""createTime"":""2025-01-06T16:19:58.886"",""lastUpdateTime"":""2025-01-06T16:19:58.886"",""additionalFields"":{},""extensions"":{},""voided"":false,""isoCurrencyCode"":""USD"",""taxIncludedInPrice"":false,""moneyTaxAmount"":""USD -0.80"",""authorityId"":""1"",""returnTaxFlag"":true,""taxableAmount"":-9.980,""taxAmount"":-0.8000,""lineSequenceNumber"":10,""deviceId"":""0120-001"",""sequenceNumber"":26984,""businessDate"":""20250106""}],""allRetailTransPriceModifiers"":[],""allPromoCodeLineItems"":[],""allReturnEventLineItems"":[{""createTime"":""2025-01-06T16:19:46.516"",""lastUpdateTime"":""2025-01-06T16:19:46.516"",""additionalFields"":{},""extensions"":{},""voided"":false,""entryMethodCode"":""SCANNED"",""rtnEventTypeCode"":""RCPT_ADD"",""posItemId"":""56252300005"",""itemId"":""56252300005"",""origLineSequenceNumber"":4,""origSequenceNumber"":80092,""origBusinessDate"":""20250105"",""origDeviceId"":""0994-001"",""rtnPolicyId"":""ordersreceipted"",""lineSequenceNumber"":3,""deviceId"":""0120-001"",""sequenceNumber"":26984,""businessDate"":""20250106""}],""totalsByTenderGroup"":{""IN_STORE"":{""total"":""USD -10.78"",""preTenderBalanceDue"":""USD -10.78"",""subtotal"":""USD -9.98"",""taxTotal"":""USD -0.80"",""discountTotal"":""USD 0.00"",""currentBalance"":""USD 0.00""}},""allLoyaltyRewardLineItems"":[],""tenderTypeCodes"":""CREDIT_CARD"",""voidableFlag"":false,""currentBalance"":""USD 0.00"",""isoCurrencyCode"":""USD"",""tenderBalanceCode"":""BALANCED"",""allRetailLineItems"":[{""createTime"":""2025-01-06T16:19:46.467"",""createBy"":""0000"",""lastUpdateTime"":""2025-01-06T16:19:46.467"",""lastUpdateBy"":""0000"",""additionalFields"":{},""extensions"":{},""voided"":false,""entryMethodCode"":""SCANNED"",""orderLineNumber"":4,""orderId"":""3026039"",""lineItemType"":""STORE_SALE"",""inquiryMethodCode"":""TRANSACTION_SEARCH"",""taxSaleLineItems"":[{""createTime"":""2025-01-06T16:19:33.141"",""lastUpdateTime"":""2025-01-06T16:19:33.141"",""additionalFields"":{},""extensions"":{},""voided"":false,""rateRuleSequenceNumber"":0,""isoCurrencyCode"":""USD"",""taxHolidayIndicator"":false,""taxIncludedInPrice"":false,""taxLineSequenceNumber"":1,""moneyTaxAmount"":""USD -0.80"",""authorityId"":""1"",""overrideApplied"":false,""taxExempt"":false,""taxableAmount"":-9.980,""taxAmount"":-0.8000,""lineSequenceNumber"":1,""deviceId"":""0120-001"",""sequenceNumber"":26984,""businessDate"":""20250106""}],""priceModifiers"":[],""relatedItems"":[],""returnPolicy"":{""createTime"":""2024-01-10T07:41:36.796"",""createBy"":""system"",""lastUpdateTime"":""2024-01-10T07:41:36.796"",""lastUpdateBy"":""system"",""additionalFields"":{},""extensions"":{},""returnPolicyId"":""ordersreceipted"",""returnPolicyName"":""Returns Receipted"",""description"":""Returns Receipted"",""requiresAdditionalInfo"":false,""exchangeAllowed"":true,""sameTenderTypeAllowed"":true,""differentTenderTypeAllowed"":false,""merchCreditAllowed"":true,""rcptRtnTransCountLimit"":30,""nonRcptRtnTransCountLimit"":6,""rcptRtnItemCountLimit"":50,""nonRcptRtnItemCountLimit"":10,""rcptRtnRatioLimit"":0.300,""nonRcptRtnRatioLimit"":0.050,""transHistRefInDays"":60,""overrideAllowed"":true},""augments"":{},""reasonCodeGroupId"":""ReturnReasons"",""origSequenceNumber"":80092,""origBusinessDate"":""20250105"",""employeeDiscountAllowed"":true,""origUsername"":""0000"",""itemReturnable"":false,""reasonCode"":""23"",""isoCurrencyCode"":""USD"",""itemPriceOverridable"":true,""itemDiscountable"":true,""origBusinessUnitId"":""0994"",""quantityAvailForReturn"":0,""quantityModifiable"":false,""origLineSequenceNumber"":4,""additionalClassifiersAsList"":[],""tenderAuthMethodCode"":""PURCHASE_AUTH"",""taxIncludedInPrice"":false,""regularUnitPrice"":""USD -4.99"",""damageDiscountApplied"":false,""returnPolicyId"":""ordersreceipted"",""discountApplied"":false,""itemId"":""56252300005"",""giftReceipt"":false,""itemType"":""STOCK"",""itemReturned"":true,""origOrderId"":""3026039"",""couponAllowed"":false,""tenderGroup"":""IN_STORE"",""posItemId"":""56252300005"",""discountAmount"":""USD 0.00"",""extendedAmount"":""USD -9.98"",""actualUnitPrice"":""USD -4.99"",""itemTaxable"":true,""origDeviceId"":""0994-001"",""itemDescription"":""KARMA/BAG/MD/DAISY"",""taxAmount"":""USD -0.80"",""quantity"":-2,""priceOverride"":false,""extendedDiscountedAmount"":""USD -9.98"",""lineSequenceNumber"":1,""deviceId"":""0120-001"",""sequenceNumber"":26984,""businessDate"":""20250106""}],""allEarnedPromoCodeLineItems"":[],""taxGeoCodeOrigin"":""BUSINESS_UNIT"",""preTenderBalanceDue"":""USD -10.78"",""redeemedPromoCodeLineItems"":[],""returnLineItems"":[{""createTime"":""2025-01-06T16:19:46.467"",""createBy"":""0000"",""lastUpdateTime"":""2025-01-06T16:19:46.467"",""lastUpdateBy"":""0000"",""additionalFields"":{},""extensions"":{},""voided"":false,""entryMethodCode"":""SCANNED"",""orderLineNumber"":4,""orderId"":""3026039"",""lineItemType"":""STORE_SALE"",""inquiryMethodCode"":""TRANSACTION_SEARCH"",""taxSaleLineItems"":[{""createTime"":""2025-01-06T16:19:33.141"",""lastUpdateTime"":""2025-01-06T16:19:33.141"",""additionalFields"":{},""extensions"":{},""voided"":false,""rateRuleSequenceNumber"":0,""isoCurrencyCode"":""USD"",""taxHolidayIndicator"":false,""taxIncludedInPrice"":false,""taxLineSequenceNumber"":1,""moneyTaxAmount"":""USD -0.80"",""authorityId"":""1"",""overrideApplied"":false,""taxExempt"":false,""taxableAmount"":-9.980,""taxAmount"":-0.8000,""lineSequenceNumber"":1,""deviceId"":""0120-001"",""sequenceNumber"":26984,""businessDate"":""20250106""}],""priceModifiers"":[],""relatedItems"":[],""returnPolicy"":{""createTime"":""2024-01-10T07:41:36.796"",""createBy"":""system"",""lastUpdateTime"":""2024-01-10T07:41:36.796"",""lastUpdateBy"":""system"",""additionalFields"":{},""extensions"":{},""returnPolicyId"":""ordersreceipted"",""returnPolicyName"":""Returns Receipted"",""description"":""Returns Receipted"",""requiresAdditionalInfo"":false,""exchangeAllowed"":true,""sameTenderTypeAllowed"":true,""differentTenderTypeAllowed"":false,""merchCreditAllowed"":true,""rcptRtnTransCountLimit"":30,""nonRcptRtnTransCountLimit"":6,""rcptRtnItemCountLimit"":50,""nonRcptRtnItemCountLimit"":10,""rcptRtnRatioLimit"":0.300,""nonRcptRtnRatioLimit"":0.050,""transHistRefInDays"":60,""overrideAllowed"":true},""augments"":{},""reasonCodeGroupId"":""ReturnReasons"",""origSequenceNumber"":80092,""origBusinessDate"":""20250105"",""employeeDiscountAllowed"":true,""origUsername"":""0000"",""itemReturnable"":false,""reasonCode"":""23"",""isoCurrencyCode"":""USD"",""itemPriceOverridable"":true,""itemDiscountable"":true,""origBusinessUnitId"":""0994"",""quantityAvailForReturn"":0,""quantityModifiable"":false,""origLineSequenceNumber"":4,""additionalClassifiersAsList"":[],""tenderAuthMethodCode"":""PURCHASE_AUTH"",""taxIncludedInPrice"":false,""regularUnitPrice"":""USD -4.99"",""damageDiscountApplied"":false,""returnPolicyId"":""ordersreceipted"",""discountApplied"":false,""itemId"":""56252300005"",""giftReceipt"":false,""itemType"":""STOCK"",""itemReturned"":true,""origOrderId"":""3026039"",""couponAllowed"":false,""tenderGroup"":""IN_STORE"",""posItemId"":""56252300005"",""discountAmount"":""USD 0.00"",""extendedAmount"":""USD -9.98"",""actualUnitPrice"":""USD -4.99"",""itemTaxable"":true,""origDeviceId"":""0994-001"",""itemDescription"":""KARMA/BAG/MD/DAISY"",""taxAmount"":""USD -0.80"",""quantity"":-2,""priceOverride"":false,""extendedDiscountedAmount"":""USD -9.98"",""lineSequenceNumber"":1,""deviceId"":""0120-001"",""sequenceNumber"":26984,""businessDate"":""20250106""}],""discountTotal"":""USD 0.00"",""subtotal"":""USD -9.98"",""lineItemCount"":1,""taxTotal"":""USD -0.80"",""total"":""USD -10.78"",""stockOrderLineItems"":[],""allRedeemedPromoCodeLineItems"":[],""allInStoreLineItems"":[{""createTime"":""2025-01-06T16:19:46.467"",""createBy"":""0000"",""lastUpdateTime"":""2025-01-06T16:19:46.467"",""lastUpdateBy"":""0000"",""additionalFields"":{},""extensions"":{},""voided"":false,""entryMethodCode"":""SCANNED"",""orderLineNumber"":4,""orderId"":""3026039"",""lineItemType"":""STORE_SALE"",""inquiryMethodCode"":""TRANSACTION_SEARCH"",""taxSaleLineItems"":[{""createTime"":""2025-01-06T16:19:33.141"",""lastUpdateTime"":""2025-01-06T16:19:33.141"",""additionalFields"":{},""extensions"":{},""voided"":false,""rateRuleSequenceNumber"":0,""isoCurrencyCode"":""USD"",""taxHolidayIndicator"":false,""taxIncludedInPrice"":false,""taxLineSequenceNumber"":1,""moneyTaxAmount"":""USD -0.80"",""authorityId"":""1"",""overrideApplied"":false,""taxExempt"":false,""taxableAmount"":-9.980,""taxAmount"":-0.8000,""lineSequenceNumber"":1,""deviceId"":""0120-001"",""sequenceNumber"":26984,""businessDate"":""20250106""}],""priceModifiers"":[],""relatedItems"":[],""returnPolicy"":{""createTime"":""2024-01-10T07:41:36.796"",""createBy"":""system"",""lastUpdateTime"":""2024-01-10T07:41:36.796"",""lastUpdateBy"":""system"",""additionalFields"":{},""extensions"":{},""returnPolicyId"":""ordersreceipted"",""returnPolicyName"":""Returns Receipted"",""description"":""Returns Receipted"",""requiresAdditionalInfo"":false,""exchangeAllowed"":true,""sameTenderTypeAllowed"":true,""differentTenderTypeAllowed"":false,""merchCreditAllowed"":true,""rcptRtnTransCountLimit"":30,""nonRcptRtnTransCountLimit"":6,""rcptRtnItemCountLimit"":50,""nonRcptRtnItemCountLimit"":10,""rcptRtnRatioLimit"":0.300,""nonRcptRtnRatioLimit"":0.050,""transHistRefInDays"":60,""overrideAllowed"":true},""augments"":{},""reasonCodeGroupId"":""ReturnReasons"",""origSequenceNumber"":80092,""origBusinessDate"":""20250105"",""employeeDiscountAllowed"":true,""origUsername"":""0000"",""itemReturnable"":false,""reasonCode"":""23"",""isoCurrencyCode"":""USD"",""itemPriceOverridable"":true,""itemDiscountable"":true,""origBusinessUnitId"":""0994"",""quantityAvailForReturn"":0,""quantityModifiable"":false,""origLineSequenceNumber"":4,""additionalClassifiersAsList"":[],""tenderAuthMethodCode"":""PURCHASE_AUTH"",""taxIncludedInPrice"":false,""regularUnitPrice"":""USD -4.99"",""damageDiscountApplied"":false,""returnPolicyId"":""ordersreceipted"",""discountApplied"":false,""itemId"":""56252300005"",""giftReceipt"":false,""itemType"":""STOCK"",""itemReturned"":true,""origOrderId"":""3026039"",""couponAllowed"":false,""tenderGroup"":""IN_STORE"",""posItemId"":""56252300005"",""discountAmount"":""USD 0.00"",""extendedAmount"":""USD -9.98"",""actualUnitPrice"":""USD -4.99"",""itemTaxable"":true,""origDeviceId"":""0994-001"",""itemDescription"":""KARMA/BAG/MD/DAISY"",""taxAmount"":""USD -0.80"",""quantity"":-2,""priceOverride"":false,""extendedDiscountedAmount"":""USD -9.98"",""lineSequenceNumber"":1,""deviceId"":""0120-001"",""sequenceNumber"":26984,""businessDate"":""20250106""}],""completedOrderTrans"":false,""tenderLineItems"":[{""createTime"":""2025-01-06T16:19:58.862"",""lastUpdateTime"":""2025-01-06T16:19:58.862"",""additionalFields"":{},""extensions"":{},""voided"":false,""postVoid"":false,""originalTenderAmount"":""USD -10.78"",""partiallyApproved"":false,""overtendered"":false,""changeFlag"":false,""exchangeRate"":1,""tenderCode"":""VISA_CREDIT"",""isoCurrencyCode"":""USD"",""tenderAuthMethodCode"":""NONE"",""originalIsoCurrencyCode"":""USD"",""tenderCurrencyCode"":""USD"",""tenderAmount"":""USD -10.78"",""tenderGroup"":""IN_STORE"",""foreignCurrency"":false,""tenderTypeCode"":""CREDIT_CARD"",""tenderModel"":{""createTime"":""2024-02-06T14:36:01.883"",""createBy"":""system"",""lastUpdateTime"":""2024-02-06T14:36:01.883"",""lastUpdateBy"":""system"",""additionalFields"":{},""extensions"":{},""tenderCode"":""VISA_CREDIT"",""tenderTypeCode"":""CREDIT_CARD"",""isoCurrencyCode"":""USD"",""description"":""Visa Credit Card"",""cashDrawerOpenRequired"":false,""tillUnitCountRequired"":false,""tillAmountCountRequired"":false,""returnTenderTypeCode"":""CREDIT_CARD""},""lineSequenceNumber"":6,""deviceId"":""0120-001"",""sequenceNumber"":26984,""businessDate"":""20250106""}],""authLineItems"":[{""createTime"":""2025-01-06T16:19:58.862"",""lastUpdateTime"":""2025-01-06T16:19:58.862"",""additionalFields"":{},""extensions"":{},""refLineSequenceNumber"":6,""cardLineSequenceNumber"":8,""voided"":false,""postVoid"":false,""referencedReturn"":false,""authorizedAmount"":""USD -10.78"",""lineSequenceNumber"":7,""resultCode"":""OK"",""requestedAmount"":""USD -10.78"",""isoCurrencyCode"":""USD"",""authTypeCode"":""REFUND"",""authMethodCode"":""CARD_TERMINAL"",""paymentToken"":""PQHPG57W3VDWQQF3"",""sessionData"":""PFZXBN43DD8DR7G6"",""stan"":""19I0001736198397049"",""authTime"":""2025-01-06T16:19:58.832"",""merchantRef"":""20250106012000126984"",""deviceId"":""0120-001"",""sequenceNumber"":26984,""businessDate"":""20250106"",""emvData"":{},""terminalId"":""402015690""}],""transType"":""RETURN""},""storeOrderTemplate"":{""status"":""Order Creation"",""templateDeliveryGroup"":{""name"":""default"",""orderTypeCode"":""STORE_ORDER"",""orderLines"":[],""orderTaxGroupLineItems"":[],""shippingLineSequenceNumbers"":[]},""deliveryGroups"":[]},""retailLineItemToSubscriptionAccount"":{}}} 
2025-01-06 16:19:58.914 INFO  [0120-001:20250106:26984] [StateManagerThread74(pos:0120-001)] [LoggingRequestInterceptor] ==========================request end================================================ 
2025-01-06 16:19:59.083 INFO  [0120-001-pay] [StateManagerThread66(M400:0120-001-pay)] [AbstractAdyenEndpoint] Response JSON: {""SaleToPOIResponse"":{""MessageHeader"":{""ProtocolVersion"":""3.0"",""MessageClass"":""Device"",""MessageCategory"":""Display"",""MessageType"":""Response"",""ServiceID"":""1736198398"",""SaleID"":""0120-001"",""POIID"":""M400-402015690""},""DisplayResponse"":{""OutputResult"":[{""Response"":{""Result"":""Success""},""Device"":""CustomerDisplay"",""InfoQualify"":""Display""}]}}} 
2025-01-06 16:19:59.084 INFO  [0120-001-pay] [StateManagerThread66(M400:0120-001-pay)] [VirtualReceiptHelper] Response status indicated virtual receipt was successfully displayed. 
{noformat}



I will try to search the logs for the other transactions you mentioned but there is no error from JMC side.","21/Jan/25 7:58 AM;5c8fc1cd627d3b2d0163b7f1;Same thing for transaction 9725.  Looks like it is something happening on Adyen side

{noformat}2024-11-30 17:59:31.670 INFO  [0018-003:20241130:9725] [async-executor-task-1] [EndpointInvoker] IPaymentService.getReturnAmountAvailable()  
2024-11-30 17:59:31.675 INFO  [0018-003:20241130:9725] [async-executor-task-1] [AdyenReturnAuthEndpoint] Sending auth refund request to Adyen device 
2024-11-30 17:59:31.676 INFO  [0018-003:20241130:9725] [async-executor-task-1] [AbstractAdyenEndpoint] Terminal Address for the device: https://10.210.18.53 
2024-11-30 17:59:31.677 INFO  [0018-003:20241130:9725] [async-executor-task-1] [AbstractAdyenEndpoint] Request JSON: {""SaleToPOIRequest"":{""MessageHeader"":{""ProtocolVersion"":""3.0"",""MessageClass"":""Service"",""MessageCategory"":""Reversal"",""MessageType"":""Request"",""ServiceID"":""6932030286"",""SaleID"":""0018-003"",""POIID"":""M400-402001933""},""ReversalRequest"":{""OriginalPOITransaction"":{""POITransactionID"":{""TransactionID"":"".GXRT282SD6CJBLX3"",""TimeStamp"":""2024-11-30T17:59:31.674-05:00""}},""ReversalReason"":""MerchantCancel"",""ReversedAmount"":39.98,""SaleData"":{""SaleTransactionID"":{""TransactionID"":""2024113000180039725"",""TimeStamp"":""2024-11-30T17:59:31.675-05:00""},""SaleToAcquirerData"":""ewogICJjdXJyZW5jeSI6ICJVU0QiLAogICJhcHBsaWNhdGlvbkluZm8iOiB7CiAgICAiYWR5ZW5MaWJyYXJ5IjogewogICAgICAibmFtZSI6ICJhZHllbi1qYXZhLWFwaS1saWJyYXJ5IiwKICAgICAgInZlcnNpb24iOiAiMTcuMy4wIgogICAgfQogIH0KfQ==""}}}} 
2024-11-30 17:59:33.432 INFO  [0018-003:20241130:9725] [async-executor-task-1] [AbstractAdyenEndpoint] Response JSON: {""SaleToPOIResponse"":{""MessageHeader"":{""ProtocolVersion"":""3.0"",""MessageClass"":""Service"",""MessageCategory"":""Reversal"",""MessageType"":""Response"",""ServiceID"":""6932030286"",""SaleID"":""0018-003"",""POIID"":""M400-402001933""},""ReversalResponse"":{""Response"":{""AdditionalResponse"":""eyJhZGRpdGlvbmFsRGF0YSI6eyJnaWZ0Y2FyZEluZGljYXRvciI6ImZhbHNlIiwiaXNvODYwMVR4RGF0ZSI6IjIwMjQtMTEtMzBUMjI6NTk6MzEuNjMzWiIsIm1lcmNoYW50UmVmZXJlbmNlIjoiMjAyNDExMzAwMDE4MDAzOTcyNSIsInBvc0Ftb3VudENhc2hiYWNrVmFsdWUiOiIwIiwicG9zQW1vdW50R3JhdHVpdHlWYWx1ZSI6IjAiLCJwb3NBdXRoQW1vdW50Q3VycmVuY3kiOiJVU0QiLCJwb3NBdXRoQW1vdW50VmFsdWUiOiIzOTk4IiwicG9zT3JpZ2luYWxBbW91bnRWYWx1ZSI6IjAiLCJwb3NhZGRpdGlvbmFsYW1vdW50cy5vcmlnaW5hbEFtb3VudEN1cnJlbmN5IjoiVVNEIiwicG9zYWRkaXRpb25hbGFtb3VudHMub3JpZ2luYWxBbW91bnRWYWx1ZSI6IjAiLCJwc3BSZWZlcmVuY2UiOiJKMlozUUtUTFNCREszVlgzIiwidGlkIjoiODg5MjQ4NjQiLCJ0cmFuc2FjdGlvblJlZmVyZW5jZU51bWJlciI6IkoyWjNRS1RMU0JESzNWWDMiLCJ0cmFuc2FjdGlvblR5cGUiOiJHT09EU19TRVJWSUNFUyIsInR4ZGF0ZSI6IjMwLTExLTIwMjQiLCJ0eHRpbWUiOiIxNzo1OTozMSJ9LCJzdG9yZSI6IjAwMTgifQ=="",""Result"":""Success""},""POIData"":{""POITransactionID"":{""TransactionID"":""J2Z3QKTLSBDK3VX3"",""TimeStamp"":""2024-11-30T22:59:33.028Z""}},""PaymentReceipt"":[{""OutputContent"":{""OutputText"":[{""Text"":""name=The%20Paper%20Store&key=header1"",""CharacterStyle"":""Bold"",""EndOfLineFlag"":true},{""Text"":""key=header2"",""CharacterStyle"":""Bold"",""EndOfLineFlag"":true},{""Text"":""name=MERCHANT%20COPY&key=merchantTitle"",""CharacterStyle"":""Bold"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=Date&value=11%2f30%2f2024&key=txdate"",""EndOfLineFlag"":true},{""Text"":""name=Time&value=17%3a59%3a31&key=txtime"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=Entry%20mode&value=UNKNOWN&key=posEntryMode"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=TID&value=M400-402001933&key=tid"",""EndOfLineFlag"":true},{""Text"":""name=PTID&value=88924864&key=ptid"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=Tender&value=17Q0001733007571081&key=txRef"",""EndOfLineFlag"":true},{""Text"":""name=Reference&value=2024113000180039725&key=mref"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=Type&value=GOODS_SERVICES&key=txtype"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=%2aREFUND%20REQUESTED%2a&key=void"",""CharacterStyle"":""Bold"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true}],""OutputFormat"":""Text""},""DocumentQualifier"":""CashierReceipt""},{""OutputContent"":{""OutputText"":[{""Text"":""name=The%20Paper%20Store&key=header1"",""CharacterStyle"":""Bold"",""EndOfLineFlag"":true},{""Text"":""key=header2"",""CharacterStyle"":""Bold"",""EndOfLineFlag"":true},{""Text"":""name=CARDHOLDER%20COPY&key=cardholderHeader"",""CharacterStyle"":""Bold"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=Date&value=11%2f30%2f2024&key=txdate"",""EndOfLineFlag"":true},{""Text"":""name=Time&value=17%3a59%3a31&key=txtime"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=Entry%20mode&value=UNKNOWN&key=posEntryMode"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=TID&value=M400-402001933&key=tid"",""EndOfLineFlag"":true},{""Text"":""name=PTID&value=88924864&key=ptid"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=Tender&value=17Q0001733007571081&key=txRef"",""EndOfLineFlag"":true},{""Text"":""name=Reference&value=2024113000180039725&key=mref"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=Type&value=GOODS_SERVICES&key=txtype"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=%2aREFUND%20REQUESTED%2a&key=void"",""CharacterStyle"":""Bold"",""EndOfLineFlag"":true}],""OutputFormat"":""Text""},""DocumentQualifier"":""CustomerReceipt""}],""ReversedAmount"":39.98}}} 
2024-11-30 17:59:33.432 INFO  [0018-003:20241130:9725] [async-executor-task-1] [AdyenReturnAuthEndpoint] Got response from Adyen device 
2024-11-30 17:59:33.432 INFO  [0018-003:20241130:9725] [async-executor-task-1] [AdyenReturnAuthEndpoint] Response: SUCCESS 
{noformat}

And for 18465 same thing

{noformat}2025-01-06 10:35:52.310 INFO  [0063-003:20250106:18465] [async-executor-task-1] [EndpointInvoker] IPaymentService.returnAuth()  
2025-01-06 10:35:52.311 INFO  [0063-003:20250106:18465] [async-executor-task-1] [EndpointInvoker] IPaymentService.getReturnAmountAvailable()  
2025-01-06 10:35:52.313 INFO  [0063-003:20250106:18465] [async-executor-task-1] [AdyenReturnAuthEndpoint] Sending auth refund request to Adyen device 
2025-01-06 10:35:52.314 INFO  [0063-003:20250106:18465] [async-executor-task-1] [AbstractAdyenEndpoint] Terminal Address for the device: https://10.210.63.53 
2025-01-06 10:35:52.315 INFO  [0063-003:20250106:18465] [async-executor-task-1] [AbstractAdyenEndpoint] Request JSON: {""SaleToPOIRequest"":{""MessageHeader"":{""ProtocolVersion"":""3.0"",""MessageClass"":""Service"",""MessageCategory"":""Reversal"",""MessageType"":""Request"",""ServiceID"":""7465564334"",""SaleID"":""0063-003"",""POIID"":""M400-402001811""},""ReversalRequest"":{""OriginalPOITransaction"":{""POITransactionID"":{""TransactionID"":"".S3453CLK69SR5GF3"",""TimeStamp"":""2025-01-06T10:35:52.313-05:00""}},""ReversalReason"":""MerchantCancel"",""ReversedAmount"":159.38,""SaleData"":{""SaleTransactionID"":{""TransactionID"":""20250106006300318465"",""TimeStamp"":""2025-01-06T10:35:52.313-05:00""},""SaleToAcquirerData"":""ewogICJjdXJyZW5jeSI6ICJVU0QiLAogICJhcHBsaWNhdGlvbkluZm8iOiB7CiAgICAiYWR5ZW5MaWJyYXJ5IjogewogICAgICAibmFtZSI6ICJhZHllbi1qYXZhLWFwaS1saWJyYXJ5IiwKICAgICAgInZlcnNpb24iOiAiMTcuMy4wIgogICAgfQogIH0KfQ==""}}}} 
2025-01-06 10:35:54.080 INFO  [0063-003:20250106:18465] [async-executor-task-1] [AbstractAdyenEndpoint] Response JSON: {""SaleToPOIResponse"":{""MessageHeader"":{""ProtocolVersion"":""3.0"",""MessageClass"":""Service"",""MessageCategory"":""Reversal"",""MessageType"":""Response"",""ServiceID"":""7465564334"",""SaleID"":""0063-003"",""POIID"":""M400-402001811""},""ReversalResponse"":{""Response"":{""AdditionalResponse"":""eyJhZGRpdGlvbmFsRGF0YSI6eyJnaWZ0Y2FyZEluZGljYXRvciI6ImZhbHNlIiwiaXNvODYwMVR4RGF0ZSI6IjIwMjUtMDEtMDZUMTU6MzU6NTEuNDg2WiIsIm1lcmNoYW50UmVmZXJlbmNlIjoiMjAyNTAxMDYwMDYzMDAzMTg0NjUiLCJwb3NBbW91bnRDYXNoYmFja1ZhbHVlIjoiMCIsInBvc0Ftb3VudEdyYXR1aXR5VmFsdWUiOiIwIiwicG9zQXV0aEFtb3VudEN1cnJlbmN5IjoiVVNEIiwicG9zQXV0aEFtb3VudFZhbHVlIjoiMTU5MzgiLCJwb3NPcmlnaW5hbEFtb3VudFZhbHVlIjoiMCIsInBvc2FkZGl0aW9uYWxhbW91bnRzLm9yaWdpbmFsQW1vdW50Q3VycmVuY3kiOiJVU0QiLCJwb3NhZGRpdGlvbmFsYW1vdW50cy5vcmlnaW5hbEFtb3VudFZhbHVlIjoiMCIsInBzcFJlZmVyZW5jZSI6IkQ5R1BCMkhaWFNDQjc1RjYiLCJ0aWQiOiI4ODkyNDcyMyIsInRyYW5zYWN0aW9uUmVmZXJlbmNlTnVtYmVyIjoiRDlHUEIySFpYU0NCNzVGNiIsInRyYW5zYWN0aW9uVHlwZSI6IkdPT0RTX1NFUlZJQ0VTIiwidHhkYXRlIjoiMDYtMDEtMjAyNSIsInR4dGltZSI6IjEwOjM1OjUxIn0sInN0b3JlIjoiMDA2MyJ9"",""Result"":""Success""},""POIData"":{""POITransactionID"":{""TransactionID"":""D9GPB2HZXSCB75F6"",""TimeStamp"":""2025-01-06T15:35:52.936Z""}},""PaymentReceipt"":[{""OutputContent"":{""OutputText"":[{""Text"":""name=The%20Paper%20Store&key=header1"",""CharacterStyle"":""Bold"",""EndOfLineFlag"":true},{""Text"":""key=header2"",""CharacterStyle"":""Bold"",""EndOfLineFlag"":true},{""Text"":""name=MERCHANT%20COPY&key=merchantTitle"",""CharacterStyle"":""Bold"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=Date&value=01%2f06%2f2025&key=txdate"",""EndOfLineFlag"":true},{""Text"":""name=Time&value=10%3a35%3a51&key=txtime"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=Entry%20mode&value=UNKNOWN&key=posEntryMode"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=TID&value=M400-402001811&key=tid"",""EndOfLineFlag"":true},{""Text"":""name=PTID&value=88924723&key=ptid"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=Tender&value=17Nj001736177751001&key=txRef"",""EndOfLineFlag"":true},{""Text"":""name=Reference&value=20250106006300318465&key=mref"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=Type&value=GOODS_SERVICES&key=txtype"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=%2aREFUND%20REQUESTED%2a&key=void"",""CharacterStyle"":""Bold"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true}],""OutputFormat"":""Text""},""DocumentQualifier"":""CashierReceipt""},{""OutputContent"":{""OutputText"":[{""Text"":""name=The%20Paper%20Store&key=header1"",""CharacterStyle"":""Bold"",""EndOfLineFlag"":true},{""Text"":""key=header2"",""CharacterStyle"":""Bold"",""EndOfLineFlag"":true},{""Text"":""name=CARDHOLDER%20COPY&key=cardholderHeader"",""CharacterStyle"":""Bold"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=Date&value=01%2f06%2f2025&key=txdate"",""EndOfLineFlag"":true},{""Text"":""name=Time&value=10%3a35%3a51&key=txtime"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=Entry%20mode&value=UNKNOWN&key=posEntryMode"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=TID&value=M400-402001811&key=tid"",""EndOfLineFlag"":true},{""Text"":""name=PTID&value=88924723&key=ptid"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=Tender&value=17Nj001736177751001&key=txRef"",""EndOfLineFlag"":true},{""Text"":""name=Reference&value=20250106006300318465&key=mref"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=Type&value=GOODS_SERVICES&key=txtype"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""key=filler"",""EndOfLineFlag"":true},{""Text"":""name=%2aREFUND%20REQUESTED%2a&key=void"",""CharacterStyle"":""Bold"",""EndOfLineFlag"":true}],""OutputFormat"":""Text""},""DocumentQualifier"":""CustomerReceipt""}],""ReversedAmount"":159.38}}} 
2025-01-06 10:35:54.080 INFO  [0063-003:20250106:18465] [async-executor-task-1] [AdyenReturnAuthEndpoint] Got response from Adyen device 
2025-01-06 10:35:54.080 INFO  [0063-003:20250106:18465] [async-executor-task-1] [AdyenReturnAuthEndpoint] Response: SUCCESS 
{noformat}",23/Jan/25 10:46 AM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e] were you able to find out anything from Adyen on this as it doesn’t appear to be an issue on the JMC side?  Is it okay to close this ticket?,"23/Jan/25 11:07 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;Hey Nathan, 

Here is what we received from Ayden: 

Hello team,

 

Thank you for reaching out to Support. 

 

The first thing I notice is that your refund requests look like a POS refund request but PSPs *GXRT282SD6CJBLX3* and *S3453CLK69SR5GF3* were e-com transactions. 

 

For example, the request has field ""POIID"":""M400-402001811"" which is usually the terminal serial ID that the original transaction was done on. Did you initiate this refund through your POS system? Is it possible you mixed up templates and sent a POS refund request instead of an ecom one? Have other ecom refunds worked this way?

 

This may have caused a mismatch in data and an error. For example, the system tried to look for a PSP *GXRT282SD6CJBLX3* that was done on terminal M400-402001811 and it could not find a match since this transaction was e-com and it silently failed.

 

For comparison, this is a *sample Ecom refund*:

 

{noformat}curl https://checkout-test.adyen.com/checkout/v68/payments/XB7XNCQ8HXSKGK82/refunds \
-H 'x-api-key: ADYEN_API_KEY' \
-H 'Content-Type: application/json' \
-d '{
    ""merchantAccount"": ""YOUR_MERCHANT_ACCOUNT"",
    ""amount"": {
        ""value"": 2500,
        ""currency"": ""EUR""
    },
    ""reference"": ""YOUR_UNIQUE_REFERENCE""
}{noformat}

 

This is a *sample POS refund*: 

 

{noformat}{
    ""SaleToPOIRequest"":{
        ""MessageHeader"":{
            ""ProtocolVersion"":""3.0"",
            ""MessageClass"":""Service"",
            ""MessageCategory"":""Reversal"",
            ""MessageType"":""Request"",
            ""SaleID"":""POSSystemID12345"",
            ""ServiceID"":""0207111105"",
            ""POIID"":""V400m-324688179""
        },
        ""ReversalRequest"":{
            ""OriginalPOITransaction"":{
                ""POITransactionID"":{
                    ""TransactionID"":""BV0q001643892070000.VK9DRSLLRCQ2WN82"",
                    ""TimeStamp"":""2022-01-31T12:08:45.004Z""
                }
            },
            ""ReversalReason"":""MerchantCancel""
        }
    }
}{noformat}

 

The other thing I notice is that the time you submitted the first refund request and the time it was captured was close to the same time. Generally if you try to refund a payment that has not been captured yet, it won't work. PSP *GXRT282SD6CJBLX3*'s  refund request was ""TimeStamp"":""2024-11-30T17:59:31"" (I assume this was EST?) and it looks like it had multiple captures starting Nov 30, 2024, 20:01:49 EST.

 

It is possible the transaction may not have been captured when you tried a refund, so there was no balance yet to refund.

 

 





Kind regards,

Rowan
Technical Support Engineer
Adyen Technical Support

I have a responce back to the Ayden team to check - but after we looked at these again the capture of funds appears to have happened AFTER the return attempt. 

Should Jumpmind/Ayden be allowing as return to happen on a transaction where funds are only authorized and not fully captured? Is this something where Jumpmind should be throwing a message saying it cannot return funds to card as they have not bene fully captured?

","24/Jan/25 11:23 AM;5c8fc1cd627d3b2d0163b7f1;I don’t really understand your question:
_Should Jumpmind/Ayden be allowing as return to happen on a transaction where funds are only authorized and not fully captured? Is this something where Jumpmind should be throwing a message saying it cannot return funds to card as they have not bene fully captured?_

Specifically for the 26984 transaction, the logs show that JMC determined the refund available (per the transaction details), the original was for $43.66 and the return was $10.78.  The request for reversal was sent to Adyen for the 10.78 which was approved.  The original trans was from the day before so it didn’t happen right after so I’m not sure what Adyen is referring to.
What do you mean ‘funds only authorized and not fully captured’?  Is ‘fully captured’ because it is in limbo with the credit card company still, like on my personal charges I can see recent charges in a pending state?  If so, I don’t know how we’d ever know that.  Thinking basic about this, we submit to Adyen if we can do a return for an amount on a  card and they tell us it is ok.  Not sure what more there is.

Is Adyen implying or saying we can’t/shouldn’t send a reversal if they haven’t completed the original?","28/Jan/25 9:49 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;_What do you mean ‘funds only authorized and not fully captured’? Is ‘fully captured’ because it is in limbo with the credit card company still, like on my personal charges I can see recent charges in a pending state? If so, I don’t know how we’d ever know that. Thinking basic about this, we submit to Adyen if we can do a return for an amount on a card and they tell us it is ok. Not sure what more there is._

* This is exalt right, the funds were only authorized on the payments rather than fully collected off the cards. To customers, most oof the time this looks as a “pending” charge on their form of payment. I believe the root of this issue is due to the fact that a return attempt was sent and as you mentioned approved by Ayden, but in the background later on Ayden realized we never actually captured any funds so it cancelled. Then, after than, the fund were eventually captured and the customer sees it as just a charge and no return after the fact. I need to work with Ayden more it sounds like on these scenarios, and need to understand if Ayden should be sending an approval to Jumpmind, since it really shouldn’t be approved.

_Is Adyen implying or saying we can’t/shouldn’t send a reversal if they haven’t completed the original?_

* Im not sure if they are confused, but I had to explain that we allow returns for online orders in store via the POS and terminals. They were saying since it was an ecommerce return doneat the point of sale, they believed the call should be different? This part was a bit out of my wheel house, I wanted to share this with you in case the team wants to speak to Ayden directly about this call in the case of returns where the payment was OG online. 

","11/Mar/25 10:22 AM;5c8fc1cd627d3b2d0163b7f1;[~accountid:62d82941751c4f698e03958a] this seems like an Adyen timing issue not on us.  The last bullet by Gabby, I’m not sure if we should post this to anyone internal.  Not sure there is anything we should do with this?",25/Jun/25 2:40 PM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e] did you ever get any other information from Adyen on this?  Are you still experiencing this issue?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,24/Jan/25 6:46 AM
Exchange with Return without receipt item(s) is not showing promo pending on the Sale items,JMCH-605,19718,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Elliot Thomas,60b9bbb248549e0069485164,Elliot Thomas,60b9bbb248549e0069485164,20/Jan/25 2:24 PM,08/Jul/25 1:20 PM,,,,0,,"POS: Exchange with Return without receipt item(s) is not showing promo pending on the Sale items & should

found validating PSQ- 1084

Add an item for return (without receipt).  It does not matter if that item is an item with a promo, promo pending or no promo at all. 

Navigate back to the sale screen.  Add an item that is part of a promo like a buy one get one so that the item should say PROMO PENDING.

It does not. 

Ex.

return item is on promotion (like buy one get one) as is the Sale item but it doesn’t indicate promo pending.

return item is not part of a promo and sale items is still missing promo pending info 

Also notice if you add the sale item first you see that the promo is pending

But after the return without receipt item is added it no longer appears for the sale item. 

 NOTE that the promo will be applied if the correct items are added for the sale, the associate is just not alerted that a promo is pending. Also if multiple return without receipt items that qualify for the promo are added it will apply to them (as the lowest price in last 14 days). ",,Nathan Richardson,Scott Torbert,,,5c8fc1cd627d3b2d0163b7f1,712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83,,,,,,,,,,,,,,20/Jan/25 2:24 PM;60b9bbb248549e0069485164;PSQ-1103_attachments.zip;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20060,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@470d5cb2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Logic,Reitman's Canada Limited,,,,,,,,,,,1|i00p2f:,,Report a bug,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa),,,,,,,,,,,,,,,,,,,,,,,,68:41,,,,,,,,,2025-01-21 14:42:40.537,,20/Jan/25 2:24 PM;60b9bbb248549e0069485164;[^PSQ-1103_attachments.zip],"21/Jan/25 9:42 AM;5c8fc1cd627d3b2d0163b7f1;Thanks for opening this, we have reproduced and this will be reviewed in our next planning session.",26/Feb/25 9:50 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;Moved this Jira to Development since there was a JMC Production Bug created. - [https://jumpmind.atlassian.net/browse/JMC-6658|https://jumpmind.atlassian.net/browse/JMC-6658|smart-link] ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,21/Jan/25 9:42 AM
VAT tax amount is sometimes rounded incorrectly,JMCH-602,19684,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,High,,,,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,17/Jan/25 2:19 PM,08/Jul/25 1:20 PM,,,,0,,"VAT (at least in the UK), should use the HALF_UP rounding rule, but is currently hard-coded to use the HALF_EVEN rule. 

To reproduce:

# re-personalize to the Ireland store
# start a transaction and add an item
# price override the item to 2.85 -{color:#ff5630} 20% VAT calculates to 0.475 which should round up to 0.48, but instead rounds down to 0.47{color}",,Jason Menefee,Scott Torbert,,,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@17729011,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Build-A-Bear,,,,,,,,,,,,1|i00ov3:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2025-02-26 15:14:44.961,,26/Feb/25 10:14 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;Moved this Jira to Development since there was a JMC Production Bug created. - [https://jumpmind.atlassian.net/browse/JMC-6634|https://jumpmind.atlassian.net/browse/JMC-6634|smart-link] ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,17/Jan/25 2:19 PM
Giftcards fail to load at POS while it is already loaded per Aurus and SVS,JMCH-575,19441,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Pradeep Santhanam,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a,Pradeep Santhanam,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a,02/Jan/25 10:01 AM,08/Jul/25 1:20 PM,,,,0,,"Giftcards fail to load at POS while it is already loaded per Aurus and SVS

Per Aurus:

Giftcard CLOSE TRANS RETRY logic causes issues with subsequent TransRequest / Response from Aurus and POS behavior seems to be the issue. They need to make a SDK level change which is necessary but a will be a bigger and longer lift from testing and release stand point.

But we also see an opportunity where a CLOSE TRANS Retry logic in the logs which we would like to review why it is happening and look to avoid which would also solve the issue we have. This is where we need your help with.

Attaching logs and what Aurus had to say with this ticket. 

*From Aurus*

Below are the observations and details of the behavior.

 

# The POS sent a CloseTransactionRequest to AESDK at 14:44:55,952. AESDK processed this request and sent an Approval CloseTransactionResponse to the POS at 14:44:59,401.
# 2570 milliseconds after the CloseTransactionResponse was sent to the POS, AESDK cleared the data and reset the variable. This means AESDK was expected to clear the data at approximately 14:45:01,970.
# The POS immediately sent a new TransRequest to AESDK at 14:44:59,555, just 150 milliseconds after the CloseTransactionResponse. AESDK processed this TransRequest with the CCT and Host.
# AESDK received an Approval TransResponse from the CCT and processed it at 14:45:01,958.
# Since the timestamps for the Approval TransResponse received from CCT and the data clearing after the CloseTransactionResponse match, the TransResponse received from the CCT was inadvertently cleared at the AESDK end.
# As a result, AESDK was unable to send the Approval TransResponse to the POS and instead sent a ""TIMEOUT"" response to the POS after 3 minutes.



Log Snippet:
2024-12-17 *14:44:55,952* INFO  ClCommonFunctions         22941:00720:37470866:SW0072000001 - 00086 - Request Received From POS : {""*CloseTransactionRequest*"":

2024-12-17 *14:44:59,401* INFO  ClAurusService            22941:00720:37470866:SW0072000001 - 00086 - Build response for POS : {""*CloseTransactionResponse*"":{""ECOMMInfo"":{},""POSID"":"""",""APPID"":"""",""CCTID"":"""",""ResponseCode"":""00000"",""ResponseText"":""APPROVAL""}}

2024-12-17 *14:44:59,555* INFO  ClCommonFunctions         22941:00720:37470866:SW0072000001 - 00087 - Request Received From POS : {""*TransRequest*"":

 

",,Nathan Richardson,Scott Torbert,,,5c8fc1cd627d3b2d0163b7f1,712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83,,,,,,,,,,,JMCH-795,,,02/Jan/25 1:26 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b;720-001_FIXEDlogs_12172024.zip;https://jumpmind.atlassian.net/rest/api/3/attachment/content/19577,02/Jan/25 1:26 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b;720-001_ISPlogs_12172024.zip;https://jumpmind.atlassian.net/rest/api/3/attachment/content/19576,02/Jan/25 10:01 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a;AURUS_ESDK_SM_20241217_720.zip;https://jumpmind.atlassian.net/rest/api/3/attachment/content/19571,02/Jan/25 9:58 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a;Re- Store 720 - Gift Cards failing to load properly at POS .eml;https://jumpmind.atlassian.net/rest/api/3/attachment/content/19569,02/Jan/25 9:59 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a;[EXTERNAL] Re- [External Domain] Re- Store 720 - Gift Cards failing to load properly at POS.eml;https://jumpmind.atlassian.net/rest/api/3/attachment/content/19570,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5b28d3f1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Vitamin Shoppe,,,,,,,,,,,,1|i00nmv:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,53:56,,,,,,,,,2025-01-02 17:45:03.885,,"02/Jan/25 10:01 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a;[^AURUS_ESDK_SM_20241217_720.zip]

[^Re- Store 720 - Gift Cards failing to load properly at POS .eml]

[^[EXTERNAL] Re- [External Domain] Re- Store 720 - Gift Cards failing to load properly at POS.eml]",02/Jan/25 10:02 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a;This is happening in PROD and need your assistance,"02/Jan/25 12:45 PM;5c8fc1cd627d3b2d0163b7f1;I am passing this along to our engineering team to review.

Are you able to pull the associated JMC logs as well from this time period?","02/Jan/25 1:26 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:dec375a3-d9a4-4eda-a085-fe0c9199e96b;Fixed and ISP logs from 720-001 for 12/17/2024

[^720-001_ISPlogs_12172024.zip]
[^720-001_FIXEDlogs_12172024.zip]

","06/Jan/25 2:08 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:8fedb959-46d7-4af8-8a0a-2c7e6d3a093a;@Nathan,

Any updates on this.","06/Jan/25 3:30 PM;5c8fc1cd627d3b2d0163b7f1;This issue is in our development queue to be addressed, however, other feature requests for TVS have been prioritized for our next release.",28/Jan/25 11:01 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;[https://jumpmind.atlassian.net/browse/JMC-6528|https://jumpmind.atlassian.net/browse/JMC-6528|smart-link] is ready for planning.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,02/Jan/25 10:01 AM
POS application is unable to lookup the product using UPC number when searched under Item Search Menu when UPC is under 13 digit,JMCH-570,19417,Bug,Waiting for customer,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Nathan Richardson,5c8fc1cd627d3b2d0163b7f1,manish.goyal@petco.com,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:4c8db9de-bae6-4f8f-90a0-273bff0f3e57,manish.goyal@petco.com,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:4c8db9de-bae6-4f8f-90a0-273bff0f3e57,27/Dec/24 3:16 PM,02/Jul/25 3:56 PM,,,,0,,"Petco used to append the UPCs under 13 digits with leading 0s and load those in the itm_item_id table. So, even if the actual UPC on the product is 12 or 11 digits or under, Petco used to add another record in the itm_item_id table with 13 digit UPC by appending leading 0s, along with loading the actual under 13 digit UPC. 

Recently Petco updated the METL load process and stopped loading the 13 digit UPCs. So, whatever is sent by upstream system is loaded in the database in itm_item_id table. 

Fo example, if the UPC is {{800443717523}}, Petco used to load both {{800443717523}} & {{0800443717523}} in the itm_item_id table, but recently we made a change to only load the actual {{800443717523}}.

After this change, POS is not able to pull the product using this UPC under Item Search, but it works when the UPC is scanned on the Sale cart.

Looks like the issue is in {{getQueryString}} method of {{RegexProductSearchStrategy}} class. I see there is a logic to pre-process the UPC to append the leading 0 before trying to query the database, application doesn’t do the lookup using the UPC number that was entered which is 12 digit. Earlier we used to have the 13 digit SKU with leading 0 in the DB and it used to work.

The same UPC works when scanned on Sale Cart because, there is a logic in {{FindItemEndpoint}} to lookup the item using both the leading 0 & without leading 0 UPCs. Looks like the same logic needs to be added in the {{RegexProductSearchStrategy}}.",,Nathan Richardson,,,,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,JMCH-609,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@64a029d4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Petco,,,,,,,,,,,,1|i00nif:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,70:18,,,,,,,,,2024-12-27 21:58:19.151,,"27/Dec/24 4:58 PM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:4c8db9de-bae6-4f8f-90a0-273bff0f3e57] do you have a configuration in your version that allows you to specify the min and max length?

I’ll have to get an engineer to review this in your version.","30/Dec/24 2:44 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:4c8db9de-bae6-4f8f-90a0-273bff0f3e57;Hi Nathan, Below is the config we have at Petco -

{code:yaml}item:
  # Configures an extension point to pre-process and item.  It is The name of a Spring bean
  # that implements the IItemPreprocessor interface.
  preprocessorToUse: 'defaultItemPreprocessor'
  # Configuration for the defaultItemPreprocessor
  default-item-preprocessor:
    # An indicator that the scanned or hand entered item id should be left padded to the prescribed
    # sizes prior to item lookup.   One example of when this would be used is if item data is
    # prepended by '0's in the backend systems
    leftPad:
      # Enable left padding
      enabled: true
      # Character to left pad with
      character: '0'
      # A list of sizes to left pad to.  If length is less than a size then left pad to the nearest size
      sizes:
        - 9
        - 13
      # If the left padded value is not found during item lookup, then try to use the original value
      tryOriginalIfNotFound: true{code}

","24/Jan/25 3:14 PM;5c8fc1cd627d3b2d0163b7f1;Is this a possible line that similarly needs added to the getQueryString method?
{{posItemId = possibleIds.remove(0);}}   from FindItemEndpoint - find()",02/Jul/25 3:56 PM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:4c8db9de-bae6-4f8f-90a0-273bff0f3e57] can you please confirm whether this request can be closed if it was handled by a PR created by Petco?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,27/Dec/24 3:16 PM
Interrupted transaction during payment suspended but the payment was successful 2254-02 Dec. 6,JMCH-561,19378,Bug,Acknowledged,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,Nathan Richardson,5c8fc1cd627d3b2d0163b7f1,Linda Fothergill,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c,Elliot Thomas,60b9bbb248549e0069485164,19/Dec/24 11:01 AM,09/Jul/25 11:08 AM,,,,0,,Store reported that the IPAD went to ‘loading’ during the transaction which seems to have suspended it BUT the payment transaction completed successfully in Ayden. ,,Automation for Jira,Nathan Richardson,,,557058:f58131cb-b67d-43c7-b30d-6b58d40bd077,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,19/Dec/24 11:00 AM;60b9bbb248549e0069485164;PSQ-1110_attachments.zip;https://jumpmind.atlassian.net/rest/api/3/attachment/content/19429,17/Jun/25 9:27 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250617-131340.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24874,17/Jun/25 9:27 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250617-131412.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24876,17/Jun/25 9:27 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250617-131456.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24872,17/Jun/25 9:27 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250617-131528.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24877,17/Jun/25 9:27 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250617-131703.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24873,17/Jun/25 9:27 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250617-132200.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24869,17/Jun/25 9:27 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250617-132231.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24878,17/Jun/25 9:27 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250617-132253.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24870,17/Jun/25 9:27 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250617-132410.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24879,17/Jun/25 9:27 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250617-132514.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24871,17/Jun/25 9:27 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250617-132555.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24875,19/Jun/25 9:35 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250619-133549.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24956,09/Jul/25 11:08 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250709-150645.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25909,09/Jul/25 11:08 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;image-20250709-150719.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/25910,19/Jun/25 9:35 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;jmch-561-LOGS.zip;https://jumpmind.atlassian.net/rest/api/3/attachment/content/24957,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@688c3169,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Logic,Reitman's Canada Limited,,,,,,,,,,,1|i00n9r:,,Report a bug,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa),,,,,,,,,,,,,,,,,,,,,,,,,63:54,-286:30,,,,,,,,2024-12-19 16:01:05.57,,19/Dec/24 11:01 AM;60b9bbb248549e0069485164;[^PSQ-1110_attachments.zip],"20/Dec/24 11:06 AM;5c8fc1cd627d3b2d0163b7f1;Do you have more specific details of the actions the cashier took?  

The logs have a few errors trying to get the authorization from Adyen and a ‘card data was cancelled' message.  I’m not sure why Adyen would reflect the payment was successful if we didn’t get a success back.  Was there another subsequent transaction that was rung which was the actual trans where the payment processed?",02/Jan/25 7:26 AM;5c8fc1cd627d3b2d0163b7f1;Any other updates on this ticket?  Has this ever happened again?,07/Jan/25 7:43 AM;5c8fc1cd627d3b2d0163b7f1;Adding Fabrizio and Vaishali for visibility and if there is any update on the request below.,14/Feb/25 9:25 AM;5c8fc1cd627d3b2d0163b7f1;[PSQ-1110|https://reitmans.atlassian.net/browse/PSQ-1110]  RCL ticket,14/Feb/25 9:31 AM;5c8fc1cd627d3b2d0163b7f1;Closing since this was a one time happening and there is no way to identify what happened at that moment where Adyen sent a canceled message though it didn’t apparently cancel it within Adyen.,"14/Mar/25 11:07 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;How do we get this ticket reopened as we have had 2 more occurrences of this issue.

Details for both the 2nd / 3rd occurences are on the PSQ-1110 ticket.  



Most recent is on Mar 8,2025 (logs sent to JM in email on March 14)

1198-01 sequence 6285 on Mar 8

2nd occurrence:

Device 5344-01 sequence 3597 on Feb 1.  ","14/Mar/25 11:14 AM;5c8fc1cd627d3b2d0163b7f1;Ticket has been re-opened.

Please provide a copy of the logs from the timeframe of the issues, do not filter on just a single transaction we need to see surrounding messages as well.  If you can reduce the log to maybe 15 +/- around the particular transactions that should be good.","14/Mar/25 11:18 AM;5c8fc1cd627d3b2d0163b7f1;Also, please provide as much detail from the store on what exactly happened during or at the time of that transaction.  Why did it get orphaned?  Was there a shrug?  Was there a network or power outage?  Were there issues at any of the other registers at this time?",28/May/25 1:09 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;Unfortunately our logs do not go back that far. ,"28/May/25 1:09 PM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ","17/Jun/25 9:27 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;More examples (I have asked our dev to get me some logs & will attach when I get them). 



!image-20250617-131340.png|width=1084,height=408,alt=""image-20250617-131340.png""!



!image-20250617-131412.png|width=1070,height=398,alt=""image-20250617-131412.png""!



!image-20250617-131456.png|width=1087,height=675,alt=""image-20250617-131456.png""!



!image-20250617-131528.png|width=1071,height=347,alt=""image-20250617-131528.png""!



!image-20250617-131703.png|width=1057,height=516,alt=""image-20250617-131703.png""!



!image-20250617-132231.png|width=1037,height=520,alt=""image-20250617-132231.png""!



!image-20250617-132200.png|width=1848,height=820,alt=""image-20250617-132200.png""!



!image-20250617-132253.png|width=1056,height=571,alt=""image-20250617-132253.png""!



!image-20250617-132410.png|width=1115,height=604,alt=""image-20250617-132410.png""!



!image-20250617-132514.png|width=818,height=692,alt=""image-20250617-132514.png""!



!image-20250617-132555.png|width=1079,height=555,alt=""image-20250617-132555.png""!

",19/Jun/25 8:24 AM;5c8fc1cd627d3b2d0163b7f1;Please attach the logs once you get them.,"19/Jun/25 9:35 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;logs attached

[^jmch-561-LOGS.zip]



!image-20250619-133549.png|width=1344,height=247,alt=""image-20250619-133549.png""!

","19/Jun/25 9:35 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ","03/Jul/25 3:19 PM;5c8fc1cd627d3b2d0163b7f1;So far it seems there may be an issue in your RclTenderOptionsState code where it may not be handling failures or cancels from Adyen properly.  In several of the logs I’ve looked at I’m seeing similar patterns where the auth was cancelled or failed and then the code continues and another is issued.
There are a couple that reflect the device was offline thus couldn’t connect to Adyen.

----

1045-02 trans 18 

* Card acquisition successful
* Card authorization sent and then a Cancel action happened
* Adyen responded with Null  (have to assume failed to cancel)
* another successful acquisition occurs
* follwed by successful authorization

Authorize Card Cancelled -> RclTenderOptionsState

* A 'Cancel' request was sent to Adyen and received a 'NULL' response then later another
-02:20250603:18"""",""""deviceId"""":""""1045-02"""",""""appId"""":""""pos""""},""""message"""":""""IPaymentService.cancel() adyen implementation"""",""""throwable"""":null}"",stdout,ContainerLog,""/subscriptions/6a00ba4f-ed79-4fa4-923a-6faddf160327/resourcegroups/rg-rcl-jumpmind-pr
teManager"""":""""1045-02:20250603:18"""",""""deviceId"""":""""1045-02"""",""""appId"""":""""pos""""},""""message"""":""""Message reference category was blank. We're not sure what you're cancelling. Assuming 'PAYMENT'."""",""""throwable"""":null}"",stdout,ContainerLog,""/subscriptions/6
teManager"""":""""1045-02:20250603:18"""",""""deviceId"""":""""1045-02"""",""""appId"""":""""pos""""},""""message"""":""""*Sending cancellation request to Adyen* device"""",""""throwable"""":null}"",stdout,ContainerLog,""/subscriptions/6a00ba4f-ed79-4fa4-923a-6faddf160327/resourcegroups/r
tateManager"""":""""1045-02:20250603:18"""",""""deviceId"""":""""1045-02"""",""""appId"""":""""pos""""},""""message"""":""""Terminal Address for the device: [https://10.0.102.12|https://10.0.102.12]"""",""""throwable"""":null}"",stdout,ContainerLog,""/subscriptions/6a00ba4f-ed79-4fa4-923a-6faddf160327/resour
tateManager"""":""""1045-02:20250603:18"""",""""deviceId"""":""""1045-02"""",""""appId"""":""""pos""""},""""message"""":""""Request JSON: {\""""SaleToPOIRequest\"""":{\""""MessageHeader\"""":{\""""ProtocolVersion\"""":\""""3.0\"""",\""""MessageClass\"""":\""""Service\"""",\""""MessageCategory\"""":\""*""Abort*
tateManager"""":""""1045-02:20250603:18"""",""""deviceId"""":""""1045-02"""",""""appId"""":""""pos""""},""""message"""":""""Sending cloud api sync request with client parameters: Env: {}, Endpoint: {}, Checkout endpoint: {}, TerminalApiCloudEndpoint: {}"""",""""arguments"""": [""""LIVE""
tateManager"""":""""1045-02:20250603:18"""",""""deviceId"""":""""1045-02"""",""""appId"""":""""pos""""},""""message"""":""""Response JSON: null"""",""""throwable"""":null}"",stdout,ContainerLog,""/subscriptions/6a00ba4f-ed79-4fa4-923a-6faddf160327/resourcegroups/rg-rcl-jumpmind-prod-cc/
teManager"""":""""1045-02:20250603:18"""",""""deviceId"""":""""1045-02"""",""""appId"""":""""pos""""},""""message"""":""*""Got response from Adyen device: {}*"""",""""arguments"""": [""*""null""*""],""""throwable"""":null}"",stdout,ContainerLog,""/subscriptions/6a00ba4f-ed79-4fa4-923a-6faddf160327/
anager"""":""""1045-02:20250603:18"""",""""deviceId"""":""""1045-02"""",""""appId"""":""""pos""""},""""message"""":""""Received action from {} {}\n{}"""",""""arguments"""": [""""1045-02"""",""""{\""""name\"""":\""""TenderUndetermined_Card\"""",\""""data\"""":\""""SALE_CARD\"""",\""""type\"""":\""""Screen\"""",\""""d
anager"""":""""1045-02:20250603:18"""",""""deviceId"""":""""1045-02"""",""""appId"""":""""pos""""},""""message"""":""""Received action \""""{}\"""" from self"""",""""arguments"""": [""""ShowAmountPrompt""""],""""throwable"""":null}"",stdout,ContainerLog,""/subscriptions/6a00ba4f-ed79-4fa4-923a-6fad
"""":""""1045-02:20250603:18"""",""""deviceId"""":""""1045-02"""",""""appId"""":""""pos""""},""""message"""":""""Transition from RclTenderOptionsState to TenderAmountState\n+---------------------+                  +------------------+    Substates:\r\n|                     |    

----



1045-02 trans 188 

* sent card acquisition
* received Lock Timeout
* received action AuthorizationDeclined
* got response from Adyen Failure - Cancel  (interac)
* Visa presented
* message=Timed+out+waiting+for+response+from+POI. (EventToNotify\"""":\""""Reject\"")
* Error while getting authorization"""",""""throwable"""":{""""className"""":""""java.lang.NullPointerException

Authorize Card Failed -> RclTenderOptionsState



----

1040-01 trans 133 

* Authorize Card Cancelled -> RclTenderOptionsState

* ""message=Timed+out+waiting+for+response+from+POI.\""
* ""Sending cancellation request to Adyen device""
* ""Request JSON: {\""""SaleToPOIRequest\"""":{\""""MessageHeader\"""":{\""""ProtocolVersion\"""":\""""3.0\"""",\""""MessageClass\"""":\""""Service\"""",\""""MessageCategory\"""":\""""Abort\""""
* ""Response JSON: null
* ""An event of {} was received by {}}"""",""""arguments"""": [""""DeviceDisconnectedEvent""
* ""Error received from payment service: {}"""",""""arguments"""": [""""Error while getting authorization: Cannot invoke \""""com.adyen.model.nexo.SaleToPOIResponse.getPaymentResponse()\"""" because the return value of \""""com.adyen.model.terminal.TerminalAPIResponse.getSaleToPOIResponse()\"""" is null""

Was this one because the device was not connected?

Followed by:
1040-03 trans 1310 

* looks normal valid acquisition and authorization

----

1064-03  trans 6391   Not enough log to determine, log is cut short of seeing any response

* 500 INTERNAL_SERVER_ERROR  (this is a network error)
* ""Unable to connect to {}. {}"""",""""arguments"""": [""""[https://crmextprd.reitmans.com/Nsb.CustomerRelationshipManagement.WebService.asmx|https://crmextprd.reitmans.com/Nsb.CustomerRelationshipManagement.WebService.asmx]""""
* sent card acquisition response success
* Sent card authorization but log ends before can see Adyen response



1064-03  6392
only 2 errors printer and index out of bounds, looks like the acquisition and auth both were successful

* printer error
* Index out of bounds in RclSearchCustomerEndpoint - buildCustomerModelResponse
* sent card acquisition response success
* sent card authorization response success

----

1100-02 trans 258
Not sure if the log cut short??

* sent card acquisition response success
* sent card authorization but no response seen in log

1100-02 trans 260

* sent card acquisition response success
* sent card authorization response success",09/Jul/25 10:43 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;as per the tech call July 9/25 → RCL will need support from Jumpmind to find/understand the bug and fix it (as Logic is no longer here to fix it). This is impacting customers and Finance. ,"09/Jul/25 10:43 AM;557058:f58131cb-b67d-43c7-b30d-6b58d40bd077;Moved from ""Waiting on Customer"" to ""Waiting for support"" since a customer (none Administrators and Service Desk Team role) commented on ticket. ","09/Jul/25 11:08 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c;as per July 9/25 tech call per Henry’s request adding information on another transaction where interac request sent/refused (card 1), then interac sent / successful (card 2), and 30 minutes later another request was sent for (card 2) and refused (although customer is saying they were charged twice).  

In the table we can see the last update for that txn was at 18:06 

!image-20250709-150645.png|width=468,height=230,alt=""image-20250709-150645.png""!

but we can see the 3rd request in Adyen at 18:36

!image-20250709-150719.png|width=468,height=164,alt=""image-20250709-150719.png""!

Will attach the terminal log and any POS logs as soon as I receive them from dev. ",,,,,,,,,,,,,,,,,,,,,,,In Progress,14/Mar/25 11:11 AM
Till Reconciliation Reports with multiple currencies issue,JMCH-548,19256,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Nyle Hassan,6049ca6fe19f91006957856d,Nyle Hassan,6049ca6fe19f91006957856d,09/Dec/24 4:16 PM,08/Jul/25 1:20 PM,,,,0,,"RCL reported that their US dollar transactions are not visible on Till Reconciliation Report. However, SA shows correct values (screenshots attached). 

Linda’s comments: 

h3. 
Linda Fothergill 3 hours ago

Edited

Nov 24 - as per Ejan’s comment we do now see the correct Cdn BUT I do not see the US $ anywhere so as per my comment of the 4th. the primary info should be the cdn (which it does seem to be now) but we aren’t seeing the US $ taken in now so there is still an issue in this report when there is both US & Cdn)

SA shows the amount of the US and the Cdn taken in that day from the reconcile till.

Open image-20241209-183426.png

on the Especes side I see the amount of Cdn

on the other side with ? mark I’m suspecting the 172.20 is probably the Cdn (149.45) + US (20) but the exchange was 7.99 so maybe that’s not correct. Not sure about that amount.

",,Nathan Richardson,Scott Torbert,,,5c8fc1cd627d3b2d0163b7f1,712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83,,,,,,,,,,,,,,09/Dec/24 4:15 PM;ug:123b8de3-0803-4a8f-a250-dcc19609e35a;PSQ-858 SA.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/19135,09/Dec/24 4:15 PM;ug:123b8de3-0803-4a8f-a250-dcc19609e35a;PSQ-858 Till Report 1.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/19137,09/Dec/24 4:15 PM;ug:123b8de3-0803-4a8f-a250-dcc19609e35a;PSQ-858 Till Report 2.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/19136,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@32cb8ace,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Logic,Reitman's Canada Limited,,,,,,,,,,,1|i00mlb:,,Report a bug,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa),,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2025-01-08 16:53:42.423,,"09/Dec/24 4:16 PM;6049ca6fe19f91006957856d;!PSQ-858 SA.png|thumbnail!

!PSQ-858 Till Report 1.png|thumbnail!

!PSQ-858 Till Report 2.png|thumbnail!",08/Jan/25 11:53 AM;5c8fc1cd627d3b2d0163b7f1;Targeted for -243.7- 243.8,26/Feb/25 10:17 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;Moved this Jira to Development since there was a JMC Production Bug created. - [https://jumpmind.atlassian.net/browse/JMC-6413|https://jumpmind.atlassian.net/browse/JMC-6413|smart-link] ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,09/Dec/24 4:16 PM
Gift Card | While performing load/issue Pinpad is stuck on 'Present Card',JMCH-544,19232,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,09/Dec/24 7:57 AM,08/Jul/25 1:21 PM,,,,0,,"BBW has a mix of gift cards that have barcodes and ones that have magnetic stripes, so both entry options are enabled. The issue is that is the associate quickly scans the gift card barcode, or quickly closes the scan/manual entry screen, the pin pad will be left in a “present card” / ready to swipe state requiring the customer to press cancel on the pin pad.


Steps to reproduce:

# Select Gift card from hamburger menu.
# Select Load/Issue.
# Select amount.
# The Gift card prompt opens up.
## Close the gift card prompt before the pinpad shows the ‘Present card’ screen. 
#*Results*: The GC prompt closes, but the pinpad gets stuck on the ‘Present card’ screen and the user has to manually press 'X' on the pinpad to clear it.
## Manually enter or scan GC number and hit ‘Next’ before the pinpad shows the ‘Present card’ screen.
#*Results*: The GC prompt closes, but the pinpad gets stuck on the ‘Present card’ screen and the user has to manually press 'X' on the pinpad to clear it.",,Jason Menefee,Scott Torbert,,,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@20d3e4c8,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Bath & Body Works,,,,,,,,,,,,1|i00mgf:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2025-02-26 15:17:34.531,,26/Feb/25 10:17 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;Moved this Jira to Development since there was a JMC Production Bug created. - [https://jumpmind.atlassian.net/browse/JMC-6403|https://jumpmind.atlassian.net/browse/JMC-6403|smart-link] ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,09/Dec/24 7:57 AM
JM UPE service Error Logs not capturing the right Details ,JMCH-521,19054,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Low,,,,Dhananjay Bakore,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:c6a093bd-15b6-4fdb-bc28-40e8c802375c,Dhananjay Bakore,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:c6a093bd-15b6-4fdb-bc28-40e8c802375c,20/Nov/24 12:26 PM,25/Feb/25 1:22 PM,,,,0,,"The ERROR logs in UPE service do not include the cart id and other details on why it failed. In Error cases one should always log as much as possible (as long as it doesnt infringe on PII or PCI data) 

Here is a sample error log which just logs the fact that a null pointer exception happened without any other data 

{noformat}2024-11-19T17:35:01.502821416Z stdout F {""sequenceNumber"":0,""timestamp"":1732037701502,""nanoseconds"":502670802,""level"":""ERROR"",""threadName"":""qtp1950642510-269"",""loggerName"":""org.jumpmind.pos.promotion.model.PromotionRepository"",""context"":{""name"":""default"",""birthdate"":1732003364844,""properties"":{}},""mdc"": {},""message"":""Error while querying promotions"",""throwable"":{""className"":""java.lang.NullPointerException"",""message"":""null"",""stepArray"":[]}}{noformat}


We need the following data points logged every time there is a ERROR

# Log entire request including all fields such as Cart ID. You can strip out anything that you deem PCI like email address or phone number etc 
# Include Tracing/span ids in your logs, This will help us get all the logs for any given transaction. 

",,Scott Torbert,,,,712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83,,,,,,,,,,,,,,,20/Nov/24 1:12 PM;507568fb-3b23-4306-919f-db347d286ab7;image-20241120-181213.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/18679,20/Nov/24 1:16 PM;507568fb-3b23-4306-919f-db347d286ab7;image-20241120-181640.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/18681,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@10612565,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Vitamin Shoppe,,,,,,,,,,,,1|i00lfb:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,11:13,,,,,,,,,2024-11-20 18:12:19.491,,"20/Nov/24 1:12 PM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;

!image-20241120-181213.png|width=1063,height=411,alt=""image-20241120-181213.png""!","20/Nov/24 1:16 PM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;

!image-20241120-181640.png|width=983,height=188,alt=""image-20241120-181640.png""!","20/Nov/24 2:35 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:c6a093bd-15b6-4fdb-bc28-40e8c802375c;Ironically you guys log cart id for all INFO messages, but dont log it when its an ERROR",02/Dec/24 9:12 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;Created Jira [https://jumpmind.atlassian.net/browse/JMC-6318|https://jumpmind.atlassian.net/browse/JMC-6318|smart-link] ,09/Dec/24 11:51 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;Reviewed in planning meeting - This has not been scheduled for a release due to other backlog,28/Jan/25 10:25 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;[https://jumpmind.atlassian.net/browse/JMC-6318|https://jumpmind.atlassian.net/browse/JMC-6318|smart-link] still needs to be planned,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,02/Dec/24 9:13 AM
Orpos transaction bridge performance,JMCH-510,19008,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,High,,,,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,18/Nov/24 10:27 AM,08/Jul/25 1:21 PM,,,,0,,"Is it possible to send the inserts in a single batch rather that executing them one at a time?

Note from Logic:
_Bridge SQL statements run one at a time. Since every line and every tax, tender, discount is another query, some transactions can have hundred+ queries._

_We see these kinds of transactions taking significantly longer. After investing with intellij profiler, we did not see a significant delay in the bridge code execution, therefore conclusion that batching the queries may increase speed was reached._

_Need JMC to investigate query batching for bridge publication._",,Jason Menefee,Scott Torbert,,,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@7dd4aaaa,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Bath & Body Works,,,,,,,,,,,,1|i00l5r:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2025-02-26 15:19:26.533,,26/Feb/25 10:19 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;Moved this Jira to Development since there was a JMC Production Bug created. - [https://jumpmind.atlassian.net/browse/JMC-6263|https://jumpmind.atlassian.net/browse/JMC-6263|smart-link] ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,18/Nov/24 10:27 AM
Promote - New created CAMPAIGN label is not displayed in dashboard label search dropdown.,JMCH-501,18979,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Low,,,,akshay kadam,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840,akshay kadam,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840,14/Nov/24 11:59 AM,07/Jul/25 3:03 PM,,,,0,TVS,"Build version - 243.4.2

#1 - New created label is not displayed in dashboard label search dropdown.

eg. I created a label 'AK' but I do not see that in top search label dropdown.



",,Scott Torbert,,,,712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83,,,,,,,,,,,,,,,14/Nov/24 11:59 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840;LABEL 1.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/18444,14/Nov/24 11:59 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840;LABEL 2.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/18441,14/Nov/24 11:59 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840;LABEL 3.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/18442,14/Nov/24 11:59 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840;LABEL 4.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/18443,14/Nov/24 1:30 PM;507568fb-3b23-4306-919f-db347d286ab7;image-20241114-183006.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/18451,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6426d994,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Vitamin Shoppe,,,,,,,,,,,,1|i00kzj:,,Report a bug,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:98694fb4-e549-42cc-8796-de40e24d36d0(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:98694fb4-e549-42cc-8796-de40e24d36d0),,,,,,,,,,,,,,,,,,,,,,,,,,,70:38,,,,,,,,,2024-11-14 18:21:17.51,,"14/Nov/24 11:59 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:f54da45e-31d2-4ed3-b4d4-e97ccfc0c840;!LABEL 1.png|thumbnail!

!LABEL 2.png|thumbnail!

!LABEL 3.png|thumbnail!

!LABEL 4.png|thumbnail!","14/Nov/24 1:21 PM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;I can reproduce

* Label search only is listing Promotion labels and not campaign labels
* I created [https://jumpmind.atlassian.net/browse/JMC-6246|https://jumpmind.atlassian.net/browse/JMC-6246|smart-link] ","14/Nov/24 1:30 PM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;

!image-20241114-183006.png|width=1005,height=335,alt=""image-20241114-183006.png""!","14/Nov/24 2:38 PM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;Walked through promote helpdesk ticket with Rafael on 11/14 at 2pm

* This ticket [https://jumpmind.atlassian.net/browse/JMCH-501|https://jumpmind.atlassian.net/browse/JMCH-501|smart-link] is a low priority and I also made [https://jumpmind.atlassian.net/browse/JMC-6246|https://jumpmind.atlassian.net/browse/JMC-6246|smart-link] a low priority ","02/Dec/24 2:48 PM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;Regular touch base Notes

* Created dev ticket
* These will not be addressed until early next year",28/Jan/25 10:20 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;This has not be discussed in any planning meeting,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,02/Dec/24 9:13 AM
SCPOS-459 - Selecting TAB Function key on Billing Screen is NOT taking to Zip Code field when pre-populated State field is changed,JMCH-472,18812,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,madhavi.pappu@petco.com,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:b9e7f773-53e6-4dbf-a0fc-69ea87372081,Nathan Richardson,5c8fc1cd627d3b2d0163b7f1,04/Nov/24 1:05 PM,08/Jul/25 1:21 PM,,,,0,petco,"Selecting TAB Function key on Billing Screen is NOT taking to Zip Code field when pre-populated Sate field is changed

NOTE:
Observed this issue ONLY when state field is changed
If pre-populated state field is NOT changed, System navigated to Zip Code field as expected

Please refer following details -
System shifted focus to Close option instead of Zip Code field when TAB function key is selected.

We change the form reload on the AddBillingAddressState class on the method onAnyAction, the change work on local environment.",,Nathan Richardson,Scott Torbert,,,5c8fc1cd627d3b2d0163b7f1,712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83,,,,,,,,,,,,JMCH-179,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@21af1abe,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Petco,,,,,,,,,,,,1|i00jzz:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2025-02-26 14:56:23.491,,26/Feb/25 9:56 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;[~accountid:5c8fc1cd627d3b2d0163b7f1] - Can this be moved to Development status since you linked to JMC tickets but it was not caused by link.,26/Feb/25 9:58 AM;5c8fc1cd627d3b2d0163b7f1;yes this can be moved,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,04/Nov/24 1:05 PM
"TAX amounts (State Tax, PIF, RSF) discrepancies on CO store",JMCH-449,18722,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,High,,,,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,Jason Menefee,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,29/Oct/24 1:44 PM,08/Jul/25 1:21 PM,,,,0,BBW,"We attempted to fix CO taxes with [https://jumpmind.atlassian.net/browse/JMC-3003|https://jumpmind.atlassian.net/browse/JMC-3003|smart-link], but they continue to calculated incorrectly.

!image-20241029-174421.png|width=623,height=675,alt=""image-20241029-174421.png""!",,Jason Menefee,Scott Torbert,,,712020:a783ca19-9b70-462e-9e4e-f5b4741af810,712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83,,,,,,,,,,,,,,29/Oct/24 1:44 PM;712020:a783ca19-9b70-462e-9e4e-f5b4741af810;image-20241029-174421.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/17858,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@77b93831,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Bath & Body Works,,,,,,,,,,,,1|i00jhj:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2025-02-26 15:21:44.03,,26/Feb/25 10:21 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;Moved this Jira to Development since there was a JMC Production Bug created. - [https://jumpmind.atlassian.net/browse/JMC-6076|https://jumpmind.atlassian.net/browse/JMC-6076|smart-link] ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,29/Oct/24 1:44 PM
"Add Customer - When selecting ""Pass to Customer"" POS will lock and auto log out the associate even if the customer is actively filling out their information. ",JMCH-339,17641,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Elliot Thomas,60b9bbb248549e0069485164,Elliot Thomas,60b9bbb248549e0069485164,04/Sep/24 4:53 PM,08/Jul/25 1:21 PM,,,,0,RCL,"RCL Ticket Reference -

[https://logicinfo.atlassian.net/browse/RCL-609|https://logicinfo.atlassian.net/browse/RCL-609|smart-link] 

When the associate passes the add customer form to the customer display and the customer is actively filling out their information but is taking more time than the auto lock / auto suspend configured time, POS can lock and auto log out the associate which cancels the sign up process. 

“It should be that if there is activity on either screen, there should not be any logging off of associate”",,Nathan Richardson,Scott Torbert,,,5c8fc1cd627d3b2d0163b7f1,712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@617c5a3c,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Logic,Reitman's Canada Limited,,,,,,,,,,,1|i00d2n:,,Report a bug,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa),,,,,,,,,,,,,,,,,,,,,,,,70:57,,,,,,,,,2024-09-05 13:55:26.262,,"04/Sep/24 4:55 PM;60b9bbb248549e0069485164;For clarification this is the configuration for lock screen and logout for RCL -

{noformat}screens:
  config:
    default:
      timeout: 90
  logout:
    afterScreenLock:
      timeout: 120{noformat}

","05/Sep/24 9:55 AM;5c8fc1cd627d3b2d0163b7f1;I will pass along to engineering but there is some question why the timeouts are so low, sure doesn’t seem   That would be your interim workaround to this issue, increase the timeouts.  ",26/Feb/25 10:22 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;Moved this Jira to Development since there was a JMC Production Bug created. - [https://jumpmind.atlassian.net/browse/JMC-5287|https://jumpmind.atlassian.net/browse/JMC-5287|smart-link] ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,04/Sep/24 4:53 PM
JMCH-304 - Tender options 'More Options' shows gray after applying one of the tenders from the 'More Options' menu,JMCH-304,17259,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Low,,,,Michelle McRae,557058:38a3e2b3-9b08-4ca9-8557-fa44a78024a2,Michelle McRae,557058:38a3e2b3-9b08-4ca9-8557-fa44a78024a2,08/Aug/24 11:08 AM,08/Jul/25 1:21 PM,,,,0,TVS,"We have 2 tender options under More Options - Vendor Coupon and ATH Debit. When we first get to the tender options screen, the More Options is the same color (light gray for enabled) as the rest of the tenders. If we select More Options and apply one of the tenders there as a partial tender, when we are brought back to the tender options screen the More Options is a slightly darker gray color. It is not disabled (and not the dark gray of the disabled), but a medium gray - like the ‘selected’/'pressed' button color. 

This is minor, as it doesn’t prevent you from going into the More Options menu, but it is confusing.

Attached is a picture of how it it looks after the ATH Debit tender was applied. (I have corrected the missing resource issue.)",,Nathan Richardson,Scott Torbert,,,5c8fc1cd627d3b2d0163b7f1,712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83,,,,,,,,,,,,,,08/Aug/24 11:08 AM;557058:38a3e2b3-9b08-4ca9-8557-fa44a78024a2;image-20240807-173319.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/15860,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5c0a9724,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Logic,Vitamin Shoppe,,,,,,,,,,,1|i00asz:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,46:53,,,,,,,,,2024-08-13 16:14:34.126,,08/Aug/24 11:08 AM;557058:38a3e2b3-9b08-4ca9-8557-fa44a78024a2;!image-20240807-173319.png|thumbnail!,"13/Aug/24 12:14 PM;5c8fc1cd627d3b2d0163b7f1;[~accountid:557058:38a3e2b3-9b08-4ca9-8557-fa44a78024a2] I’m going to change this to a new feature ticket type since it isn’t broken but could use enhancing for usage and present this to our PDM team, so they can review and determine what they might want to propose for the application.","13/Aug/24 12:24 PM;5c8fc1cd627d3b2d0163b7f1;Ok, re-thought this and switching it back to a bug.  Understood, Minor but doesn’t make sense to me why that would ever change to gray unless no options were available to select from any longer.","17/Sep/24 7:56 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;Reviewed on 9/16 from 3pm to 4pm, JMC-5071has been assigned to 243.4 in sprint 3 ",24/Sep/24 7:39 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;9/24 - This is targeted for 243.4 per sprint planning on 9/23,07/Oct/24 6:34 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;Development started on 10/3,21/Oct/24 1:35 PM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;Development stopped do to another priorities - This has been moved to sometime in 2025,"13/Nov/24 3:16 PM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;Updated during helpdesk ticket review meeting with Doug on 11/13 at 2:30pm

* still low","28/Jan/25 10:40 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;[https://jumpmind.atlassian.net/browse/JMC-5071|https://jumpmind.atlassian.net/browse/JMC-5071|smart-link] was started and stopped, the 243.6.0 was removed with no target release.  We put this back to Ready for planning",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,07/Oct/24 6:34 AM
JMCH-277 - RCL/558 PSQ-94 POS: entering the Order address info the user cannot tell it it trying to help with address entry as the dropdown that appears is off screen,JMCH-277,17010,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Nyle Hassan,6049ca6fe19f91006957856d,Nyle Hassan,6049ca6fe19f91006957856d,22/Jul/24 10:48 AM,08/Jul/25 1:21 PM,,,,0,RCL,"FOR_GOLIVE

priority - medium

Start a sale and add an order item

When entering the customers info (I choose to continue as a guest) and entering the Address Line 1 info it is not obvious to the user that the address verification is happening. With keyboard open and natural flow to that field the presented addresses are out of sight unless the user clicks on the window and scrolls it up. ",,Nathan Richardson,Scott Torbert,,,5c8fc1cd627d3b2d0163b7f1,712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83,,,,,,,,,,,,,,22/Jul/24 10:48 AM;ug:123b8de3-0803-4a8f-a250-dcc19609e35a;558 1.jpg;https://jumpmind.atlassian.net/rest/api/3/attachment/content/15582,22/Jul/24 10:48 AM;ug:123b8de3-0803-4a8f-a250-dcc19609e35a;558 2.jpg;https://jumpmind.atlassian.net/rest/api/3/attachment/content/15583,22/Jul/24 10:48 AM;ug:123b8de3-0803-4a8f-a250-dcc19609e35a;image-20231213-133437.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/15581,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@102e9256,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Logic,Reitman's Canada Limited,,,,,,,,,,,1|i009fv:,,Report a bug,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa),,,,,,,,,,,,,,,,,,,,,,,,-953:09,,,,,,,,,2025-01-16 16:57:17.491,,"22/Jul/24 10:48 AM;6049ca6fe19f91006957856d;!558 1.jpg|thumbnail!

!558 2.jpg|thumbnail!

!image-20231213-133437.png|thumbnail!",16/Jan/25 11:57 AM;5c8fc1cd627d3b2d0163b7f1;[~accountid:6049ca6fe19f91006957856d] can you please confirm?  This doesn’t sound like a bug rather a feature request that we will need to see if there is anything we can do about it.  ,"16/Jan/25 12:04 PM;6049ca6fe19f91006957856d;It’s logged as a defect as it doesn’t show addresses for store associate to select when entering customer information. 

Maybe a limitation of IOS but I agree this can be handled by training or informing stores about this scenario. ",26/Feb/25 10:23 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;Moved this Jira to Development since there was a JMC Production Bug created. - [https://jumpmind.atlassian.net/browse/JMC-5121|https://jumpmind.atlassian.net/browse/JMC-5121|smart-link] ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,22/Jul/24 10:48 AM
"Dark Blue Theme: Text Color Matches Background, Making It Unreadable",JMCH-262,16845,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Low,,,,Michael Klein,62e96878d49df231b6276c30,Michael Klein,62e96878d49df231b6276c30,15/Jul/24 10:18 AM,08/Jul/25 1:21 PM,,,,0,TVS,"There is a UI/styling issue with the base theme that TVS is using. Whenever the customer display undergoes the loyalty flow, the associate-facing screen is notified that the customer is undergoing a loyalty flow. This notification has some text that appears to be the same color as the background, making it unreadable. Please see the attached screenshots.

*Theme:* dark-blue-theme

*Configuration Path:*

{noformat}openpos: 
  clientConfiguration: 
    defaultConfigs: 
      theme: 
        name: dark-blue-theme{noformat}

*Version:* 241.0.13",,Nathan Richardson,Scott Torbert,,,5c8fc1cd627d3b2d0163b7f1,712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83,,,,,,,,,,,,,,15/Jul/24 9:58 AM;62e96878d49df231b6276c30;image-20240709-162333.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/15415,15/Jul/24 9:58 AM;62e96878d49df231b6276c30;image-20240709-162350.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/15414,18/Sep/24 3:33 PM;507568fb-3b23-4306-919f-db347d286ab7;image-20240918-193335.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/16707,03/Feb/25 10:14 AM;507568fb-3b23-4306-919f-db347d286ab7;image-20250203-151437.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/20551,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@77313624,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Logic,Vitamin Shoppe,,,,,,,,,,,1|i008jf:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,66:32,,,,,,,,,2024-07-15 19:45:29.337,,"15/Jul/24 10:18 AM;62e96878d49df231b6276c30;!image-20240709-162333.png|thumbnail!

!image-20240709-162350.png|thumbnail!",15/Jul/24 3:45 PM;5c8fc1cd627d3b2d0163b7f1;Thanks [~accountid:62e96878d49df231b6276c30]  this has been passed along to the developers.,"18/Sep/24 3:33 PM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;Per TVS POS Tracker on 9/18 - This is a low priority with target around early 2025



!image-20240918-193335.png|width=2208,height=220,alt=""image-20240918-193335.png""!



 ",24/Sep/24 7:24 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;Added [https://jumpmind.atlassian.net/browse/JMC-4768|https://jumpmind.atlassian.net/browse/JMC-4768|smart-link] to 251.0,"13/Nov/24 3:22 PM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;Updated during helpdesk ticket review meeting with Doug on 11/13 at 2:30pm

* Keep low and pending
* this is in 251.0.0 in UI changes",28/Jan/25 10:37 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;[https://jumpmind.atlassian.net/browse/JMC-4768|https://jumpmind.atlassian.net/browse/JMC-4768|smart-link] this is targeted for 251.0.0 per meeting with Doug on 11/13,"03/Feb/25 10:14 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;Ann’s research on [https://jumpmind.atlassian.net/browse/JMC-4768|https://jumpmind.atlassian.net/browse/JMC-4768|smart-link] 



!image-20250203-151437.png|width=1048,height=237,alt=""image-20250203-151437.png""!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,15/Oct/24 11:11 AM
PSQ-176 (RCL-1057) Return Item count on right list does not match actual return item count in basket,JMCH-248,16706,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Low,,,,Kenneth Cox,557058:e0699cf2-a066-4688-8d84-28caaddb9db3,Kenneth Cox,557058:e0699cf2-a066-4688-8d84-28caaddb9db3,01/Jul/24 2:50 PM,08/Jul/25 1:21 PM,,,,0,RCL,"POS: Ecomm Returns - when a line has a qty > 1 and added to return with qty > 1 the # of articles /items is not correct in the txn overview on the right hand side.

NOTE: should not affect store order returns or regular sales thru jumpmind as there is no ability to have a qty > 1 on those txns.

Ex. 55052784 - 2 SKUs on the original order 1 with a qty of 2. Both items added to the return for full qty

In screen shot below you will notice the receipt on the left knows there are 3 items, each item knows how many itms there are but on the right side it indicates 2 items returned but there are 3.

Luckily the receipt when it prints correctly indicates 3 items


_UPDATE FROM LOGIC_
The issue seems to be in the ReturnsHomeState → update totals method. It looks to be counting the retail line items in the transaction but not taking into account if 1 line has quantity that is greater than 1. So if you have 1 line with quantity of 2 that you are returning it still shows as only returning 1 item. ",,Nathan Richardson,Scott Torbert,,,5c8fc1cd627d3b2d0163b7f1,712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83,,,,,,,,,,,,,,01/Jul/24 2:48 PM;557058:e0699cf2-a066-4688-8d84-28caaddb9db3;RCL-1057.PNG;https://jumpmind.atlassian.net/rest/api/3/attachment/content/15272,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@44c1aa26,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Logic,Reitman's Canada Limited,,,,,,,,,,,1|i007qj:,,Report a bug,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa),,,,,,,,,,,,,,,,,,,,,,,,68:53,,,,,,,,,2024-07-02 13:56:46.948,,01/Jul/24 2:50 PM;557058:e0699cf2-a066-4688-8d84-28caaddb9db3;!RCL-1057.PNG|thumbnail!,"02/Jul/24 9:56 AM;5c8fc1cd627d3b2d0163b7f1;[~accountid:557058:e0699cf2-a066-4688-8d84-28caaddb9db3] I renamed this Jira to clarify what it is about, looks like it might have been a copy paste from another ticket related to split tenders…",26/Feb/25 10:24 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;[~accountid:5c8fc1cd627d3b2d0163b7f1] - can this be closed since DEV ticket is in Archive?,26/Feb/25 10:35 AM;5c8fc1cd627d3b2d0163b7f1;I would say no since this is a valid bug.  The only reason it went to archive is because the Dev team moved tickets that didn’t have any recent updates on them.  I wanted to ask about this one because why would we ‘archive’ an actual bug??,26/Feb/25 10:58 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;[~accountid:5c8fc1cd627d3b2d0163b7f1] - Can I moved to the status of Development?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,01/Jul/24 2:50 PM
User Permissions: Refund - Cash refund for role less than manager level receiving msgs requiring manager override when the message/override is not required,JMCH-227,16345,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Elliot Thomas,60b9bbb248549e0069485164,Elliot Thomas,60b9bbb248549e0069485164,12/Jun/24 9:33 AM,08/Jul/25 1:21 PM,,,,0,RCL,"RCL Ticket Reference -[https://logicinfo.atlassian.net/browse/RCL-913|https://logicinfo.atlassian.net/browse/RCL-913|smart-link] 

_RCL Description -_

Any user whose role has permission to do a refund can refund CASH (Manager, PT Associate, Stock/Visual).  

The Manager role can refund > = the amount originally tendered in Cash (> could apply in a split tender sale).  

PT Associate, Stock/Visual can refund up to the amount originally tendered on the sale txn with no manager role level intervention required BUT CURRENTLY a message indicating that manager intervention is required is appearing.  A  message I*S REQUIRED* if PT Associate or Stock/Visual role level associate attempts to refund an amount that is greater than what was originally tendered in CASH *OR* if they attempt to refund CASH (should it be an available tender choice) when cash was not originally tendered.


*-Ex. 1-*

*-Sale txn 1:  Customer purchased item(s) paying the transaction in full in CASH or US Cash-*

-Users with- +-manager (role) level permission-+ -can refund the full cash portion with the no issues / messages.-

-Users with a role of PT Associate or Stock/Visual (-+-less than manager (role) level permission)-+ -are allowed to refund the full cash portion-  +*-BUT CURRENTLY-*+ -are seeing a message requiring manager level intervention.  This message should not appear in this situation.-  

*-Ex. 2-*

*-Sale Txn 2:  Customer purchased item(s) paying a portion with for example Gift Card and the balance in CASH or US Cash.-*

-Users with- +-manager (role) level permission-+ -can refund the cash portion = tendered cash portion with the no issues / messages appearing. (Ex. Sale txn 2 is $20.00, $5 tendered in GC, $15 in Cash →   Managers can refund $15.00 in cash.)-

-Users with a role of PT Associate or Stock/Visual (-+-less than manager (role) level permission)-+ -are allowed to refund the cash portion = tendered cash portion-  +*-BUT CURRENTLY-*+ -are seeing a message requiring manager level intervention.  This message should not appear in this situation.  (Ex. Sale Txn 2 is $20.00, $5 tendered in GC, $15 in Cash → PT Associate or Stock/Visual can refund $15 in cash.)-

*Ex. 3*

*Sale Txn 3: Customer purchased item(s) paying a portion with for example Gift Card and the balance in CASH or US Cash.*

Users with +manager (role) level permission+ can refund the cash portion > tendered cash portion with the no issues / messages appearing.  (Ex. Sale is $15.00, $10 tendered in GC, $5 in Cash →  Managers can refund up to the $15.00 in cash.)

Users with a role of PT Associate or Stock/Visual (+less than manager (role) level permission)+ SHOULD NOT BE ALLOWED to refund the cash portion > tendered cash portion.  +This is a situation where they should see a message that manager (role) level permission is required+ - *BUT the message as currently presented is misleading*.  CASH was an original tender on the sale in this example and RCL does not have a threshold of $10.00 more than the portion paid by cash before the message should appear.  If we use the example of Sale Txn 3 (Sale is $15.00, $10 tendered in GC, $5 in Cash → As soon as the PT Associate or Stock/Visual user tries to refund more than $5.00 in Cash the message should appear referencing that they are attempting to refund an amount greater than the amount originally tendered in cash and need a manager to override.  

*Ex. 4*

*Sale Txn 4: Customer purchased item(s) paying in tender(s) that DO NOT INCLUDE Cash or US Cash.* 

If a situation exists where a user with +manager (role) level permission+ can refund cash (instead of the tender(s) used in the sale) no message is required. This level of user can do that refund in Cash. 

If a situation exists where a user with a role of PT Associate or Stock/Visual (+less than manager (role) level permission)+  attempts to refund cash (instead of the tender(s) used in the sale) this is a situation where they should see the message that manager level permission is required because cash was not an original tender and this is regardless of what cash amount they are trying to refund (no $10.00 threshold). 

_Last update from RCL -_

{color:#ff5630}*Issues in Ex. 1&2 are good now*{color}{color:#ff5630}.{color}{color:#ff5630} *Issues in Ex. 3&4 for below Mgr level are not resolved. They can refund more than the cash paid without having to get a mgr override.*{color}

_Logic Testing -_

The permission {{return.receipted.tender.past.threshold}} was added for each user but does not handle Ex 3 & Ex. 4. From testing in Commerce Base using user 2222 that does not have this permission, if a sale is tendered in cash, then a receipted return is performed for an amount greater than the base {{REQUIRE_PERMISSION_THRESHOLD}} of 10.00, a prompt is shown - “_The chosen tender CASH is not an original tender of the return items and therefore has a threshold of 10.00. Tendering more than this threshold amount requires additional privileges. Would you like to proceed with a Manager Override?”_

The current prompt is misleading as the original tender was cash. Wouldn’t the expected behavior be to enforce the REQUIRE_PERMISSION_THRESHOLD if attempting to refund a tender that was more than the configured amount and also wasn’t an original tender?

Tender return policy data attached. ",,Nathan Richardson,Scott Torbert,,,5c8fc1cd627d3b2d0163b7f1,712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83,,,,,,,,,,,,,JMCH-228,12/Jun/24 8:54 AM;60b9bbb248549e0069485164;RCL-913_attachments.zip;https://jumpmind.atlassian.net/rest/api/3/attachment/content/14619,12/Jun/24 9:08 AM;60b9bbb248549e0069485164;sls_tender_rtn_policy.csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/14620,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@f178778,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Logic,Reitman's Canada Limited,,,,,,,,,,,1|i005s3:,,Report a bug,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa),,,,,,,,,,,,,,,,,,,,,,,,72:00,,,,,,,,,2024-06-12 18:16:10.013,,"12/Jun/24 9:33 AM;60b9bbb248549e0069485164;[^RCL-913_attachments.zip]

[^sls_tender_rtn_policy.csv]","12/Jun/24 2:16 PM;5c8fc1cd627d3b2d0163b7f1;[~accountid:60b9bbb248549e0069485164] is the whole request of this issue in the wording on the manager override popup message where it says something like ‘“_The chosen tender CASH is not an original tender…_’?

Can you please confirm if this is true and functionally the POS is working as designed or expected?","12/Jun/24 5:11 PM;60b9bbb248549e0069485164;My understanding of the expected behavior of this permission was that {{REQUIRE_PERMISSION_THRESHOLD}} would apply to how much more than what was originally tendered can a user go over without that permission. It does not recognize that the chosen tender was an original tender in any scenario I tested. 

Example 3 and 4 goes into a bit more detail. 

Let me know if you need anything else on this. ","13/Jun/24 9:23 AM;5c8fc1cd627d3b2d0163b7f1;[~accountid:60b9bbb248549e0069485164] that field is actually saying the max amount they are allowed to return without higher permission not an ‘over’ amount.

{noformat}REQUIRE_PERMISSION_THRESHOLD		DECIMAL	12,3	The maximum allowed amount before permission is required{noformat}","13/Jun/24 9:27 AM;5c8fc1cd627d3b2d0163b7f1;What is stated in this ticket looks to be an enhancement request to be able to handle those special scenarios.  Other than the verbiage doesn’t make sense to say tender not original when it really was, which I think is just the canned message.","13/Jun/24 9:58 AM;5c8fc1cd627d3b2d0163b7f1;You should be able to update the verbiage to remove the comment about ‘not original tender’ but we do have a ticket on our board but it will be low priority.

{noformat}override.message.return.receipted.tender.past.threshold = The chosen tender {0} is not an original tender of the return items and therefore has a threshold of {1}. Tendering more than this threshold amount requires additional privileges. Would you like to proceed with a Manager Override?{noformat}",26/Feb/25 10:25 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;Moved this Jira to Development since there was a JMC Production Bug created. - [https://jumpmind.atlassian.net/browse/JMC-4391|https://jumpmind.atlassian.net/browse/JMC-4391|smart-link] ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,12/Jun/24 9:33 AM
Review tabbing order between cells (related to orders),JMCH-179,15699,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Kenneth Cox,557058:e0699cf2-a066-4688-8d84-28caaddb9db3,Nathan Richardson,5c8fc1cd627d3b2d0163b7f1,06/May/24 4:57 PM,08/Jul/25 1:21 PM,,,,0,RCL,"Review the tabbing order when entering billing or shipping info on orders.

From a client, two scenarios:

When creating a store order and selecting “CONTINUE AS GUEST”, I use the TAB key to go through the fields on the billing address form. After selecting province I press the TAB key and it returns me to the First name field where I have to use the tab key to get back to the Postal Code field (or I can use the scroll bar). The system should allow the tab key to move to the next field without issue. This also happens during the Shipping address form as well


Order Customer Billing Info/Shipping Info form tabbing is awkward going to dropdown fields
Start a sale and add an order item.
Two tabbing flows - one using the keyboard tab button the other using the down arrow at the top right of 
the keyboard. Tab key is better as it doesn’t seem to get disabled. it is awkward for dropdowns you lose the keyboard and ability to tab to the next field. Arrow key disables when next field is dropdown.
Can this be a better user experience?

+*Flow 1 (tab button)*+

Billing;

* Enter First Name
* click tab (brought to Last Name)
* Enter last name
* click tab (brought to Email)
* Enter (or not) email
* click tab (brought to Phone Number)
* Enter (or not) Phone Number
* click tab (brought to Address Line 1)
* Enter Address Line 1
* click tab (hard to tell but you are brought to Country & the keyboard disappears)
* Select Country - CANADA (possible when US is removed this will be auto populated and perhaps tab sequence will skip?)
* you are unable to hit tab as the keyboard is gone - you have to click in either Address Line 2 or City.
* Enter (or not) Address Line 2
* click tab (brought to City)
* Enter City
* click tab (hard to tell but you are brought to Province & the keyboard disappears)
* Select Province
* you are unable to hit tab as the keyboard is gone - you have to click in Postal Code
* Enter Postal Code
* click tab (hard to tell but brought to Use as Shipping Address)
* Leave unchecked & click Next

Shipping:

* Enter Attention
* click tab (brought to Address Line 1)
* Enter Address Line 1
* click tab which it’s hard to tell but brought me to country (even though it was defaulted to Canada & has to be)
* you are unable to hit tab as the keyboard is gone - you have to click in Address Line 2 (or City)
* Enter (or not) Address Line 2
* click tab (brought to City)
* Enter City
* click tab (hard to tell but you are brought to Province & the keyboard disappears)
* Select province
* you are unable to hit tab as the keyboard is gone - you have to click in Postal Code
* Enter Postal code, click Next

+*Flow 2 arrow keys top left*+

Billing:

* Enter First Name
* click down arrow (brought to Last Name)
* Enter last name
* click down arrow (brought to email)
* Enter (or not) email
* click down arrow (brought to Phone Number)
* Enter (or not) Phone Number
* click down arrow (brought to Address Line 1)
* Enter Address Line 1
* click down arrow (it’s disabled and on IPAD you cannot see what the next field is. You have to either click in the form (& keyboard disappears) & drag it up to see next fields OR click the tab (which while hard to tell brings you to Country)
* Select Country - CANADA (possible when US is removed this will be auto populated and down arrow sequence will skip?)
* you are unable to hit down arrow as the keyboard is gone - you have to click in either Address Line 2 or City.
* Enter (or not) Address Line 2 - the down arrow still seems to be disabled so can’t be used to go to City.
* click down arrow (brought to City) OR click in City
* Enter City
* click down arrow - it’s disabled and on IPAD you cannot see what the next field is. You have to either click in the form (& keyboard disappears) & drag it up to see next fields OR click the tab (which while hard to tell brings you to province)
* Select Province
* you are unable to hit down arrow as the keyboard is gone - you have to click in Postal Code
* Enter Postal Code
* click down arrow - it’s disabled but you can see Use as shipping address so you could just check the box
* Leave unchecked & click Next

Shipping:

* Enter Attention
* click down arrow (brought to Address Line 1)
* Enter Address Line 1
* click down arrow (skipped Country as it was defaulted to Canada even though US still in the dropdown & taken to Address Line 2
* Enter (or not) Address Line 2
* click down arrow (brought to City)
* Enter City
* click down arrow - it’s disabled and on IPAD you cannot see what the next field is. You have to either click in the form (& keyboard disappears) & drag it up to see next fields OR click the tab (which while hard to tell brings you to province)
* Select province
* you are unable to hit arrow keys as the keyboard is gone - you have to click in Postal Code",,Nathan Richardson,Scott Torbert,,,5c8fc1cd627d3b2d0163b7f1,712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83,,,,,,,,,,,JMCH-472,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@61d2ecf1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Logic,Reitman's Canada Limited,,,,,,,,,,,1|i0022v:,,Report a bug,English,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:52798e02-f583-40c5-964d-d71e34c5febf),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:5d793036-667a-4bf9-8692-8b3846f669d0),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:39d0baac-a5e9-46d0-8842-d462ab6cc03c),qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa(qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:41982bb8-9230-436f-9ab4-07119c50ecfa),,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2025-02-26 15:25:53.272,,26/Feb/25 10:25 AM;712020:e559f345-10b2-4354-82f0-bb2ee2eb0d83;Moved this Jira to Development since there was a JMC Production Bug created. - [https://jumpmind.atlassian.net/browse/JMC-2846|https://jumpmind.atlassian.net/browse/JMC-2846|smart-link] ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress,06/May/24 4:57 PM
TPS Lab Bug - Shipping Fee Cannot be Discount or Waved,JMCH-46,13929,Bug,Development,JMCH,JMC Helpdesk,service_desk,Chris Henson,557058:34075fa5-d069-4d28-8c5d-3d797d2142d2,,Medium,,,,Gabrielle Capozzi,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e,Gabrielle Capozzi,qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e,11/Jan/24 2:44 PM,08/Jul/25 1:21 PM,,,,0,TPS,"When adding shipping to a customer’s delivery order, there is no way to discount or ‘wave’ the price of that line item. We do not have these items marked as non-discountable. Please see the steps below: 

# Create a delivery transaction. 
# Choose a shipping method after hitting payment. 
# There is no way to go ‘back’ and discount or discount from this screen. 

There are times where we need to wave the shipping cost for upset customers. 

We also need to “hide” the other shipping options. We would only like standard shipping to be the option for an in store delivery transaction. 



We did not open a ticket with Logic. Please let us know if we need to do so.

",,Nathan Richardson,,,,5c8fc1cd627d3b2d0163b7f1,,,,,,,,,,,,,,,20/Feb/24 9:57 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;Shipping Discount in Promote 1.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/12612,20/Feb/24 9:57 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;Shipping Issue 3.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/12611,20/Feb/24 9:57 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;Shipping Issue Promote 2.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/12610,26/Feb/24 12:30 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;_select_from_itm_item_where_item_id_HANDLING_STANDARD_select_fro_202402261229-1708968593744.csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/12688,26/Feb/24 12:30 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;_select_from_itm_item_where_item_id_HANDLING_STANDARD_select_fro_202402261229.csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/12686,26/Feb/24 12:30 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;_select_from_itm_item_where_item_id_HANDLING_STANDARD_select_fro_202402261230.csv;https://jumpmind.atlassian.net/rest/api/3/attachment/content/12687,01/Jul/24 10:10 AM;16a6376e-3b2c-4da1-b2a5-07f13d3baf03;image-20240701-125231.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/15263,01/Jul/24 10:10 AM;16a6376e-3b2c-4da1-b2a5-07f13d3baf03;image-20240701-130256.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/15265,01/Jul/24 10:10 AM;16a6376e-3b2c-4da1-b2a5-07f13d3baf03;image-20240701-131030.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/15262,01/Jul/24 10:10 AM;16a6376e-3b2c-4da1-b2a5-07f13d3baf03;image-20240701-131652.png;https://jumpmind.atlassian.net/rest/api/3/attachment/content/15264,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@28cb48a,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Makira,The Paper Store,,,,,,,,,,,1|hzzsdb:,,Report a bug,English,,,,,,,,,,,,,,,,,,,,,,,,,,,,-277:26,,,,,,,,,2024-01-19 20:41:36.149,,"19/Jan/24 3:41 PM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e] A couple options that were presented to me in this case is:
1. You could set up an extra shipping option that is $0.00 which would allow the cashier to select this option
2. You could add promotions that either give free shipping or possibly 50% off shipping, the cashier would then go back and have to key in the corresponding promotion item to give that discount.

I will also add a ticket to our system for our pdm team to review and see if there are other ideas on how to modify the application to provide this capability differently.","24/Jan/24 3:02 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;Nathan, I’ll check out the promotion route here and see if we can make it happen. The other issue is there are certain Customer Service cases where the store will override the shipping to accommodate the customer - having the manual override in that case is important. 

Id be curious if the promotion will work because the item is chosen after checking “check out”. I’ll test and report back what I find.","20/Feb/24 9:24 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;Nathan, We tried a promotion here and it does not work. no type of promotion on shipping works. Do you need anything to help here? Should I sent the information to the promote team? ",20/Feb/24 9:35 AM;5c8fc1cd627d3b2d0163b7f1;Can you explain specifically what you did?  Did you add a new qualification item that associates to the shipping discount and then when checking out the cashier goes back and enters that id into the basket?,"20/Feb/24 9:44 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;Nathan - here is how we had it set up, both with and without a coupon to test in the QA environment

!file:///C:/Users/GABRIE~1.CAP/AppData/Local/Temp/msohtmlclip1/01/clip_image001.png|thumbnail!

!file:///C:/Users/GABRIE~1.CAP/AppData/Local/Temp/msohtmlclip1/01/clip_image001.png|thumbnail!

!file:///C:/Users/GABRIE~1.CAP/AppData/Local/Temp/msohtmlclip1/01/clip_image001.png|thumbnail!

!file:///C:/Users/GABRIE~1.CAP/AppData/Local/Temp/msohtmlclip1/01/clip_image001.png|thumbnail!

!file:///C:/Users/GABRIE~1.CAP/AppData/Local/Temp/msohtmlclip1/01/clip_image001.png|thumbnail!

!file:///C:/Users/GABRIE~1.CAP/AppData/Local/Temp/msohtmlclip1/01/clip_image001.png|thumbnail!

!file:///C:/Users/GABRIE~1.CAP/AppData/Local/Temp/msohtmlclip1/01/clip_image001.png|thumbnail!

!file:///C:/Users/GABRIE~1.CAP/AppData/Local/Temp/msohtmlclip1/01/clip_image001.png|thumbnail!

!file:///C:/Users/GABRIE~1.CAP/AppData/Local/Temp/msohtmlclip1/01/clip_image001.png|thumbnail!

!file:///C:/Users/GABRIE~1.CAP/AppData/Local/Temp/msohtmlclip1/01/clip_image001.png|thumbnail!

","20/Feb/24 9:57 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;Nathan - 

Not sure if the images aren’t loading for you, here they are again

!Shipping Issue Promote 2.png|width=583,height=497!

!Shipping Discount in Promote 1.png|width=569,height=488!

!Shipping Issue 3.png|width=1271,height=290!

","20/Feb/24 10:15 AM;5c8fc1cd627d3b2d0163b7f1;Can you send screen prints of the pos when you add the item(s) to the basket?

Also, if you could send the results of the following sql:

{noformat}select * from itm_item where item_id = 'HANDLING_STANDARD';
select * from itm_assigned_item where item_id = 'HANDLING_STANDARD';
select * from itm_selling_price where item_id = 'HANDLING_STANDARD';
select * from itm_selling_rule where item_id = 'HANDLING_STANDARD';
select * from itm_item_id where item_id = 'HANDLING_STANDARD';
select * from prm_assigned_promotion where promotion_id in (select promotion_id from prm_qualification  where qualification_id in (select qualification_id from prm_qualification_item where qualification_merchandise_id = 'HANDLING_STANDARD'));
select * from prm_promotion where promotion_id in (select promotion_id from prm_qualification  where qualification_id in (select qualification_id from prm_qualification_item where qualification_merchandise_id = 'HANDLING_STANDARD'));
select * from prm_qualification where qualification_id in (select qualification_id from prm_qualification_item where qualification_merchandise_id = 'HANDLING_STANDARD');
select * from prm_qualification_item where qualification_merchandise_id = 'HANDLING_STANDARD';
select * from prm_reward where promotion_id in (select promotion_id from prm_qualification  where qualification_id in (select qualification_id from prm_qualification_item where qualification_merchandise_id = 'HANDLING_STANDARD'));
select * from prm_reward_item where reward_id in (select reward_id from prm_reward where promotion_id in (select promotion_id from prm_qualification  where qualification_id in (select qualification_id from prm_qualification_item where qualification_merchandise_id = 'HANDLING_STANDARD')));{noformat}",26/Feb/24 12:23 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;Nathan - will get these both to you today ,"26/Feb/24 12:30 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;Nathan, attached are the tables from the QRY’s above. I only provided ones with data, the other tables populated with nothing. The promotion may be ended, I’ll have to take a look. Do you need the promotion to be active for running these QRY’s?



[^_select_from_itm_item_where_item_id_HANDLING_STANDARD_select_fro_202402261229.csv]
[^_select_from_itm_item_where_item_id_HANDLING_STANDARD_select_fro_202402261230.csv]
[^_select_from_itm_item_where_item_id_HANDLING_STANDARD_select_fro_202402261229-1708968593744.csv]



The POS doesn’t say anything and just doesn’t apply the discount at check out. ","28/Feb/24 9:55 AM;5c8fc1cd627d3b2d0163b7f1;Sorry for the delayed response.  Yes, if you can set up the whole scenario again, ie. have the promo active, then dump the data corresponding to the prior request.  There has to be data in the prm tables in order for the discount to be available.","18/Mar/24 7:26 AM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e], following up on tickets.  I know you’ve been busy, are you able to set this scenario up again and retest, taking screen shots as items are added to the basket then provide the data from the sql mentioned in a previous comment?","25/Jun/24 11:20 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;Nathan - apologies for the delay. I will reset up and get you data 

","01/Jul/24 10:10 AM;5c8fc1cd627d3b2d0163b7f1;[~accountid:qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e] does the following look like it would satisfy what you would like for this scenario:

Process

||*Process*||*Mock*||
|# When creating an order and displaying the *Choose Shipping Options* screen, refer to [WaiverShippingFee]
## If FALSE, the option does not show in the screen and the use case ends
## If TRUE, proceed to Step 2|+*Parameter set to FALSE, not changes to the screen*+
!image-20240701-131030.png|width=50%,alt=""image-20240701-131030.png""!|
|# From the *Choose Shipping Options* screen, the associate select *Waiver Shipping Fee*|+*Parameter set to TRUE, Waiver Shipping Fee is available*+
!image-20240701-125231.png|width=50%,alt=""image-20240701-125231.png""!|
|# Determine associate level
## If the logged in associate is a Manager, proceed to Step 6
## If the logged in associate is lower the Manager, proceed to Step 4| |
|# Present the existing *Manager Override* dialog
# The associate takes an option
## NO - The dialog closes and returns to the previous screen. The use case ends
## YES - The associate obtains the required override
### This is existing process|!image-20240701-130256.png|width=394,height=164,alt=""image-20240701-130256.png""!|
|# If override is obtained, the Shipping Amount is displayed as 0.00 and order continues as normal. This use case ends.|!image-20240701-131652.png|width=50%,alt=""image-20240701-131652.png""!|","30/Jul/24 2:19 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;I think this would work great! Does this discount the shipping item in the JSON when completed? 

Also - we would like the ability to waive shipping based on the amount of the transaction - is there a way to configure the pop up to only display if the transaction total before taxes is XX?","13/Aug/24 8:11 AM;5c8fc1cd627d3b2d0163b7f1;We are updating the details with your additional feedback.  One question back to you, is it the TOTAL TRANSACTION AMOUNT or just the SHIPPING TRANSACTION AMOUNT? For instance, if I am only shipping a $3.00 item, but I am also purchasing $50 of misc stuff, is that what you are talking about…or do we need to be shipping a certain amount?",28/Aug/24 10:08 AM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;Should be the shipping amount and not the cash/carry items for the free shipping!,28/Oct/24 3:00 PM;qm:d8936ec3-5736-46a1-a0a2-e185d8b412c9:7e0c7256-f5a2-4ad8-9651-29542048334e;@nathan - will this be ready for testing in V243? ,28/Oct/24 3:34 PM;5c8fc1cd627d3b2d0163b7f1;It does not look like it is ready in 243 yet.,,,,,,,,,,,,,,,,,,,,,,,,In Progress,29/Aug/24 2:41 PM
